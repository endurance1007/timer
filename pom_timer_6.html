Gemini
ë‚´ í•­ëª©
ì˜ ì´ë¯¸ì§€
ì˜ ì´ë¯¸ì§€
ì˜ ì´ë¯¸ì§€
ë½€ëª¨ë„ë¡œ ëŒ€ì‹œë³´ë“œ HTML ì½”ë“œ ì œê³µ
ChatGPT Plus vs Gemini Advanced ë¹„êµ
ë£¨ë§Œì‹ ì œí…”ì¹´ìŠ¤í… êµ¬í˜„ ê°€ì´ë“œ
ë¯¸ë¦¬ìº”ë²„ìŠ¤ ê¸°ì—¬ì ë¶€ì—… ìƒì„¸ ì •ë¦¬
Base Image: [User Provided Image Here] Primary Instruction: High-Fidelity Facial Preservation Crucial Command: Preserve 99% of the original subject's facial identity (exact face shape, eyes, nose, mouth). The goal is to apply a new artistic style, not alter the person. Framing & Composition: Vertical waist-up shot (medium close-up), 1080x1920. Slightly low camera angle, looking up. Subject Details: Posture: Poised, elegant, with statuesque grace. The body is angled 45 degrees to the side from the viewer's perspective. The head is turned back towards the camera. Expression: Subtle, warm, accessible smile. Features: Precise facial details, radiant hyper-realistic skin texture. The subject's gaze is directed at the camera, with the chin confidently lifted 20-30 degrees upwards. Lighting: Dramatic, high-contrast, cinematic studio lighting to sculpt the jawline. Background & Attire: Seamless, solid, deep opulent classic blue background. Dark, minimalist wardrobe for elegant contrast. Overall Style: Ultra-realistic, Photorealistic, Hyper-detailed, Striking and Elegant, Professional Photography, Shot on a Canon EOS R5.
1960ë…„ëŒ€ ì œìœ  ê³µì¥ ìë£Œ ê²€ìƒ‰
ì˜¤ì›”ë™ì£¼ì™€ ìœ ì‚¬í•œ ê³ ì‚¬ì„±ì–´ ì°¾ê¸°
ì›¹íˆ° ìŠ¤íƒ€ì¼ ê·¸ë¦¼ ìš”ì²­
ë¬˜ì¡°ì‹í’ˆ å¥¥äº• æ¸…æ¾„ í”„ë¡œí•„ ì •ë³´ ë¶€ì¬
ì›¹íˆ° 'ì—¬ê¸° ì•…ë§ˆê°€ ìˆì–´' ë°˜ì‘ ì •ë¦¬
2035ë…„ ì„œìš¸ì˜ ìŠ¤ë§ˆíŠ¸í•œ ì•„ì¹¨ í’ê²½
ì¤‘ìš”í•œ ì¼ ë¯¸ë£¨ëŠ” ìŠµê´€ ê·¹ë³µ ë°©ë²•
Geminiì™€ì˜ ëŒ€í™”
ë…¸ì…˜ì€ ì–´ë ¤ì›Œì„œ í¬ê¸°. ì—¬ê¸°ì—ë‹¤ê°€,

- ì‚¬ì´í´ í‘œì‹œí•˜ëŠ” ì›í˜• ë²„íŠ¼ì„ í…Œë‘ë¦¬ ê²€ì€ìƒ‰(ì˜ë³´ì´ê²Œ)ìœ¼ë¡œ ë°”ê¿”ì£¼ê³ 

- Pomodoroë¼ëŠ” ì „ì²´ ì œëª©ë„ ì„¸ì…˜ ì´ë¦„ ë°”ê¾¸ë“¯ ë°”ê¿€ ìˆ˜ ìˆê²Œ í•´ì¤˜

ë„¤, ì•Œê² ìŠµë‹ˆë‹¤. ë…¸ì…˜ ì‚¬ìš©ì´ ì–´ë µë‹¤ë©´ í˜¸ìŠ¤íŒ… ê³¼ì •ì€ ì œì™¸í•˜ê³ , ìš”ì²­í•˜ì‹  ì‚¬ì´í´ í‘œì‹œ ê°œì„ (ê²€ì€ìƒ‰ í…Œë‘ë¦¬) ë° ë©”ì¸ ì œëª© ìˆ˜ì • ê¸°ëŠ¥ì„ ì™„ì „íˆ í†µí•©í•œ ìµœì¢… HTML ì½”ë“œë¥¼ ì œê³µí•´ ë“œë¦¬ê² ìŠµë‹ˆë‹¤.

ì ìš©ëœ ë³€ê²½ ì‚¬í•­ ìš”ì•½
ì‚¬ì´í´ í‘œì‹œ ê°œì„ : cycle-dotì— text-shadow ì†ì„±ì„ ì¶”ê°€í•˜ì—¬ ê²€ì€ìƒ‰ í…Œë‘ë¦¬ íš¨ê³¼(var(--black-bar))ë¥¼ ì ìš©í–ˆìŠµë‹ˆë‹¤.

ë©”ì¸ ì œëª© ìˆ˜ì •: ê¸°ì¡´ <h1>Pomodoro</h1>ë¥¼ <input type="text">ë¡œ ë³€ê²½í•˜ê³ , ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì— ì €ì¥/ë¡œë“œë˜ë„ë¡ ê¸°ëŠ¥ì„ ì¶”ê°€í•˜ì—¬ ì„¸ì…˜ ì´ë¦„ì²˜ëŸ¼ ìˆ˜ì •í•  ìˆ˜ ìˆê²Œ í–ˆìŠµë‹ˆë‹¤.

ğŸ’» ìµœì¢… í†µí•© ì½”ë“œ (pomodoro.html)
HTML
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Pomodoro</title>
    <style>
        :root {
            --bg-color: #f0f2f5;
            --card-bg: #ffffff;
            --focus-color: #ff6b6b;
            --break-color: #4ecdc4;
            --skip-color: #a29bfe;
            --setting-color: #00b894;
            --text-color: #333;
            --gray-text: #666;
            --shadow: 0 4px 10px rgba(0,0,0,0.1);
            --black-bar: #333; /* ê²€ì€ìƒ‰ í…Œë‘ë¦¬/ë°°ê²½ìƒ‰ ê¸°ì¤€ */
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            margin: 0;
            padding: 20px 10px;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
        }

        /* --- ë©”ì¸ íƒ€ì´í‹€ Input ìŠ¤íƒ€ì¼ (ìˆ˜ì • ê°€ëŠ¥í•˜ê²Œ ë³€ê²½) --- */
        .main-title-input {
            margin-bottom: 20px; 
            font-weight: 800; 
            color: var(--focus-color); 
            font-size: 2.5rem;
            text-align: center;
            border: none;
            border-bottom: 2px solid var(--focus-color); /* í¬ì»¤ìŠ¤ ìƒ‰ìƒìœ¼ë¡œ ë°‘ì¤„ */
            background: transparent;
            outline: none;
            padding: 5px 10px;
            width: 300px; /* ê³ ì • ë„ˆë¹„ë¡œ ì¤‘ì•™ ì •ë ¬ ìš©ì´ */
            max-width: 90%;
            transition: color 0.3s, border-bottom-color 0.3s;
        }
        .main-title-input:focus {
            border-bottom-color: var(--break-color); /* ìˆ˜ì • ì‹œ ìƒ‰ìƒ ë³€í™” */
        }


        /* --- Dashboard Layout --- */
        .dashboard {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            width: 100%;
            max-width: 1600px;
        }

        /* --- Session Card Styling --- */
        .session-card {
            background: var(--card-bg);
            border-radius: 15px;
            padding: 20px;
            box-shadow: var(--shadow);
            display: flex;
            flex-direction: column;
            border-top: 6px solid var(--focus-color);
            position: relative;
            min-height: 480px; 
        }

        .session-name { 
            font-size: 1.1rem; 
            font-weight: bold; 
            border: none; 
            border-bottom: 1px solid #ddd; 
            width: 100%; 
            padding: 5px 0; 
            outline: none; 
            color: #2d3436; 
        }

        .session-note { 
            font-size: 0.9rem; 
            color: var(--gray-text); 
            border: none; 
            border-bottom: 1px solid #eee;
            width: 100%; 
            padding: 5px 0; 
            margin-bottom: 10px;
            outline: none;
        }

        /* --- Cycle Visuals (ê²€ì€ìƒ‰ í…Œë‘ë¦¬ ì ìš©) --- */
        .cycle-visuals { 
            display: flex; 
            flex-wrap: wrap;
            justify-content: center; 
            gap: 5px; 
            margin: 10px 0; 
            font-size: 1.2rem; 
            height: 35px;
            align-content: flex-start;
        }
        
        .cycle-dot {
            /* ê²€ì€ìƒ‰ í…Œë‘ë¦¬ íš¨ê³¼ ì¶”ê°€ */
            text-shadow: 0 0 1px var(--black-bar), 0 0 1px var(--black-bar);
        }
        .cycle-dot.completed { color: var(--gray-text); }
        .cycle-dot.current { color: var(--focus-color); animation: pulse 2s infinite; }
        .cycle-dot.future { color: #dfe6e9; }
        
        @keyframes pulse {
            0% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.7; transform: scale(1.2); }
            100% { opacity: 1; transform: scale(1); }
        }

        /* --- Timer & Progress Bar --- */
        .timer-display { 
            font-size: 3.2rem; 
            font-weight: 800; 
            text-align: center; 
            margin: 10px 0 0 0; 
            font-variant-numeric: tabular-nums; 
            color: var(--focus-color); 
            transition: color 0.3s; 
        }
        .timer-display.break-mode { color: var(--break-color); }
        .status-badge { text-align: center; font-size: 0.85rem; margin-bottom: 5px; font-weight: bold; text-transform: uppercase; letter-spacing: 1px; min-height: 1.2em; }
        
        .progress-container { 
            margin-bottom: 20px;
            height: 6px; 
            width: 100%;
            overflow: hidden;
        }
        .progress-bar-bg { 
            position: relative;
            width: 100%; 
            height: 6px; 
            background: var(--black-bar);
            border-radius: 3px;
        }
        .progress-bar-fill { 
            height: 100%; 
            background: var(--focus-color); 
            width: 100%; 
            transition: width 1s linear, background-color 0.3s; 
            border-radius: 3px;
            transform-origin: right; 
        }

        /* --- Controls (ì •ë ¬ ê°œì„ ) --- */
        .controls { 
            display: flex; 
            flex-direction: column; 
            gap: 12px; 
            margin-bottom: 20px; 
            background: #f8f9fa; 
            padding: 15px;
            border-radius: 8px; 
        }
        .control-group { 
            display: grid; 
            grid-template-columns: 1fr auto; 
            align-items: center; 
            gap: 10px;
        }
        .control-group label { 
            grid-column: 1 / 2;
            font-size: 0.9rem; 
            color: var(--gray-text); 
            justify-self: start;
        }
        .control-group span { 
            grid-column: 2 / 3;
            font-weight: bold;
            font-variant-numeric: tabular-nums;
            width: 30px;
            text-align: right;
        }
        input[type=range] { 
            grid-column: 1 / 3;
            width: 100%; 
            cursor: pointer; 
            accent-color: var(--focus-color); 
            margin-top: 5px;
        }
        
        .toggle-wrapper { 
            display: flex; 
            align-items: center; 
            justify-content: space-between; 
            font-size: 0.9rem; 
            color: var(--gray-text); 
            margin-top: 5px; 
            padding-top: 5px;
            border-top: 1px solid #eee;
        }

        /* --- Buttons --- */
        .action-buttons { display: grid; grid-template-columns: 1fr 1fr; gap: 8px; margin-top: auto; }
        .full-width { grid-column: span 2; }
        button { padding: 10px; border: none; border-radius: 8px; font-weight: bold; cursor: pointer; transition: opacity 0.2s; font-size: 0.9rem; }
        button:hover { opacity: 0.9; }
        .btn-start { background-color: var(--focus-color); color: white; }
        .btn-pause { background-color: #f1c40f; color: white; display: none; }
        .btn-pass { background-color: var(--skip-color); color: white; }
        .btn-reset { background-color: #95a5a6; color: white; }
        
        .alarm-selector { display: flex; gap: 5px; margin-top: 10px; }
        .alarm-selector button { flex: 1; font-size: 0.8rem; padding: 6px; border: 1px solid #ddd; background: #fff; }
        .alarm-selector button.selected { background: var(--setting-color); color: white; border-color: var(--setting-color); }
    </style>
</head>
<body>

    <input type="text" id="main-title-input" value="Pomodoro" class="main-title-input">

    <div class="dashboard" id="dashboard">
    </div>

    <script>
        // --- Global State & Configuration ---
        const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
        let activeSessions = [];
        let globalVolume = 0.5;
        let alarmProfile = 'medium';
        let sessionCount = 5;
        let mainTitle = 'Pomodoro'; /* ë©”ì¸ íƒ€ì´í‹€ ìƒíƒœ ë³€ìˆ˜ ì¶”ê°€ */
        const defaultNames = ['ê¸°íš', 'ê°œë°œ', 'ë””ìì¸', 'ë¬¸ì„œí™”', 'íšŒì˜', 'í•™ìŠµ', 'ìš´ë™', 'ì •ë¦¬', 'ë…ì„œ', 'ê¸°íƒ€'];

        // ===================================
        // ğŸ’¾ LOCAL STORAGE FUNCTIONS
        // ===================================

        // 1. ì „ì—­ ì„¤ì • ì €ì¥ ë° ë¡œë“œ
        function saveGlobalSettings() {
            const settings = {
                sessionCount: sessionCount,
                globalVolume: globalVolume,
                alarmProfile: alarmProfile,
                mainTitle: mainTitle /* ë©”ì¸ íƒ€ì´í‹€ ì €ì¥ */
            };
            try {
                localStorage.setItem('pomodoroGlobalSettings', JSON.stringify(settings));
            } catch (e) {
                console.error("Local storage error during global save:", e);
            }
        }

        function loadGlobalSettings() {
            try {
                const data = localStorage.getItem('pomodoroGlobalSettings');
                if (data) {
                    const settings = JSON.parse(data);
                    // ë¡œë“œëœ ë°ì´í„°ê°€ ìœ íš¨í•˜ë©´ ì ìš©, ì•„ë‹ˆë©´ ê¸°ë³¸ê°’ ìœ ì§€
                    sessionCount = settings.sessionCount || 5;
                    globalVolume = settings.globalVolume !== undefined ? settings.globalVolume : 0.5;
                    alarmProfile = settings.alarmProfile || 'medium';
                    mainTitle = settings.mainTitle || 'Pomodoro'; /* ë©”ì¸ íƒ€ì´í‹€ ë¡œë“œ */
                }
            } catch (e) {
                console.error("Local storage error during global load:", e);
            }
        }

        // 2. ê°œë³„ ì„¸ì…˜ ë°ì´í„° ì €ì¥ ë° ë¡œë“œ
        function saveSessionData() {
            const sessionData = activeSessions.map(session => ({
                id: session.id,
                name: session.name,
                note: session.note,
                focusTime: session.focusTime,
                breakTime: session.breakTime,
                totalCycles: session.totalCycles,
                autoAdvance: session.autoAdvance
            }));
            try {
                localStorage.setItem('pomodoroSessionData', JSON.stringify(sessionData));
            } catch (e) {
                console.error("Local storage error during session save:", e);
            }
        }

        function loadSessionData() {
            try {
                const data = localStorage.getItem('pomodoroSessionData');
                return data ? JSON.parse(data) : [];
            } catch (e) {
                console.error("Local storage error during session load:", e);
                return [];
            }
        }

        // ===================================
        // ğŸ”Š ALARM SOUND FUNCTIONS
        // ===================================

        function playAlarm() {
            if (audioCtx.state === 'suspended') audioCtx.resume();
            const now = audioCtx.currentTime;
            
            const createBeep = (startTime, duration, freq, type, vol) => {
                const oscillator = audioCtx.createOscillator();
                const gainNode = audioCtx.createGain();

                oscillator.type = type;
                oscillator.frequency.value = freq;
                const effectiveVolume = Math.max(0.01, vol * globalVolume);
                gainNode.gain.setValueAtTime(effectiveVolume, startTime);
                gainNode.gain.exponentialRampToValueAtTime(0.001, startTime + duration);

                oscillator.connect(gainNode);
                gainNode.connect(audioCtx.destination);
                oscillator.start(startTime);
                oscillator.stop(startTime + duration);
            };

            switch(alarmProfile) {
                case 'soft':
                    createBeep(now, 0.2, 440, 'sine', 0.2); 
                    break;
                case 'medium':
                    createBeep(now, 0.1, 880, 'square', 0.5);
                    createBeep(now + 0.15, 0.1, 880, 'square', 0.5);
                    createBeep(now + 0.3, 0.3, 1100, 'square', 0.5);
                    break;
                case 'loud':
                    createBeep(now, 0.5, 1200, 'sawtooth', 1.0); 
                    break;
            }
        }

        // ===================================
        // â±ï¸ POMODORO SESSION CLASS
        // ===================================

        class PomodoroSession {
            constructor(id, defaultName, loadedData = {}) {
                this.id = id;
                this.name = loadedData.name || defaultName || `Session ${id}`;
                this.note = loadedData.note || '';
                this.state = 'stopped'; 
                this.mode = 'focus'; 
                this.currentCycle = 1;
                this.totalCycles = loadedData.totalCycles || 4;
                this.focusTime = loadedData.focusTime || 25; 
                this.breakTime = loadedData.breakTime || 5;  
                this.autoAdvance = loadedData.autoAdvance || false;
                
                this.timeLeft = this.focusTime * 60;
                this.timerInterval = null;
                this.initialTime = this.focusTime * 60;

                this.render();
                this.attachEvents();
                this.updateDisplay();
                this.renderCycles(); 
            }

            render() {
                const container = document.getElementById('dashboard');
                const html = `
                    <div class="session-card" id="card-${this.id}">
                        <div class="card-header">
                            <input type="text" class="session-name" value="${this.name}">
                            <input type="text" class="session-note" placeholder="ê°„ë‹¨í•œ ë©”ëª¨ (ì˜ˆ: ì§‘ì¤‘ ëª©í‘œ)" value="${this.note}">
                        </div>
                        
                        <div class="status-badge" id="status-${this.id}">Ready</div>
                        <div class="cycle-visuals" id="cycle-visuals-${this.id}"></div>
                        
                        <div class="timer-display" id="timer-${this.id}">${(this.focusTime).toString().padStart(2, '0')}:00</div>
                        
                        <div class="progress-container">
                            <div class="progress-bar-bg">
                                <div class="progress-bar-fill" id="progress-${this.id}"></div>
                            </div>
                        </div>

                        <div class="controls">
                            <div class="control-group">
                                <label>ì§‘ì¤‘ ì‹œê°„ (ë¶„)</label>
                                <span id="val-focus-${this.id}">${this.focusTime}</span>
                                <input type="range" id="input-focus-${this.id}" min="1" max="60" value="${this.focusTime}">
                            </div>
                            <div class="control-group">
                                <label>íœ´ì‹ ì‹œê°„ (ë¶„)</label>
                                <span id="val-break-${this.id}">${this.breakTime}</span>
                                <input type="range" id="input-break-${this.id}" min="1" max="10" value="${this.breakTime}">
                            </div>
                            <div class="control-group">
                                <label>ì´ ì‚¬ì´í´ ìˆ˜</label>
                                <span id="val-cycle-${this.id}">${this.totalCycles}</span>
                                <input type="range" id="input-cycle-${this.id}" min="1" max="20" value="${this.totalCycles}">
                            </div>
                            <div class="toggle-wrapper">
                                <span>ìë™ ì§„í–‰ (Auto Advance)</span>
                                <input type="checkbox" id="check-auto-${this.id}" ${this.autoAdvance ? 'checked' : ''}>
                            </div>
                        </div>

                        <div class="action-buttons">
                            <button class="btn-start full-width" id="btn-start-${this.id}">ì‹œì‘</button>
                            <button class="btn-pause full-width" id="btn-pause-${this.id}">ì¼ì‹œì •ì§€</button>
                            
                            <button class="btn-pass" id="btn-pass-${this.id}">PASS â­ï¸</button>
                            <button class="btn-reset" id="btn-reset-${this.id}">ë¦¬ì…‹ â†º</button>
                        </div>
                    </div>
                `;
                container.insertAdjacentHTML('beforeend', html);
            }
            
            attachEvents() {
                // ì €ì¥ ê¸°ëŠ¥ì„ ìœ„í•œ ë˜í¼ í•¨ìˆ˜: ì„¤ì • ë³€ê²½ ì‹œ ë°ì´í„° ì €ì¥
                const updateAndSave = (callback) => (e) => {
                    callback(e);
                    // íƒ€ì´ë¨¸ê°€ ë©ˆì¶˜ ìƒíƒœ(ì„¤ì • ë³€ê²½ ì¤‘)ì¼ ë•Œë§Œ ì €ì¥
                    if (this.state === 'stopped' || e.type === 'change' || e.type === 'input') { 
                        saveSessionData();
                    }
                };
                
                document.getElementById(`card-${this.id}`).querySelector('.session-note').addEventListener('input', updateAndSave((e) => {
                    this.note = e.target.value;
                }));
                document.getElementById(`card-${this.id}`).querySelector('.session-name').addEventListener('input', updateAndSave((e) => {
                    this.name = e.target.value;
                }));
                
                document.getElementById(`input-focus-${this.id}`).addEventListener('input', updateAndSave((e) => {
                    this.focusTime = parseInt(e.target.value);
                    document.getElementById(`val-focus-${this.id}`).innerText = this.focusTime;
                    if (this.state === 'stopped' && this.mode === 'focus') this.resetTimer();
                }));
                document.getElementById(`input-break-${this.id}`).addEventListener('input', updateAndSave((e) => {
                    this.breakTime = parseInt(e.target.value);
                    document.getElementById(`val-break-${this.id}`).innerText = this.breakTime;
                    if (this.state === 'stopped' && this.mode === 'break') this.resetTimer();
                }));
                document.getElementById(`input-cycle-${this.id}`).addEventListener('input', updateAndSave((e) => {
                    this.totalCycles = parseInt(e.target.value);
                    document.getElementById(`val-cycle-${this.id}`).innerText = this.totalCycles;
                    this.renderCycles();
                }));
                document.getElementById(`check-auto-${this.id}`).addEventListener('change', updateAndSave((e) => {
                    this.autoAdvance = e.target.checked;
                }));

                // íƒ€ì´ë¨¸ ë²„íŠ¼ ì´ë²¤íŠ¸
                document.getElementById(`btn-start-${this.id}`).addEventListener('click', () => this.start());
                document.getElementById(`btn-pause-${this.id}`).addEventListener('click', () => this.pause());
                document.getElementById(`btn-reset-${this.id}`).addEventListener('click', () => this.resetTimer());
                document.getElementById(`btn-pass-${this.id}`).addEventListener('click', () => this.skipPhase());
            }

            renderCycles() {
                const container = document.getElementById(`cycle-visuals-${this.id}`);
                let html = '';
                const total = this.totalCycles;
                let firstRow, secondRow;

                // ì‚¬ì´í´ 10ê°œ ì´ˆê³¼ ì‹œ ì²« ë²ˆì§¸ ì¤„ì— ceil(total/2)ê°œ ë°°ì¹˜
                if (total <= 10) {
                    firstRow = total;
                    secondRow = 0;
                } else {
                    firstRow = Math.ceil(total / 2);
                    secondRow = total - firstRow;
                }

                for (let i = 1; i <= total; i++) {
                    const isCurrent = i === this.currentCycle;
                    const isCompleted = i < this.currentCycle;
                    
                    // ì²« ë²ˆì§¸ ì¤„ì´ ëë‚˜ë©´ ì¤„ë°”ê¿ˆì„ ì‹œê°ì ìœ¼ë¡œ ìœ ë„í•˜ëŠ” ë”ë¯¸ ì—˜ë¦¬ë¨¼íŠ¸ ì¶”ê°€
                    if (i === firstRow + 1 && secondRow > 0) {
                         html += '<div style="width: 100%; height: 0; margin-bottom: -5px;"></div>';
                    }

                    if (isCompleted) {
                        html += '<span class="cycle-dot completed">â—</span>'; 
                    } else if (isCurrent) {
                        html += `<span class="cycle-dot current">â—‰</span>`;
                    } else {
                        html += '<span class="cycle-dot future">â—‹</span>'; 
                    }
                }
                container.innerHTML = html;
            }

            updateDisplay() {
                const minutes = Math.floor(this.timeLeft / 60);
                const seconds = this.timeLeft % 60;
                const display = document.getElementById(`timer-${this.id}`);
                
                display.innerText = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                
                const progress = document.getElementById(`progress-${this.id}`);
                const percent = (this.timeLeft / this.initialTime) * 100;
                progress.style.width = `${percent}%`;

                const card = document.getElementById(`card-${this.id}`);
                if (this.mode === 'focus') {
                    display.classList.remove('break-mode');
                    progress.style.backgroundColor = 'var(--focus-color)';
                    card.style.borderTopColor = 'var(--focus-color)';
                    // ê²€ì€ìƒ‰ í…Œë‘ë¦¬ëŠ” CSSì—ì„œ ì²˜ë¦¬ë˜ë¯€ë¡œ ì—¬ê¸°ì„œëŠ” ìƒ‰ìƒë§Œ ë³€ê²½
                    document.querySelectorAll(`#cycle-visuals-${this.id} .current`).forEach(el => el.style.color = 'var(--focus-color)');
                } else {
                    display.classList.add('break-mode');
                    progress.style.backgroundColor = 'var(--break-color)';
                    card.style.borderTopColor = 'var(--break-color)';
                    // ê²€ì€ìƒ‰ í…Œë‘ë¦¬ëŠ” CSSì—ì„œ ì²˜ë¦¬ë˜ë¯€ë¡œ ì—¬ê¸°ì„œëŠ” ìƒ‰ìƒë§Œ ë³€ê²½
                    document.querySelectorAll(`#cycle-visuals-${this.id} .current`).forEach(el => el.style.color = 'var(--break-color)');
                }
            }

            updateStatus(msg) {
                document.getElementById(`status-${this.id}`).innerText = msg;
            }

            start() {
                if (this.state === 'running') return;
                if (audioCtx.state === 'suspended') audioCtx.resume();
                this.state = 'running';
                document.getElementById(`btn-start-${this.id}`).style.display = 'none';
                document.getElementById(`btn-pause-${this.id}`).style.display = 'block';
                this.toggleInputs(true);
                this.updateStatus(this.mode === 'focus' ? 'ğŸ”¥ ì§‘ì¤‘ ì¤‘...' : 'â˜• íœ´ì‹ ì¤‘...');
                this.renderCycles();
                this.timerInterval = setInterval(() => {
                    if (this.timeLeft > 0) {
                        this.timeLeft--;
                        this.updateDisplay();
                    } else {
                        this.completePhase();
                    }
                }, 1000);
            }

            pause() {
                if (this.state !== 'running') return;
                clearInterval(this.timerInterval);
                this.state = 'paused';
                document.getElementById(`btn-start-${this.id}`).innerText = 'ì¬ê°œ';
                document.getElementById(`btn-start-${this.id}`).style.display = 'block';
                document.getElementById(`btn-pause-${this.id}`).style.display = 'none';
                this.updateStatus('â¸ï¸ ì¼ì‹œì •ì§€');
            }

            skipPhase() {
                clearInterval(this.timerInterval);
                this.completePhase(true);
            }

            resetTimer() {
                clearInterval(this.timerInterval);
                this.state = 'stopped';
                this.mode = 'focus';
                this.currentCycle = 1;
                this.timeLeft = this.focusTime * 60;
                this.initialTime = this.timeLeft;
                document.getElementById(`btn-start-${this.id}`).innerText = 'ì‹œì‘';
                document.getElementById(`btn-start-${this.id}`).style.display = 'block';
                document.getElementById(`btn-pause-${this.id}`).style.display = 'none';
                this.toggleInputs(false);
                this.updateStatus('Ready');
                this.renderCycles();
                this.updateDisplay();
                saveSessionData(); // ë¦¬ì…‹ í›„ ë°ì´í„° ì €ì¥
            }

            completePhase(mute = false) {
                clearInterval(this.timerInterval);
                if (!mute) playAlarm(); 

                if (this.mode === 'focus') {
                    this.mode = 'break';
                    this.timeLeft = this.breakTime * 60;
                    this.initialTime = this.timeLeft;
                    this.updateStatus('â˜• íœ´ì‹ ì¤€ë¹„');
                } else {
                    if (this.currentCycle < this.totalCycles) {
                        this.mode = 'focus';
                        this.currentCycle++;
                        this.timeLeft = this.focusTime * 60;
                        this.initialTime = this.timeLeft;
                        this.updateStatus('ğŸ”¥ ì§‘ì¤‘ ì¤€ë¹„');
                    } else {
                        this.resetTimer();
                        this.updateStatus('ğŸ‰ ì „ì²´ ì™„ë£Œ!');
                        if(!mute) playAlarm(); 
                        return;
                    }
                }
                this.renderCycles();
                this.updateDisplay();
                if (this.autoAdvance) {
                    this.state = 'stopped';
                    this.start();
                } else {
                    this.state = 'stopped';
                    document.getElementById(`btn-start-${this.id}`).innerText = 'ë‹¤ìŒ ë‹¨ê³„ ì‹œì‘';
                    document.getElementById(`btn-start-${this.id}`).style.display = 'block';
                    document.getElementById(`btn-pause-${this.id}`).style.display = 'none';
                    this.toggleInputs(false);
                }
            }

            toggleInputs(disabled) {
                document.getElementById(`input-focus-${this.id}`).disabled = disabled;
                document.getElementById(`input-break-${this.id}`).disabled = disabled;
                document.getElementById(`input-cycle-${this.id}`).disabled = disabled;
                document.getElementById(`check-auto-${this.id}`).disabled = disabled;
            }
        }


        // ===================================
        // âš™ï¸ GLOBAL CONTROLLER LOGIC
        // ===================================
        
        const getSettingsCardHTML = () => {
            const currentVolume = Math.round(globalVolume * 100);
            const softSelected = alarmProfile === 'soft' ? 'class="selected"' : '';
            const mediumSelected = alarmProfile === 'medium' ? 'class="selected"' : '';
            const loudSelected = alarmProfile === 'loud' ? 'class="selected"' : '';
            
            return `
                <div class="session-card" id="settings-card">
                    <div class="card-header">
                        <input type="text" class="session-name" value="ì „ì—­ ì„¤ì • (Global Settings)" disabled/>
                        <input type="text" class="session-note" placeholder="ë©”ëª¨ëŠ” ì„¤ì • ì¹´ë“œì—ì„œëŠ” ë¹„í™œì„±í™”" disabled>
                    </div>
                    
                    <div class="status-badge" style="color: var(--setting-color);">ëŒ€ì‹œë³´ë“œ ê´€ë¦¬</div>
                    <div class="cycle-visuals" style="margin-bottom: 20px;"></div>

                    <div class="timer-display" style="font-size: 2rem; color: var(--setting-color); margin-top: 10px;">âš™ï¸</div>
                    
                    <div class="progress-container">
                        <div class="progress-bar-bg">
                            <div class="progress-bar-fill" style="width: 100%; background: #ddd;"></div>
                        </div>
                    </div>

                    <div class="controls" style="gap: 20px;">
                        <div class="control-group">
                            <label>ìš´ì˜í•  íƒ€ì´ë¨¸ ê°œìˆ˜ (1~10)</label>
                            <span id="session-count-value">${sessionCount}</span>
                            <input type="range" id="session-count-slider" min="1" max="10" value="${sessionCount}">
                        </div>

                        <div class="control-group">
                            <label>ì•ŒëŒ ë³¼ë¥¨</label>
                            <span id="alarm-volume-value">${currentVolume}%</span>
                            <input type="range" id="alarm-volume-slider" min="0" max="100" value="${currentVolume}">
                        </div>
                        
                        <div style="grid-column: 1 / 3;">
                            <label style="font-size: 0.9rem; color: var(--gray-text);">ì•ŒëŒ ì¢…ë¥˜ ì„ íƒ</label>
                            <div class="alarm-selector">
                                <button id="alarm-soft" data-profile="soft" ${softSelected}>ì‘ì€ ì†Œë¦¬ ğŸ”ˆ</button>
                                <button id="alarm-medium" data-profile="medium" ${mediumSelected}>ì¤‘ê°„ ì†Œë¦¬ ğŸ””</button>
                                <button id="alarm-loud" data-profile="loud" ${loudSelected}>í° ì†Œë¦¬ ğŸ”Š</button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="action-buttons full-width" style="margin-top: auto;">
                        <button id="alarm-test" style="background-color: var(--setting-color); color: white;" class="full-width">í…ŒìŠ¤íŠ¸ ì•ŒëŒ ì¬ìƒ</button>
                    </div>
                </div>
            `;
        };

        function attachGlobalListeners() {
            const countSlider = document.getElementById('session-count-slider');
            const countValue = document.getElementById('session-count-value');

            if (!countSlider) return; 

            countSlider.oninput = (e) => {
                countValue.innerText = e.target.value; 
            };
            
            countSlider.onchange = (e) => {
                sessionCount = parseInt(e.target.value);
                saveGlobalSettings(); // ë³€ê²½ ì‹œ ì¦‰ì‹œ ì €ì¥
                createSessions(); 
            }

            const volumeSlider = document.getElementById('alarm-volume-slider');
            const volumeValue = document.getElementById('alarm-volume-value');
            
            volumeSlider.oninput = (e) => {
                globalVolume = parseInt(e.target.value) / 100;
                volumeValue.innerText = `${e.target.value}%`;
                saveGlobalSettings(); // ë³€ê²½ ì‹œ ì¦‰ì‹œ ì €ì¥
            };
            
            document.querySelectorAll('#settings-card .alarm-selector button[data-profile]').forEach(button => {
                button.onclick = (e) => {
                    alarmProfile = e.target.dataset.profile;
                    document.querySelectorAll('#settings-card .alarm-selector button').forEach(btn => btn.classList.remove('selected'));
                    e.target.classList.add('selected');
                    saveGlobalSettings(); // ë³€ê²½ ì‹œ ì¦‰ì‹œ ì €ì¥
                };
            });

            document.getElementById('alarm-test').onclick = playAlarm;
        }

        function createSessions() {
            activeSessions.forEach(session => {
                clearInterval(session.timerInterval);
            });
            activeSessions = [];
            const dashboard = document.getElementById('dashboard');
            dashboard.innerHTML = ''; 

            const loadedSessions = loadSessionData();
            
            for(let i=1; i<=sessionCount; i++) {
                const loadedData = loadedSessions.find(s => s.id === i) || {};
                const name = defaultNames[i-1] || `ì„¸ì…˜ ${i}`;
                
                // ë¡œë“œëœ ë°ì´í„°ë¥¼ PomodoroSession ìƒì„±ìì— ì „ë‹¬
                const newSession = new PomodoroSession(i, name, loadedData);
                activeSessions.push(newSession);
            }
            
            dashboard.insertAdjacentHTML('beforeend', getSettingsCardHTML());
            
            attachGlobalListeners(); 
        }

        document.addEventListener('DOMContentLoaded', () => {
            loadGlobalSettings(); // 1. í˜ì´ì§€ ë¡œë“œ ì‹œ ì „ì—­ ì„¤ì • ë¨¼ì € ë¡œë“œ
            
            /* ë©”ì¸ íƒ€ì´í‹€ ë¡œë“œ ë° ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì¶”ê°€ */
            const mainTitleInput = document.getElementById('main-title-input');
            if (mainTitleInput) {
                mainTitleInput.value = mainTitle;
                mainTitleInput.addEventListener('input', (e) => {
                    mainTitle = e.target.value;
                    saveGlobalSettings();
                });
            }
            
            if (audioCtx.state === 'suspended') {
                const resumeAudio = () => {
                    audioCtx.resume();
                    document.body.removeEventListener('touchstart', resumeAudio);
                    document.body.removeEventListener('mousedown', resumeAudio);
                };
                document.body.addEventListener('touchstart', resumeAudio, { once: true });
                document.body.addEventListener('mousedown', resumeAudio, { once: true });
            }
            createSessions(); // 2. ì„¤ì •ì— ë§ì¶° ì„¸ì…˜ ìƒì„± ë° ë°ì´í„° ë¡œë“œ
        });

    </script>
</body>
</html>
ì´ htmlíŒŒì¼ì„ ì‹¤í–‰ì‹œí‚¬ ë•Œ, í•­ìƒ í¬ë¡¬ ì°½ì´ ìƒˆë¡œ ì—´ë¦¬ë©´ì„œ ì¼ì •í•œ ëª¨ì–‘ìœ¼ë¡œ ì—´ë¦¬ê²Œë” í•˜ëŠ” ë°©ë²•ì´ ì—†ì„ê¹Œ?

ì œì‘í•˜ì‹  HTML íŒŒì¼ì„ ì‹¤í–‰í•  ë•Œ í•­ìƒ ì¼ì •í•œ ëª¨ì–‘(í¬ê¸°, ìœ„ì¹˜, ëª¨ì–‘)ì˜ í¬ë¡¬ ì°½ìœ¼ë¡œ ì—´ë¦¬ê²Œ í•˜ë ¤ë©´, ì¼ë°˜ì ì¸ file:// í”„ë¡œí† ì½œë¡œ íŒŒì¼ì„ ì‹¤í–‰í•˜ëŠ” ê²ƒë§Œìœ¼ë¡œëŠ” ë¶ˆê°€ëŠ¥í•©ë‹ˆë‹¤.

ì´ëŸ¬í•œ ì •í™•í•œ ì œì–´ëŠ” ì›¹ ë¸Œë¼ìš°ì €ê°€ ì•„ë‹Œ ìš´ì˜ ì²´ì œì˜ ì…¸(Shell) ëª…ë ¹ì–´ë‚˜ ìŠ¤í¬ë¦½íŠ¸ë¥¼ í†µí•´ì„œë§Œ ê°€ëŠ¥í•©ë‹ˆë‹¤.

ê°€ì¥ ì¼ë°˜ì ì¸ Windowsì™€ macOS/Linux í™˜ê²½ì—ì„œ ì´ ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ëŠ” ë°©ë²•ì„ ì•ˆë‚´í•´ ë“œë¦½ë‹ˆë‹¤.

1. ğŸ–¼ï¸ í¬ë¡¬ ë‹¨ì¶•í‚¤ ìƒì„± ë° ì„¤ì • (ê°€ì¥ ê°„ë‹¨í•˜ê³  ê°•ë ¥í•œ ë°©ë²•)
í¬ë¡¬ì€ íŠ¹ì • ì›¹ì‚¬ì´íŠ¸ë¥¼ ë§ˆì¹˜ ë…ë¦½ëœ ì• í”Œë¦¬ì¼€ì´ì…˜ì²˜ëŸ¼ ì‹¤í–‰í•˜ê³ , ì‹¤í–‰í•  ë•Œ ì°½ì˜ í¬ê¸°ë‚˜ ìœ„ì¹˜ë¥¼ ê³ ì •í•  ìˆ˜ ìˆëŠ” ì˜µì…˜ì„ ì œê³µí•©ë‹ˆë‹¤.

1ë‹¨ê³„: HTML íŒŒì¼ì„ ë¡œì»¬ ì„œë²„ ì£¼ì†Œë¡œ ë³€í™˜
íŒŒì¼ ì œì•½ ì‚¬í•­ ë•Œë¬¸ì—, ë¨¼ì € HTML íŒŒì¼ì„ ë¡œì»¬ ì„œë²„ ì£¼ì†Œë¡œ ì‹¤í–‰í•´ì•¼ í•©ë‹ˆë‹¤.

ì›¹ ì„œë²„ ì„¤ì¹˜ (Node.js): Node.jsê°€ ì„¤ì¹˜ë˜ì–´ ìˆë‹¤ë©´, ëª…ë ¹ í”„ë¡¬í”„íŠ¸(í„°ë¯¸ë„)ì—ì„œ HTML íŒŒì¼ì´ ìˆëŠ” í´ë”ë¡œ ì´ë™í•˜ì—¬ ì•„ë˜ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤.

Bash
npx http-server . --port 8080
(ì´ ëª…ë ¹ì–´ëŠ” íŒŒì¼ì´ ìˆëŠ” í´ë”ë¥¼ http://localhost:8080 ì£¼ì†Œë¡œ ì‹¤í–‰í•´ì¤ë‹ˆë‹¤.)

2ë‹¨ê³„: í¬ë¡¬ ì• í”Œë¦¬ì¼€ì´ì…˜ ë‹¨ì¶•í‚¤ ìƒì„±
í¬ë¡¬ ë¸Œë¼ìš°ì €ë¥¼ ì—½ë‹ˆë‹¤.

**http://localhost:8080**ìœ¼ë¡œ ì ‘ì†í•˜ì—¬ íƒ€ì´ë¨¸ë¥¼ ì‹¤í–‰í•©ë‹ˆë‹¤.

í¬ë¡¬ ì˜¤ë¥¸ìª½ ìƒë‹¨ â (ì  ì„¸ ê°œ) ë©”ë‰´ë¥¼ í´ë¦­í•©ë‹ˆë‹¤.

ë„êµ¬ ë”ë³´ê¸°(More tools) > **ë°”ë¡œê°€ê¸° ë§Œë“¤ê¸°(Create shortcut)**ë¥¼ ì„ íƒí•©ë‹ˆë‹¤.

ì´ë¦„ì„ "Pomodoro Timer" ë“±ìœ¼ë¡œ ì§€ì •í•˜ê³ , **ì°½ìœ¼ë¡œ ì—´ê¸°(Open as window)**ë¥¼ ë°˜ë“œì‹œ ì²´í¬í•©ë‹ˆë‹¤.

3ë‹¨ê³„: ë‹¨ì¶•í‚¤ ìˆ˜ì • ë° í¬ê¸° ê³ ì • (Windows)
ìƒì„±ëœ ë‹¨ì¶•í‚¤ ì•„ì´ì½˜(ë°”íƒ•í™”ë©´ ë“±ì— ìœ„ì¹˜)ì„ ë§ˆìš°ìŠ¤ ì˜¤ë¥¸ìª½ ë²„íŠ¼ìœ¼ë¡œ í´ë¦­í•˜ê³  **ì†ì„±(Properties)**ì„ ì„ íƒí•©ë‹ˆë‹¤.

ëŒ€ìƒ(Target) í•„ë“œì˜ ëì— ì•„ë˜ ì˜µì…˜ì„ ì¶”ê°€í•©ë‹ˆë‹¤.

í¬ê¸° ì§€ì • ì˜µì…˜: --window-size=í­,ë†’ì´

ìœ„ì¹˜ ì§€ì • ì˜µì…˜: --window-position=Xì¢Œí‘œ,Yì¢Œí‘œ

ì˜ˆì‹œ: (900x600 í¬ê¸°ì— í™”ë©´ ì¢Œìƒë‹¨ 100,100 ìœ„ì¹˜)

"C:\Program Files\Google\Chrome\Application\chrome.exe" --app=http://localhost:8080 --window-size=900,600 --window-position=100,100
(ì‹¤ì œ chrome.exe ê²½ë¡œëŠ” ë‹¤ë¥¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.)

ì´ì œ ì´ ë‹¨ì¶•í‚¤ë¥¼ ì‹¤í–‰í•  ë•Œë§ˆë‹¤ ì§€ì •ëœ í¬ê¸°ì™€ ìœ„ì¹˜ì˜ ë…ë¦½ì ì¸ í¬ë¡¬ ì°½ìœ¼ë¡œ íƒ€ì´ë¨¸ê°€ ì‹¤í–‰ë©ë‹ˆë‹¤.

2. ğŸ“ ë°°ì¹˜ íŒŒì¼ ë˜ëŠ” ì…¸ ìŠ¤í¬ë¦½íŠ¸ ì‚¬ìš© (ê³ ê¸‰)
ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‚¬ìš©í•˜ì—¬ file:// ì£¼ì†Œë¥¼ ì§ì ‘ ì œì–´í•  ìˆ˜ë„ ìˆì§€ë§Œ, í¬ë¡¬ ë³´ì•ˆ ì •ì±…ìƒ file://ë¡œëŠ” --app ëª¨ë“œ ì‹¤í–‰ì´ ì–´ë µìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ ì¼ë°˜ ì°½ìœ¼ë¡œ íŠ¹ì • í¬ê¸°ë¥¼ ì§€ì •í•˜ì—¬ ì‹¤í–‰í•˜ëŠ” ê²ƒì€ ê°€ëŠ¥í•©ë‹ˆë‹¤.

Windows (Batch Script)
íŒŒì¼ ì´ë¦„: run_timer.bat

ì½”ë“œ ìŠ¤ë‹ˆí«
@echo off
set TIMER_PATH=C:\Users\YourUser\Documents\pomodoro.html  REM <-- íŒŒì¼ ê²½ë¡œ ìˆ˜ì •
set CHROME_PATH="C:\Program Files\Google\Chrome\Application\chrome.exe"

REM í¬ë¡¬ì„ ì§€ì •ëœ í¬ê¸°ì™€ ìœ„ì¹˜ë¡œ ì‹¤í–‰
%CHROME_PATH% --new-window --window-size=800,500 --window-position=500,100 "file:///%TIMER_PATH%"
macOS/Linux (Shell Script)
íŒŒì¼ ì´ë¦„: run_timer.sh

Bash
#!/bin/bash

# íŒŒì¼ ê²½ë¡œ (ì ˆëŒ€ ê²½ë¡œ ì‚¬ìš© ê¶Œì¥)
TIMER_PATH="/Users/YourUser/Documents/pomodoro.html"

# í¬ë¡¬ ê²½ë¡œ (macOS ê¸°ì¤€)
CHROME_PATH="/Applications/Google Chrome.app/Contents/MacOS/Google Chrome"

# í¬ë¡¬ì„ ì§€ì •ëœ í¬ê¸°ì™€ ìœ„ì¹˜ë¡œ ì‹¤í–‰
"$CHROME_PATH" --new-window --window-size=800,500 --window-position=500,100 "file://$TIMER_PATH"
ê²°ë¡ : 1ë²ˆ ë°©ë²•ì€ ë¡œì»¬ ì„œë²„ë¥¼ ì ê¹ êµ¬ë™í•´ì•¼ í•˜ëŠ” ë¶ˆí¸í•¨ì´ ìˆì§€ë§Œ, í¬ë¡¬ì˜ --app ëª¨ë“œë¥¼ ì‚¬ìš©í•˜ì—¬ ë¸Œë¼ìš°ì €ì˜ ì£¼ì†Œ í‘œì‹œì¤„ ë“±ì´ ì‚¬ë¼ì§„ ê¹”ë”í•œ ë…ë¦½ ì•± í˜•íƒœë¡œ ì‹¤í–‰í•  ìˆ˜ ìˆë‹¤ëŠ” ì¥ì ì´ ìˆìŠµë‹ˆë‹¤.

2ë²ˆ ë°©ì‹ìœ¼ë¡œ, ì´ëŸ° ì°½ í¬ê¸°ë¡œ ì—´ê²Œ í•˜ë ¤ë©´ batíŒŒì¼ì„ ì–´ë–»ê²Œ ë§Œë“¤ë©´ ë˜ëŠ”ì§€ ì•Œë ¤ì¤˜

ì œê³µí•´ ì£¼ì‹  ë½€ëª¨ë„ë¡œ ëŒ€ì‹œë³´ë“œ ì´ë¯¸ì§€ë¥¼ ì°¸ê³ í•˜ì—¬, ì´ì™€ ìœ ì‚¬í•œ ë¹„ìœ¨ì˜ ì°½ í¬ê¸°ë¡œ í¬ë¡¬ ë¸Œë¼ìš°ì €ë¥¼ ì‹¤í–‰ì‹œí‚¤ëŠ” **Windows ë°°ì¹˜ íŒŒì¼(BAT íŒŒì¼)**ì„ ë§Œë“¤ì–´ ë“œë¦¬ê² ìŠµë‹ˆë‹¤.

ğŸ–¼ï¸ ëª©í‘œ ì°½ í¬ê¸° ì„¤ì •
ì œê³µí•˜ì‹  ì´ë¯¸ì§€ì˜ ë¹„ìœ¨ì„ ê³ ë ¤í•˜ì—¬ ëŒ€ëµì ì¸ ì°½ í¬ê¸°ë¥¼ í­(Width) 500, ë†’ì´(Height) 750ìœ¼ë¡œ ì„¤ì •í•˜ê³ , í™”ë©´ ì¤‘ì•™ì—ì„œ ì¡°ê¸ˆ ìœ„ìª½ì— ìœ„ì¹˜í•˜ë„ë¡ ì„¤ì •í•˜ê² ìŠµë‹ˆë‹¤.

ì°½ í¬ê¸°: 500,750

ì°½ ìœ„ì¹˜: X: 700, Y: 100 (í™”ë©´ ì¤‘ì•™ ê·¼ì²˜ ìƒë‹¨)

ğŸ’» Windows ë°°ì¹˜ íŒŒì¼ (.bat íŒŒì¼)
ì•„ë˜ ë‚´ìš©ì„ ë©”ëª¨ì¥ì´ë‚˜ VS Code ë“±ì˜ í…ìŠ¤íŠ¸ í¸ì§‘ê¸°ì— ë³µì‚¬í•œ í›„, pomodoro_start.batì™€ ê°™ì´ .bat í™•ì¥ìë¡œ ì €ì¥í•˜ì—¬ ì‚¬ìš©í•˜ì‹œë©´ ë©ë‹ˆë‹¤.

ì´ ìŠ¤í¬ë¦½íŠ¸ëŠ” í¬ë¡¬ì˜ íŠ¹ìˆ˜ ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•˜ì—¬ ì°½ í¬ê¸°ì™€ ìœ„ì¹˜ë¥¼ ê³ ì •í•˜ê³ , pomodoro-dashboard.html íŒŒì¼ì„ ë¡œë“œí•©ë‹ˆë‹¤.

1ë‹¨ê³„: íŒŒì¼ ê²½ë¡œ í™•ì¸ ë° ë°°ì¹˜ íŒŒì¼ ì‘ì„±
ì•„ë˜ ìŠ¤í¬ë¦½íŠ¸ì—ì„œ ë‘ ê°€ì§€ ê²½ë¡œë¥¼ ì‚¬ìš©ìì˜ ì‹¤ì œ ê²½ë¡œì— ë§ê²Œ ìˆ˜ì •í•´ì•¼ í•©ë‹ˆë‹¤.

ì½”ë“œ ìŠ¤ë‹ˆí«
@echo off
REM =========================================================
REM  Pomodoro Timer í¬ë¡¬ ì „ìš© ì‹¤í–‰ ìŠ¤í¬ë¦½íŠ¸ (Windowsìš©)
REM  ì‘ì„±ì: Gemini
REM =========================================================

REM 1. [í•„ìˆ˜ ìˆ˜ì •] HTML íŒŒì¼ì˜ ì „ì²´ ê²½ë¡œë¥¼ ì…ë ¥í•˜ì„¸ìš”.
REM    (ì˜ˆ: C:\Users\ì‚¬ìš©ìì´ë¦„\Documents\pomodoro-dashboard.html)
set TIMER_PATH=C:\Your\Path\To\pomodoro-dashboard.html

REM 2. [í•„ìˆ˜ ìˆ˜ì •] Chrome.exe íŒŒì¼ì˜ ì „ì²´ ê²½ë¡œë¥¼ ì…ë ¥í•˜ì„¸ìš”.
REM    (ì¼ë°˜ì ì¸ ê²½ë¡œëŠ” ì•„ë˜ì™€ ê°™ìœ¼ë©°, ë§ì§€ ì•Šìœ¼ë©´ ìˆ˜ì •í•´ì•¼ í•©ë‹ˆë‹¤.)
set CHROME_PATH="C:\Program Files\Google\Chrome\Application\chrome.exe"
IF NOT EXIST %CHROME_PATH% (
    set CHROME_PATH="C:\Program Files (x86)\Google\Chrome\Application\chrome.exe"
)

REM 3. ì°½ í¬ê¸° ë° ìœ„ì¹˜ ì„¤ì • (í­, ë†’ì´, Xì¢Œí‘œ, Yì¢Œí‘œ)
set WINDOW_SIZE=500,750
set WINDOW_POSITION=700,100

REM =========================================================
REM í¬ë¡¬ì„ ì§€ì •ëœ ì˜µì…˜ìœ¼ë¡œ ì‹¤í–‰í•©ë‹ˆë‹¤.
start "" %CHROME_PATH% --new-window --window-size=%WINDOW_SIZE% --window-position=%WINDOW_POSITION% "file:///%TIMER_PATH%"

REM start ëª…ë ¹ì–´ëŠ” ë¹„ë™ê¸° ì‹¤í–‰ì„ ìœ„í•´ ì‚¬ìš©ë©ë‹ˆë‹¤.
2ë‹¨ê³„: ì‹¤í–‰ ë°©ë²•
ìœ„ ì½”ë“œë¥¼ í…ìŠ¤íŠ¸ íŒŒì¼ì— ë¶™ì—¬ë„£ìŠµë‹ˆë‹¤.

TIMER_PATHì™€ CHROME_PATH ë³€ìˆ˜ì˜ ê²½ë¡œë¥¼ ì‚¬ìš©ì ì»´í“¨í„°ì˜ ì‹¤ì œ ê²½ë¡œë¡œ ìˆ˜ì •í•©ë‹ˆë‹¤.

íŒŒì¼ì„ pomodoro_start.bat ë“±ì˜ ì´ë¦„ìœ¼ë¡œ ì €ì¥í•©ë‹ˆë‹¤.

ì €ì¥ëœ .bat íŒŒì¼ì„ ë”ë¸” í´ë¦­í•˜ì—¬ ì‹¤í–‰í•©ë‹ˆë‹¤.

ì°¸ê³ : ë°°ì¹˜ íŒŒì¼ì—ì„œ file:///ì„ ì‚¬ìš©í•  ë•ŒëŠ” ìŠ¬ë˜ì‹œ(/)ë¥¼ ì„¸ ê°œ ë¶™ì—¬ì•¼ ì •í™•í•œ ë¡œì»¬ íŒŒì¼ ê²½ë¡œë¡œ ì¸ì‹ë©ë‹ˆë‹¤.

íŒ: ì´ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ë°”íƒ•í™”ë©´ì— ë‘ê³  ì‹¤í–‰í•˜ë©´, í¬ë¡¬ì´ í•­ìƒ ë™ì¼í•œ í¬ê¸°ì™€ ìœ„ì¹˜ë¡œ ì—´ë¦¬ê²Œ ë©ë‹ˆë‹¤.

htmlíŒŒì¼ íƒ€ì´ë¨¸ê°€ ì‹¤í–‰ì€ ë˜ëŠ”ë° í­ ë†’ì´ xì¢Œí‘œ yì¢Œí‘œëŠ” ìˆ«ìë¥¼ ë°”ê¿”ë„ ë³€í•¨ì´ ì—†ë„¤

ë°°ì¹˜ íŒŒì¼(BAT íŒŒì¼)ì´ ì •ìƒì ìœ¼ë¡œ ì‹¤í–‰ë˜ì§€ë§Œ ì°½ í¬ê¸°ì™€ ìœ„ì¹˜ê°€ ì ìš©ë˜ì§€ ì•ŠëŠ” ë¬¸ì œëŠ” Chrome ë¸Œë¼ìš°ì €ì˜ íŠ¹ì„± ë•Œë¬¸ì— í”íˆ ë°œìƒí•˜ëŠ” í˜„ìƒì…ë‹ˆë‹¤.

Chromeì€ ì´ë¯¸ ì‹¤í–‰ ì¤‘ì¸ ë¸Œë¼ìš°ì € ì„¸ì…˜ì´ ìˆì„ ê²½ìš°, ìƒˆ ì°½ì„ ì—´ ë•Œ ëª…ë ¹ì¤„ë¡œ ì§€ì •ëœ ì°½ í¬ê¸°/ìœ„ì¹˜ ì˜µì…˜ì„ ë¬´ì‹œí•˜ê³  ê¸°ì¡´ ì°½ì˜ ì„¤ì •ì„ ë”°ë¥´ë ¤ëŠ” ê²½í–¥ì´ ìˆìŠµë‹ˆë‹¤. ë˜í•œ ë¡œì»¬ íŒŒì¼(file://)ì„ ì—´ ë•Œ ë³´ì•ˆì´ë‚˜ UI ì¼ê´€ì„±ì„ ìœ„í•´ ì˜µì…˜ì„ ì œí•œí•˜ê¸°ë„ í•©ë‹ˆë‹¤.

ì´ ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´, í¬ë¡¬ì´ í•­ìƒ ìƒˆë¡œìš´ ë…ë¦½ì ì¸ í”„ë¡œí•„ë¡œ ì°½ì„ ì—´ë„ë¡ ê°•ì œí•˜ëŠ” ì˜µì…˜ì„ ì¶”ê°€í•œ ìˆ˜ì •ëœ ë°°ì¹˜ íŒŒì¼ì„ ì œê³µí•´ ë“œë¦½ë‹ˆë‹¤.

ğŸ› ï¸ ìˆ˜ì •ëœ Windows ë°°ì¹˜ íŒŒì¼ (.bat)
ì•„ë˜ ì½”ë“œë¥¼ ê¸°ì¡´ ë°°ì¹˜ íŒŒì¼ ë‚´ìš©ê³¼ êµì²´í•˜ì—¬ ì‚¬ìš©í•´ ë³´ì„¸ìš”. set TEMP_PROFILE_DIR ëª…ë ¹ì–´ë¥¼ ì¶”ê°€í•˜ì—¬ í¬ë¡¬ì´ ìƒˆë¡œìš´ ì„¸ì…˜ìœ¼ë¡œ ì‹¤í–‰ë˜ë„ë¡ ê°•ì œí•©ë‹ˆë‹¤.

ì½”ë“œ (pomodoro_start.bat ìˆ˜ì •ë³¸)
ì½”ë“œ ìŠ¤ë‹ˆí«
@echo off
REM =========================================================
REM  Pomodoro Timer í¬ë¡¬ ì „ìš© ì‹¤í–‰ ìŠ¤í¬ë¦½íŠ¸ (Windowsìš© - ìˆ˜ì •ë¨)
REM  ì‘ì„±ì: Gemini
REM =========================================================

REM 1. [í•„ìˆ˜ ìˆ˜ì •] HTML íŒŒì¼ì˜ ì „ì²´ ê²½ë¡œë¥¼ ì…ë ¥í•˜ì„¸ìš”. (íŒŒì¼ëª…ì„ í¬í•¨í•´ì•¼ í•©ë‹ˆë‹¤.)
set TIMER_PATH=C:\Your\Path\To\pomodoro-dashboard.html

REM 2. [í•„ìˆ˜ ìˆ˜ì •] Chrome.exe íŒŒì¼ì˜ ì „ì²´ ê²½ë¡œë¥¼ ì…ë ¥í•˜ì„¸ìš”.
set CHROME_PATH="C:\Program Files\Google\Chrome\Application\chrome.exe"
IF NOT EXIST %CHROME_PATH% (
    set CHROME_PATH="C:\Program Files (x86)\Google\Chrome\Application\chrome.exe"
)

REM 3. ì°½ í¬ê¸° ë° ìœ„ì¹˜ ì„¤ì • (í­, ë†’ì´, Xì¢Œí‘œ, Yì¢Œí‘œ)
set WINDOW_SIZE=500,750
set WINDOW_POSITION=700,100

REM 4. â­ í•µì‹¬ ìˆ˜ì •: ê°•ì œë¡œ ìƒˆ ì°½ ì†ì„±ì„ ì ìš©í•˜ê¸° ìœ„í•œ ì„ì‹œ ì‚¬ìš©ì ë””ë ‰í† ë¦¬ ì„¤ì •
REM    ì´ ì˜µì…˜ì€ ê¸°ì¡´ Chrome ì°½ì˜ ì˜í–¥ì„ ë°›ì§€ ì•ŠëŠ” ë…ë¦½ì ì¸ ì°½ì„ ë§Œë“­ë‹ˆë‹¤.
set TEMP_PROFILE_DIR="%TEMP%\pomodoro_temp_profile"

REM =========================================================
REM ì„ì‹œ í”„ë¡œí•„ì„ ì‚¬ìš©í•˜ì—¬ í¬ë¡¬ì„ ì§€ì •ëœ ì˜µì…˜ìœ¼ë¡œ ì‹¤í–‰í•©ë‹ˆë‹¤.
start "" %CHROME_PATH% --new-window --window-size=%WINDOW_SIZE% --window-position=%WINDOW_POSITION% --user-data-dir=%TEMP_PROFILE_DIR% "file:///%TIMER_PATH%"
ğŸ“Œ ì‚¬ìš© ë°©ë²•
ìœ„ ì½”ë“œë¥¼ í…ìŠ¤íŠ¸ í¸ì§‘ê¸°(ë©”ëª¨ì¥)ì— ë³µì‚¬í•©ë‹ˆë‹¤.

TIMER_PATHì™€ CHROME_PATHì˜ ê²½ë¡œë¥¼ ì‚¬ìš©ì ì»´í“¨í„°ì˜ ì‹¤ì œ ê²½ë¡œë¡œ ì •í™•íˆ ìˆ˜ì •í•©ë‹ˆë‹¤.

íŒŒì¼ì„ .bat í™•ì¥ìë¡œ ì €ì¥í•©ë‹ˆë‹¤.

ì €ì¥í•œ ë°°ì¹˜ íŒŒì¼ì„ ì‹¤í–‰í•©ë‹ˆë‹¤.

ğŸ’¡ ì¶”ê°€ íŒ: --app ëª¨ë“œë¥¼ ì‚¬ìš©í•˜ë©´ ë” ê¹”ë”í•©ë‹ˆë‹¤.
ë§Œì•½ í¬ë¡¬ ì°½ì—ì„œ ì£¼ì†Œ í‘œì‹œì¤„ì´ë‚˜ íƒ­ì„ ì œê±°í•˜ê³  ë§ˆì¹˜ ë…ë¦½ëœ ì• í”Œë¦¬ì¼€ì´ì…˜ì²˜ëŸ¼ ì‹¤í–‰í•˜ê³  ì‹¶ë‹¤ë©´, --app ì˜µì…˜ì„ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.

--app ì˜µì…˜ì€ file:// ì£¼ì†Œë³´ë‹¤ http:// ì£¼ì†Œì—ì„œ í›¨ì”¬ ì•ˆì •ì ìœ¼ë¡œ ì‘ë™í•©ë‹ˆë‹¤.

ê°€ì¥ í™•ì‹¤í•œ ë°©ë²•ì€ 1ë‹¨ê³„ì—ì„œ ì•ˆë‚´í•´ ë“œë¦° ê²ƒì²˜ëŸ¼ Node.jsì˜ http-server ë“±ì„ ì´ìš©í•´ ë¡œì»¬ ì„œë²„ë¥¼ ì—´ì–´ http://localhost:8080/ì™€ ê°™ì€ ì£¼ì†Œë¡œ ì ‘ê·¼í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.

ì´ ê²½ìš°, ë°°ì¹˜ íŒŒì¼ì˜ ì‹¤í–‰ ëª…ë ¹ì–´ëŠ” ë‹¤ìŒê³¼ ê°™ì´ ë³€ê²½ë©ë‹ˆë‹¤.

ì½”ë“œ ìŠ¤ë‹ˆí«
REM ì„œë²„ê°€ 8080 í¬íŠ¸ë¡œ ì‹¤í–‰ ì¤‘ì´ë¼ê³  ê°€ì •
start "" %CHROME_PATH% --app=http://localhost:8080/pomodoro-dashboard.html --window-size=500,750 --window-position=700,100
ì¢‹ì•„ ë‹¤ì‹œ íƒ€ì´ë¨¸ì˜ html ì½”ë”©ìœ¼ë¡œ ëŒì•„ê°€ì„œ-

ê° ì„¸ì…˜ ì¹´ë“œ ë³„ë¡œ, ì§‘ì¤‘ ì‹œê°„ê³¼ íœ´ì‹ ì‹œê°„, ì´ ì‚¬ì´í´ ìˆ˜ê¹Œì§€ ê³„ì‚°í–ˆì„ ë•Œ ì „ì²´ ì‹œê°„ì´ ì–¼ë§ˆë‚˜ ê±¸ë¦¬ëŠ”ì§€ë¥¼ ì•Œê³  ì‹¶ì€ë° ì–´ë–¤ ì‹ìœ¼ë¡œ í‘œí˜„í•˜ëŠ” ê²ƒì´ ì¢‹ì„ì§€ ìƒê°í•´ì„œ ì „ì²´ ì½”ë”©ì„ ë‹¤ì‹œ í•´ ì¤˜.

ë„¤, ì¢‹ì€ ì•„ì´ë””ì–´ì…ë‹ˆë‹¤. ê° ì„¸ì…˜ì˜ ì´ ì˜ˆìƒ ì†Œìš” ì‹œê°„ì„ ê³„ì‚°í•˜ì—¬ ì¹´ë“œì— ëª…í™•í•˜ê²Œ í‘œì‹œí•˜ë©´ ê³„íšì„ ì„¸ìš°ëŠ” ë° í° ë„ì›€ì´ ë©ë‹ˆë‹¤.

ìš”ì²­í•˜ì‹  ê¸°ëŠ¥(ì§‘ì¤‘ ì‹œê°„, íœ´ì‹ ì‹œê°„, ì´ ì‚¬ì´í´ì„ ê¸°ë°˜ìœ¼ë¡œ ì´ ì†Œìš” ì‹œê°„ ê³„ì‚° ë° í‘œì‹œ)ì„ í†µí•©í•˜ê³ , ì´ì „ì— ì ìš©í–ˆë˜ ì €ì¥ ê¸°ëŠ¥, ë©”ì¸ ì œëª© ìˆ˜ì •, ì‚¬ì´í´ ë””ìì¸ ê°œì„ ì´ ëª¨ë‘ ìœ ì§€ë˜ë„ë¡ ì½”ë“œë¥¼ ì—…ë°ì´íŠ¸í–ˆìŠµë‹ˆë‹¤.

ì´ ì†Œìš” ì‹œê°„ì€ ì¹´ë“œ ìƒë‹¨, ë©”ëª¨ ì…ë ¥ë€ ë°”ë¡œ ì•„ë˜ì— ì´ ì˜ˆìƒ ì†Œìš” ì‹œê°„: Xì‹œê°„ Yë¶„ í˜•íƒœë¡œ í‘œì‹œë˜ë©°, ìŠ¬ë¼ì´ë”ë¥¼ ì¡°ì •í•  ë•Œë§ˆë‹¤ ì‹¤ì‹œê°„ìœ¼ë¡œ ì—…ë°ì´íŠ¸ë©ë‹ˆë‹¤.

ğŸ’» ìµœì¢… í†µí•© ì½”ë“œ (pomodoro.html)
HTML
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Pomodoro</title>
    <style>
        :root {
            --bg-color: #f0f2f5;
            --card-bg: #ffffff;
            --focus-color: #ff6b6b;
            --break-color: #4ecdc4;
            --skip-color: #a29bfe;
            --setting-color: #00b894;
            --text-color: #333;
            --gray-text: #666;
            --shadow: 0 4px 10px rgba(0,0,0,0.1);
            --black-bar: #333; /* ê²€ì€ìƒ‰ í…Œë‘ë¦¬/ë°°ê²½ìƒ‰ ê¸°ì¤€ */
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            margin: 0;
            padding: 20px 10px;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
        }

        /* --- ë©”ì¸ íƒ€ì´í‹€ Input ìŠ¤íƒ€ì¼ (ìˆ˜ì • ê°€ëŠ¥í•˜ê²Œ ë³€ê²½) --- */
        .main-title-input {
            margin-bottom: 20px; 
            font-weight: 800; 
            color: var(--focus-color); 
            font-size: 2.5rem;
            text-align: center;
            border: none;
            border-bottom: 2px solid var(--focus-color); /* í¬ì»¤ìŠ¤ ìƒ‰ìƒìœ¼ë¡œ ë°‘ì¤„ */
            background: transparent;
            outline: none;
            padding: 5px 10px;
            width: 300px; /* ê³ ì • ë„ˆë¹„ë¡œ ì¤‘ì•™ ì •ë ¬ ìš©ì´ */
            max-width: 90%;
            transition: color 0.3s, border-bottom-color 0.3s;
        }
        .main-title-input:focus {
            border-bottom-color: var(--break-color); /* ìˆ˜ì • ì‹œ ìƒ‰ìƒ ë³€í™” */
        }


        /* --- Dashboard Layout --- */
        .dashboard {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            width: 100%;
            max-width: 1600px;
        }

        /* --- Session Card Styling --- */
        .session-card {
            background: var(--card-bg);
            border-radius: 15px;
            padding: 20px;
            box-shadow: var(--shadow);
            display: flex;
            flex-direction: column;
            border-top: 6px solid var(--focus-color);
            position: relative;
            min-height: 480px; 
        }

        .session-name { 
            font-size: 1.1rem; 
            font-weight: bold; 
            border: none; 
            border-bottom: 1px solid #ddd; 
            width: 100%; 
            padding: 5px 0; 
            outline: none; 
            color: #2d3436; 
        }

        .session-note { 
            font-size: 0.9rem; 
            color: var(--gray-text); 
            border: none; 
            border-bottom: 1px solid #eee;
            width: 100%; 
            padding: 5px 0; 
            margin-bottom: 10px;
            outline: none;
        }

        /* --- NEW: Total Time Display Styling --- */
        .total-time-display {
            font-size: 0.95rem;
            color: var(--focus-color); /* Highlight color */
            font-weight: bold;
            text-align: center;
            padding: 5px 0 10px 0;
            border-bottom: 1px dashed #eee;
            margin-bottom: 10px;
        }
        
        /* --- Cycle Visuals (ê²€ì€ìƒ‰ í…Œë‘ë¦¬ ì ìš©) --- */
        .cycle-visuals { 
            display: flex; 
            flex-wrap: wrap;
            justify-content: center; 
            gap: 5px; 
            margin: 10px 0; 
            font-size: 1.2rem; 
            height: 35px;
            align-content: flex-start;
        }
        
        .cycle-dot {
            /* ê²€ì€ìƒ‰ í…Œë‘ë¦¬ íš¨ê³¼ ì¶”ê°€ */
            text-shadow: 0 0 1px var(--black-bar), 0 0 1px var(--black-bar);
        }
        .cycle-dot.completed { color: var(--gray-text); }
        .cycle-dot.current { color: var(--focus-color); animation: pulse 2s infinite; }
        .cycle-dot.future { color: #dfe6e9; }
        
        @keyframes pulse {
            0% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.7; transform: scale(1.2); }
            100% { opacity: 1; transform: scale(1); }
        }

        /* --- Timer & Progress Bar --- */
        .timer-display { 
            font-size: 3.2rem; 
            font-weight: 800; 
            text-align: center; 
            margin: 10px 0 0 0; 
            font-variant-numeric: tabular-nums; 
            color: var(--focus-color); 
            transition: color 0.3s; 
        }
        .timer-display.break-mode { color: var(--break-color); }
        .status-badge { text-align: center; font-size: 0.85rem; margin-bottom: 5px; font-weight: bold; text-transform: uppercase; letter-spacing: 1px; min-height: 1.2em; }
        
        .progress-container { 
            margin-bottom: 20px;
            height: 6px; 
            width: 100%;
            overflow: hidden;
        }
        .progress-bar-bg { 
            position: relative;
            width: 100%; 
            height: 6px; 
            background: var(--black-bar);
            border-radius: 3px;
        }
        .progress-bar-fill { 
            height: 100%; 
            background: var(--focus-color); 
            width: 100%; 
            transition: width 1s linear, background-color 0.3s; 
            border-radius: 3px;
            transform-origin: right; 
        }

        /* --- Controls (ì •ë ¬ ê°œì„ ) --- */
        .controls { 
            display: flex; 
            flex-direction: column; 
            gap: 12px; 
            margin-bottom: 20px; 
            background: #f8f9fa; 
            padding: 15px;
            border-radius: 8px; 
        }
        .control-group { 
            display: grid; 
            grid-template-columns: 1fr auto; 
            align-items: center; 
            gap: 10px;
        }
        .control-group label { 
            grid-column: 1 / 2;
            font-size: 0.9rem; 
            color: var(--gray-text); 
            justify-self: start;
        }
        .control-group span { 
            grid-column: 2 / 3;
            font-weight: bold;
            font-variant-numeric: tabular-nums;
            width: 30px;
            text-align: right;
        }
        input[type=range] { 
            grid-column: 1 / 3;
            width: 100%; 
            cursor: pointer; 
            accent-color: var(--focus-color); 
            margin-top: 5px;
        }
        
        .toggle-wrapper { 
            display: flex; 
            align-items: center; 
            justify-content: space-between; 
            font-size: 0.9rem; 
            color: var(--gray-text); 
            margin-top: 5px; 
            padding-top: 5px;
            border-top: 1px solid #eee;
        }

        /* --- Buttons --- */
        .action-buttons { display: grid; grid-template-columns: 1fr 1fr; gap: 8px; margin-top: auto; }
        .full-width { grid-column: span 2; }
        button { padding: 10px; border: none; border-radius: 8px; font-weight: bold; cursor: pointer; transition: opacity 0.2s; font-size: 0.9rem; }
        button:hover { opacity: 0.9; }
        .btn-start { background-color: var(--focus-color); color: white; }
        .btn-pause { background-color: #f1c40f; color: white; display: none; }
        .btn-pass { background-color: var(--skip-color); color: white; }
        .btn-reset { background-color: #95a5a6; color: white; }
        
        .alarm-selector { display: flex; gap: 5px; margin-top: 10px; }
        .alarm-selector button { flex: 1; font-size: 0.8rem; padding: 6px; border: 1px solid #ddd; background: #fff; }
        .alarm-selector button.selected { background: var(--setting-color); color: white; border-color: var(--setting-color); }
    </style>
</head>
<body>

    <input type="text" id="main-title-input" value="Pomodoro" class="main-title-input">

    <div class="dashboard" id="dashboard">
    </div>

    <script>
        // --- Global State & Configuration ---
        const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
        let activeSessions = [];
        let globalVolume = 0.5;
        let alarmProfile = 'medium';
        let sessionCount = 5;
        let mainTitle = 'Pomodoro'; /* ë©”ì¸ íƒ€ì´í‹€ ìƒíƒœ ë³€ìˆ˜ */
        const defaultNames = ['ê¸°íš', 'ê°œë°œ', 'ë””ìì¸', 'ë¬¸ì„œí™”', 'íšŒì˜', 'í•™ìŠµ', 'ìš´ë™', 'ì •ë¦¬', 'ë…ì„œ', 'ê¸°íƒ€'];

        // ===================================
        // ğŸ’¾ LOCAL STORAGE FUNCTIONS
        // ===================================

        function saveGlobalSettings() {
            const settings = {
                sessionCount: sessionCount,
                globalVolume: globalVolume,
                alarmProfile: alarmProfile,
                mainTitle: mainTitle
            };
            try {
                localStorage.setItem('pomodoroGlobalSettings', JSON.stringify(settings));
            } catch (e) {
                console.error("Local storage error during global save:", e);
            }
        }

        function loadGlobalSettings() {
            try {
                const data = localStorage.getItem('pomodoroGlobalSettings');
                if (data) {
                    const settings = JSON.parse(data);
                    sessionCount = settings.sessionCount || 5;
                    globalVolume = settings.globalVolume !== undefined ? settings.globalVolume : 0.5;
                    alarmProfile = settings.alarmProfile || 'medium';
                    mainTitle = settings.mainTitle || 'Pomodoro';
                }
            } catch (e) {
                console.error("Local storage error during global load:", e);
            }
        }

        function saveSessionData() {
            const sessionData = activeSessions.map(session => ({
                id: session.id,
                name: session.name,
                note: session.note,
                focusTime: session.focusTime,
                breakTime: session.breakTime,
                totalCycles: session.totalCycles,
                autoAdvance: session.autoAdvance
            }));
            try {
                localStorage.setItem('pomodoroSessionData', JSON.stringify(sessionData));
            } catch (e) {
                console.error("Local storage error during session save:", e);
            }
        }

        function loadSessionData() {
            try {
                const data = localStorage.getItem('pomodoroSessionData');
                return data ? JSON.parse(data) : [];
            } catch (e) {
                console.error("Local storage error during session load:", e);
                return [];
            }
        }
        
        // ===================================
        // â²ï¸ TIME UTILITY FUNCTIONS
        // ===================================

        /**
         * ì´ ë¶„(Minutes)ì„ 'Xì‹œê°„ Yë¶„' í˜•ì‹ìœ¼ë¡œ ë³€í™˜í•©ë‹ˆë‹¤.
         * @param {number} totalMinutes - ì´ ë¶„
         * @returns {string} í˜•ì‹í™”ëœ ì‹œê°„ ë¬¸ìì—´
         */
        function formatTotalTime(totalMinutes) {
            if (totalMinutes <= 0) {
                return '0ë¶„';
            }
            if (totalMinutes < 60) {
                return `${totalMinutes}ë¶„`;
            }
            const hours = Math.floor(totalMinutes / 60);
            const minutes = totalMinutes % 60;
            
            if (minutes === 0) {
                return `${hours}ì‹œê°„`;
            }
            return `${hours}ì‹œê°„ ${minutes}ë¶„`;
        }


        // ===================================
        // ğŸ”Š ALARM SOUND FUNCTIONS
        // ===================================

        function playAlarm() {
            if (audioCtx.state === 'suspended') audioCtx.resume();
            const now = audioCtx.currentTime;
            
            const createBeep = (startTime, duration, freq, type, vol) => {
                const oscillator = audioCtx.createOscillator();
                const gainNode = audioCtx.createGain();

                oscillator.type = type;
                oscillator.frequency.value = freq;
                const effectiveVolume = Math.max(0.01, vol * globalVolume);
                gainNode.gain.setValueAtTime(effectiveVolume, startTime);
                gainNode.gain.exponentialRampToValueAtTime(0.001, startTime + duration);

                oscillator.connect(gainNode);
                gainNode.connect(audioCtx.destination);
                oscillator.start(startTime);
                oscillator.stop(startTime + duration);
            };

            switch(alarmProfile) {
                case 'soft':
                    createBeep(now, 0.2, 440, 'sine', 0.2); 
                    break;
                case 'medium':
                    createBeep(now, 0.1, 880, 'square', 0.5);
                    createBeep(now + 0.15, 0.1, 880, 'square', 0.5);
                    createBeep(now + 0.3, 0.3, 1100, 'square', 0.5);
                    break;
                case 'loud':
                    createBeep(now, 0.5, 1200, 'sawtooth', 1.0); 
                    break;
            }
        }

        // ===================================
        // â±ï¸ POMODORO SESSION CLASS
        // ===================================

        class PomodoroSession {
            constructor(id, defaultName, loadedData = {}) {
                this.id = id;
                this.name = loadedData.name || defaultName || `Session ${id}`;
                this.note = loadedData.note || '';
                this.state = 'stopped'; 
                this.mode = 'focus'; 
                this.currentCycle = 1;
                this.totalCycles = loadedData.totalCycles || 4;
                this.focusTime = loadedData.focusTime || 25; 
                this.breakTime = loadedData.breakTime || 5;  
                this.autoAdvance = loadedData.autoAdvance || false;
                
                this.timeLeft = this.focusTime * 60;
                this.timerInterval = null;
                this.initialTime = this.focusTime * 60;

                this.render();
                this.attachEvents();
                this.updateDisplay();
                this.renderCycles(); 
                this.updateTotalTimeDisplay(); // ì´ˆê¸° ë¡œë“œ ì‹œ ì´ ì‹œê°„ í‘œì‹œ
            }

            // NEW: ì´ ì˜ˆìƒ ì‹œê°„ì„ ê³„ì‚°í•˜ëŠ” ë©”ì„œë“œ
            calculateTotalTime() {
                // (ì§‘ì¤‘ ì‹œê°„ + íœ´ì‹ ì‹œê°„) * ì´ ì‚¬ì´í´
                const totalMinutes = (this.focusTime + this.breakTime) * this.totalCycles;
                return totalMinutes;
            }

            // NEW: ì´ ì˜ˆìƒ ì‹œê°„ì„ HTMLì— í‘œì‹œí•˜ëŠ” ë©”ì„œë“œ
            updateTotalTimeDisplay() {
                const totalMinutes = this.calculateTotalTime();
                const formattedTime = formatTotalTime(totalMinutes);
                
                const element = document.getElementById(`total-time-${this.id}`);
                if (element) {
                    element.innerText = `ì´ ì˜ˆìƒ ì†Œìš” ì‹œê°„: ${formattedTime}`;
                }
            }


            render() {
                const container = document.getElementById('dashboard');
                const html = `
                    <div class="session-card" id="card-${this.id}">
                        <div class="card-header">
                            <input type="text" class="session-name" value="${this.name}">
                            <input type="text" class="session-note" placeholder="ê°„ë‹¨í•œ ë©”ëª¨ (ì˜ˆ: ì§‘ì¤‘ ëª©í‘œ)" value="${this.note}">
                            
                            <div class="total-time-display" id="total-time-${this.id}"></div>
                        </div>
                        
                        <div class="status-badge" id="status-${this.id}">Ready</div>
                        <div class="cycle-visuals" id="cycle-visuals-${this.id}"></div>
                        
                        <div class="timer-display" id="timer-${this.id}">${(this.focusTime).toString().padStart(2, '0')}:00</div>
                        
                        <div class="progress-container">
                            <div class="progress-bar-bg">
                                <div class="progress-bar-fill" id="progress-${this.id}"></div>
                            </div>
                        </div>

                        <div class="controls">
                            <div class="control-group">
                                <label>ì§‘ì¤‘ ì‹œê°„ (ë¶„)</label>
                                <span id="val-focus-${this.id}">${this.focusTime}</span>
                                <input type="range" id="input-focus-${this.id}" min="1" max="60" value="${this.focusTime}">
                            </div>
                            <div class="control-group">
                                <label>íœ´ì‹ ì‹œê°„ (ë¶„)</label>
                                <span id="val-break-${this.id}">${this.breakTime}</span>
                                <input type="range" id="input-break-${this.id}" min="1" max="10" value="${this.breakTime}">
                            </div>
                            <div class="control-group">
                                <label>ì´ ì‚¬ì´í´ ìˆ˜</label>
                                <span id="val-cycle-${this.id}">${this.totalCycles}</span>
                                <input type="range" id="input-cycle-${this.id}" min="1" max="20" value="${this.totalCycles}">
                            </div>
                            <div class="toggle-wrapper">
                                <span>ìë™ ì§„í–‰ (Auto Advance)</span>
                                <input type="checkbox" id="check-auto-${this.id}" ${this.autoAdvance ? 'checked' : ''}>
                            </div>
                        </div>

                        <div class="action-buttons">
                            <button class="btn-start full-width" id="btn-start-${this.id}">ì‹œì‘</button>
                            <button class="btn-pause full-width" id="btn-pause-${this.id}">ì¼ì‹œì •ì§€</button>
                            
                            <button class="btn-pass" id="btn-pass-${this.id}">PASS â­ï¸</button>
                            <button class="btn-reset" id="btn-reset-${this.id}">ë¦¬ì…‹ â†º</button>
                        </div>
                    </div>
                `;
                container.insertAdjacentHTML('beforeend', html);
            }
            
            attachEvents() {
                // ì €ì¥ ê¸°ëŠ¥ì„ ìœ„í•œ ë˜í¼ í•¨ìˆ˜: ì„¤ì • ë³€ê²½ ì‹œ ë°ì´í„° ì €ì¥
                const updateAndSave = (callback) => (e) => {
                    callback(e);
                    // íƒ€ì´ë¨¸ê°€ ë©ˆì¶˜ ìƒíƒœ(ì„¤ì • ë³€ê²½ ì¤‘)ì¼ ë•Œë§Œ ì €ì¥
                    if (this.state === 'stopped' || e.type === 'change' || e.type === 'input') { 
                        saveSessionData();
                    }
                };
                
                document.getElementById(`card-${this.id}`).querySelector('.session-note').addEventListener('input', updateAndSave((e) => {
                    this.note = e.target.value;
                }));
                document.getElementById(`card-${this.id}`).querySelector('.session-name').addEventListener('input', updateAndSave((e) => {
                    this.name = e.target.value;
                }));
                
                // ì§‘ì¤‘ ì‹œê°„ ë³€ê²½ ì‹œ
                document.getElementById(`input-focus-${this.id}`).addEventListener('input', updateAndSave((e) => {
                    this.focusTime = parseInt(e.target.value);
                    document.getElementById(`val-focus-${this.id}`).innerText = this.focusTime;
                    if (this.state === 'stopped' && this.mode === 'focus') this.resetTimer();
                    this.updateTotalTimeDisplay(); // ì´ ì‹œê°„ ì—…ë°ì´íŠ¸
                }));
                // íœ´ì‹ ì‹œê°„ ë³€ê²½ ì‹œ
                document.getElementById(`input-break-${this.id}`).addEventListener('input', updateAndSave((e) => {
                    this.breakTime = parseInt(e.target.value);
                    document.getElementById(`val-break-${this.id}`).innerText = this.breakTime;
                    if (this.state === 'stopped' && this.mode === 'break') this.resetTimer();
                    this.updateTotalTimeDisplay(); // ì´ ì‹œê°„ ì—…ë°ì´íŠ¸
                }));
                // ì‚¬ì´í´ ìˆ˜ ë³€ê²½ ì‹œ
                document.getElementById(`input-cycle-${this.id}`).addEventListener('input', updateAndSave((e) => {
                    this.totalCycles = parseInt(e.target.value);
                    document.getElementById(`val-cycle-${this.id}`).innerText = this.totalCycles;
                    this.renderCycles();
                    this.updateTotalTimeDisplay(); // ì´ ì‹œê°„ ì—…ë°ì´íŠ¸
                }));
                document.getElementById(`check-auto-${this.id}`).addEventListener('change', updateAndSave((e) => {
                    this.autoAdvance = e.target.checked;
                }));

                // íƒ€ì´ë¨¸ ë²„íŠ¼ ì´ë²¤íŠ¸
                document.getElementById(`btn-start-${this.id}`).addEventListener('click', () => this.start());
                document.getElementById(`btn-pause-${this.id}`).addEventListener('click', () => this.pause());
                document.getElementById(`btn-reset-${this.id}`).addEventListener('click', () => this.resetTimer());
                document.getElementById(`btn-pass-${this.id}`).addEventListener('click', () => this.skipPhase());
            }

            renderCycles() {
                const container = document.getElementById(`cycle-visuals-${this.id}`);
                let html = '';
                const total = this.totalCycles;
                let firstRow, secondRow;

                // ì‚¬ì´í´ 10ê°œ ì´ˆê³¼ ì‹œ ì²« ë²ˆì§¸ ì¤„ì— ceil(total/2)ê°œ ë°°ì¹˜
                if (total <= 10) {
                    firstRow = total;
                    secondRow = 0;
                } else {
                    firstRow = Math.ceil(total / 2);
                    secondRow = total - firstRow;
                }

                for (let i = 1; i <= total; i++) {
                    const isCurrent = i === this.currentCycle;
                    const isCompleted = i < this.currentCycle;
                    
                    // ì²« ë²ˆì§¸ ì¤„ì´ ëë‚˜ë©´ ì¤„ë°”ê¿ˆì„ ì‹œê°ì ìœ¼ë¡œ ìœ ë„í•˜ëŠ” ë”ë¯¸ ì—˜ë¦¬ë¨¼íŠ¸ ì¶”ê°€
                    if (i === firstRow + 1 && secondRow > 0) {
                         html += '<div style="width: 100%; height: 0; margin-bottom: -5px;"></div>';
                    }

                    if (isCompleted) {
                        html += '<span class="cycle-dot completed">â—</span>'; 
                    } else if (isCurrent) {
                        html += `<span class="cycle-dot current">â—‰</span>`;
                    } else {
                        html += '<span class="cycle-dot future">â—‹</span>'; 
                    }
                }
                container.innerHTML = html;
            }

            updateDisplay() {
                const minutes = Math.floor(this.timeLeft / 60);
                const seconds = this.timeLeft % 60;
                const display = document.getElementById(`timer-${this.id}`);
                
                display.innerText = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                
                const progress = document.getElementById(`progress-${this.id}`);
                const percent = (this.timeLeft / this.initialTime) * 100;
                progress.style.width = `${percent}%`;

                const card = document.getElementById(`card-${this.id}`);
                if (this.mode === 'focus') {
                    display.classList.remove('break-mode');
                    progress.style.backgroundColor = 'var(--focus-color)';
                    card.style.borderTopColor = 'var(--focus-color)';
                    document.querySelectorAll(`#cycle-visuals-${this.id} .current`).forEach(el => el.style.color = 'var(--focus-color)');
                } else {
                    display.classList.add('break-mode');
                    progress.style.backgroundColor = 'var(--break-color)';
                    card.style.borderTopColor = 'var(--break-color)';
                    document.querySelectorAll(`#cycle-visuals-${this.id} .current`).forEach(el => el.style.color = 'var(--break-color)');
                }
            }

            updateStatus(msg) {
                document.getElementById(`status-${this.id}`).innerText = msg;
            }

            start() {
                if (this.state === 'running') return;
                if (audioCtx.state === 'suspended') audioCtx.resume();
                this.state = 'running';
                document.getElementById(`btn-start-${this.id}`).style.display = 'none';
                document.getElementById(`btn-pause-${this.id}`).style.display = 'block';
                this.toggleInputs(true);
                this.updateStatus(this.mode === 'focus' ? 'ğŸ”¥ ì§‘ì¤‘ ì¤‘...' : 'â˜• íœ´ì‹ ì¤‘...');
                this.renderCycles();
                this.timerInterval = setInterval(() => {
                    if (this.timeLeft > 0) {
                        this.timeLeft--;
                        this.updateDisplay();
                    } else {
                        this.completePhase();
                    }
                }, 1000);
            }

            pause() {
                if (this.state !== 'running') return;
                clearInterval(this.timerInterval);
                this.state = 'paused';
                document.getElementById(`btn-start-${this.id}`).innerText = 'ì¬ê°œ';
                document.getElementById(`btn-start-${this.id}`).style.display = 'block';
                document.getElementById(`btn-pause-${this.id}`).style.display = 'none';
                this.updateStatus('â¸ï¸ ì¼ì‹œì •ì§€');
            }

            skipPhase() {
                clearInterval(this.timerInterval);
                this.completePhase(true);
            }

            resetTimer() {
                clearInterval(this.timerInterval);
                this.state = 'stopped';
                this.mode = 'focus';
                this.currentCycle = 1;
                this.timeLeft = this.focusTime * 60;
                this.initialTime = this.timeLeft;
                document.getElementById(`btn-start-${this.id}`).innerText = 'ì‹œì‘';
                document.getElementById(`btn-start-${this.id}`).style.display = 'block';
                document.getElementById(`btn-pause-${this.id}`).style.display = 'none';
                this.toggleInputs(false);
                this.updateStatus('Ready');
                this.renderCycles();
                this.updateDisplay();
                saveSessionData(); // ë¦¬ì…‹ í›„ ë°ì´í„° ì €ì¥
            }

            completePhase(mute = false) {
                clearInterval(this.timerInterval);
                if (!mute) playAlarm(); 

                if (this.mode === 'focus') {
                    this.mode = 'break';
                    this.timeLeft = this.breakTime * 60;
                    this.initialTime = this.timeLeft;
                    this.updateStatus('â˜• íœ´ì‹ ì¤€ë¹„');
                } else {
                    if (this.currentCycle < this.totalCycles) {
                        this.mode = 'focus';
                        this.currentCycle++;
                        this.timeLeft = this.focusTime * 60;
                        this.initialTime = this.timeLeft;
                        this.updateStatus('ğŸ”¥ ì§‘ì¤‘ ì¤€ë¹„');
                    } else {
                        this.resetTimer();
                        this.updateStatus('ğŸ‰ ì „ì²´ ì™„ë£Œ!');
                        if(!mute) playAlarm(); 
                        return;
                    }
                }
                this.renderCycles();
                this.updateDisplay();
                if (this.autoAdvance) {
                    this.state = 'stopped';
                    this.start();
                } else {
                    this.state = 'stopped';
                    document.getElementById(`btn-start-${this.id}`).innerText = 'ë‹¤ìŒ ë‹¨ê³„ ì‹œì‘';
                    document.getElementById(`btn-start-${this.id}`).style.display = 'block';
                    document.getElementById(`btn-pause-${this.id}`).style.display = 'none';
                    this.toggleInputs(false);
                }
            }

            toggleInputs(disabled) {
                document.getElementById(`input-focus-${this.id}`).disabled = disabled;
                document.getElementById(`input-break-${this.id}`).disabled = disabled;
                document.getElementById(`input-cycle-${this.id}`).disabled = disabled;
                document.getElementById(`check-auto-${this.id}`).disabled = disabled;
            }
        }


        // ===================================
        // âš™ï¸ GLOBAL CONTROLLER LOGIC
        // ===================================
        
        const getSettingsCardHTML = () => {
            const currentVolume = Math.round(globalVolume * 100);
            const softSelected = alarmProfile === 'soft' ? 'class="selected"' : '';
            const mediumSelected = alarmProfile === 'medium' ? 'class="selected"' : '';
            const loudSelected = alarmProfile === 'loud' ? 'class="selected"' : '';
            
            return `
                <div class="session-card" id="settings-card">
                    <div class="card-header">
                        <input type="text" class="session-name" value="ì „ì—­ ì„¤ì • (Global Settings)" disabled/>
                        <input type="text" class="session-note" placeholder="ë©”ëª¨ëŠ” ì„¤ì • ì¹´ë“œì—ì„œëŠ” ë¹„í™œì„±í™”" disabled>
                        
                        <div class="total-time-display" style="border-bottom: none;"></div> 
                    </div>
                    
                    <div class="status-badge" style="color: var(--setting-color);">ëŒ€ì‹œë³´ë“œ ê´€ë¦¬</div>
                    <div class="cycle-visuals" style="margin-bottom: 20px;"></div>

                    <div class="timer-display" style="font-size: 2rem; color: var(--setting-color); margin-top: 10px;">âš™ï¸</div>
                    
                    <div class="progress-container">
                        <div class="progress-bar-bg">
                            <div class="progress-bar-fill" style="width: 100%; background: #ddd;"></div>
                        </div>
                    </div>

                    <div class="controls" style="gap: 20px;">
                        <div class="control-group">
                            <label>ìš´ì˜í•  íƒ€ì´ë¨¸ ê°œìˆ˜ (1~10)</label>
                            <span id="session-count-value">${sessionCount}</span>
                            <input type="range" id="session-count-slider" min="1" max="10" value="${sessionCount}">
                        </div>

                        <div class="control-group">
                            <label>ì•ŒëŒ ë³¼ë¥¨</label>
                            <span id="alarm-volume-value">${currentVolume}%</span>
                            <input type="range" id="alarm-volume-slider" min="0" max="100" value="${currentVolume}">
                        </div>
                        
                        <div style="grid-column: 1 / 3;">
                            <label style="font-size: 0.9rem; color: var(--gray-text);">ì•ŒëŒ ì¢…ë¥˜ ì„ íƒ</label>
                            <div class="alarm-selector">
                                <button id="alarm-soft" data-profile="soft" ${softSelected}>ì‘ì€ ì†Œë¦¬ ğŸ”ˆ</button>
                                <button id="alarm-medium" data-profile="medium" ${mediumSelected}>ì¤‘ê°„ ì†Œë¦¬ ğŸ””</button>
                                <button id="alarm-loud" data-profile="loud" ${loudSelected}>í° ì†Œë¦¬ ğŸ”Š</button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="action-buttons full-width" style="margin-top: auto;">
                        <button id="alarm-test" style="background-color: var(--setting-color); color: white;" class="full-width">í…ŒìŠ¤íŠ¸ ì•ŒëŒ ì¬ìƒ</button>
                    </div>
                </div>
            `;
        };

        function attachGlobalListeners() {
            const countSlider = document.getElementById('session-count-slider');
            const countValue = document.getElementById('session-count-value');

            if (!countSlider) return; 

            countSlider.oninput = (e) => {
                countValue.innerText = e.target.value; 
            };
            
            countSlider.onchange = (e) => {
                sessionCount = parseInt(e.target.value);
                saveGlobalSettings(); 
                createSessions(); 
            }

            const volumeSlider = document.getElementById('alarm-volume-slider');
            const volumeValue = document.getElementById('alarm-volume-value');
            
            volumeSlider.oninput = (e) => {
                globalVolume = parseInt(e.target.value) / 100;
                volumeValue.innerText = `${e.target.value}%`;
                saveGlobalSettings(); 
            };
            
            document.querySelectorAll('#settings-card .alarm-selector button[data-profile]').forEach(button => {
                button.onclick = (e) => {
                    alarmProfile = e.target.dataset.profile;
                    document.querySelectorAll('#settings-card .alarm-selector button').forEach(btn => btn.classList.remove('selected'));
                    e.target.classList.add('selected');
                    saveGlobalSettings(); 
                };
            });

            document.getElementById('alarm-test').onclick = playAlarm;
        }

        function createSessions() {
            activeSessions.forEach(session => {
                clearInterval(session.timerInterval);
            });
            activeSessions = [];
            const dashboard = document.getElementById('dashboard');
            dashboard.innerHTML = ''; 

            const loadedSessions = loadSessionData();
            
            for(let i=1; i<=sessionCount; i++) {
                const loadedData = loadedSessions.find(s => s.id === i) || {};
                const name = defaultNames[i-1] || `ì„¸ì…˜ ${i}`;
                
                const newSession = new PomodoroSession(i, name, loadedData);
                activeSessions.push(newSession);
            }
            
            dashboard.insertAdjacentHTML('beforeend', getSettingsCardHTML());
            
            attachGlobalListeners(); 
        }

        document.addEventListener('DOMContentLoaded', () => {
            loadGlobalSettings(); 
            
            /* ë©”ì¸ íƒ€ì´í‹€ ë¡œë“œ ë° ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì¶”ê°€ */
            const mainTitleInput = document.getElementById('main-title-input');
            if (mainTitleInput) {
                mainTitleInput.value = mainTitle;
                mainTitleInput.addEventListener('input', (e) => {
                    mainTitle = e.target.value;
                    saveGlobalSettings();
                });
            }
            
            if (audioCtx.state === 'suspended') {
                const resumeAudio = () => {
                    audioCtx.resume();
                    document.body.removeEventListener('touchstart', resumeAudio);
                    document.body.removeEventListener('mousedown', resumeAudio);
                };
                document.body.addEventListener('touchstart', resumeAudio, { once: true });
                document.body.addEventListener('mousedown', resumeAudio, { once: true });
            }
            createSessions(); 
        });

    </script>
</body>
</html>
ì¢‹ì•„ ì˜í–ˆì–´

- 'ì´ ì˜ˆìƒ ì†Œìš” ì‹œê°„ : 0ì‹œê°„ 00ë¶„'ì´ ì•„ë‹ˆë¼, 'ì´ 0ì‹œê°„ 00ë¶„'ìœ¼ë¡œ ê°„ê²°í•˜ê²Œ í‘œí˜„í•´ì¤˜

- ì„¸ì…˜ì„ í‘œì‹œí•˜ëŠ” ë²„íŠ¼ ì˜ì—­ ê³¼ ì§‘ì¤‘ ì‹œê°„ í‘œì‹œ ì˜ì—­ ì‚¬ì´ì— ë„£ì–´ì¤„ ìˆ˜ ìˆì„ê¹Œ?

- íœ´ì‹ ì‹œê°„ ì¤‘ì—ëŠ” ì§‘ì¤‘ ì‹œê°„ê³¼ íœ´ì‹ ì‹œê°„, ì‚¬ì´í´ ìˆ˜, ë“±ì„ ì¡°ì ˆí•  ìˆ˜ ìˆê²Œ, ì¡°ì ˆí•˜ë©´ ì—­ì‹œ ì´ ì†Œìš”ì‹œê°„ë„ ë³€ê²½ë˜ê²Œ, ìë™ ì§„í–‰ ì²´í¬ë¥¼ ëˆ„ë¥¼ ìˆ˜ ìˆë„ë¡ í•´ì¤˜

ì „ì²´ ì½”ë“œ ë‹¤ì‹œ ì§œì¤˜

ë„¤, ì•Œê² ìŠµë‹ˆë‹¤! ì„¸ ê°€ì§€ ìš”ì²­ ì‚¬í•­ì„ ë°˜ì˜í•˜ì—¬ ì½”ë“œë¥¼ ë‹¤ì‹œ ìˆ˜ì •í•˜ê³ , ê¸°ëŠ¥ì„ ìµœì í™”í–ˆìŠµë‹ˆë‹¤.

âœ¨ ë³€ê²½ ì‚¬í•­ ìš”ì•½
í‘œí˜„ ê°„ê²°í™”: 'ì´ ì˜ˆìƒ ì†Œìš” ì‹œê°„: Xì‹œê°„ Yë¶„'ì„ **'ì´ Xì‹œê°„ Yë¶„'**ìœ¼ë¡œ ê°„ê²°í•˜ê²Œ ë³€ê²½í–ˆìŠµë‹ˆë‹¤.

í‘œì‹œ ìœ„ì¹˜ ì¡°ì •: ì´ ì†Œìš” ì‹œê°„ì„ ì‚¬ì´í´ í‘œì‹œ ì˜ì—­ê³¼ íƒ€ì´ë¨¸ í‘œì‹œ ì˜ì—­ ì‚¬ì´ì— ìœ„ì¹˜í•˜ë„ë¡ ì˜®ê²¼ìŠµë‹ˆë‹¤.

íœ´ì‹ ì¤‘ ì„¤ì • ì¡°ì • í—ˆìš©: íƒ€ì´ë¨¸ê°€ break ëª¨ë“œì¼ ë•Œë„ ì§‘ì¤‘ ì‹œê°„, íœ´ì‹ ì‹œê°„, ì‚¬ì´í´ ìˆ˜, ìë™ ì§„í–‰ ì—¬ë¶€ ë“± ì„¤ì • ê°’ì„ ì¡°ì •í•  ìˆ˜ ìˆë„ë¡ ë³€ê²½í–ˆìŠµë‹ˆë‹¤. ì„¤ì • ë³€ê²½ ì‹œ totalTimeë„ ì‹¤ì‹œê°„ìœ¼ë¡œ ì—…ë°ì´íŠ¸ë©ë‹ˆë‹¤.

ğŸ’» ìµœì¢… í†µí•© ì½”ë“œ (pomodoro.html)
HTML
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Pomodoro</title>
    <style>
        :root {
            --bg-color: #f0f2f5;
            --card-bg: #ffffff;
            --focus-color: #ff6b6b;
            --break-color: #4ecdc4;
            --skip-color: #a29bfe;
            --setting-color: #00b894;
            --text-color: #333;
            --gray-text: #666;
            --shadow: 0 4px 10px rgba(0,0,0,0.1);
            --black-bar: #333; /* ê²€ì€ìƒ‰ í…Œë‘ë¦¬/ë°°ê²½ìƒ‰ ê¸°ì¤€ */
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            margin: 0;
            padding: 20px 10px;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
        }

        /* --- ë©”ì¸ íƒ€ì´í‹€ Input ìŠ¤íƒ€ì¼ --- */
        .main-title-input {
            margin-bottom: 20px; 
            font-weight: 800; 
            color: var(--focus-color); 
            font-size: 2.5rem;
            text-align: center;
            border: none;
            border-bottom: 2px solid var(--focus-color); 
            background: transparent;
            outline: none;
            padding: 5px 10px;
            width: 300px;
            max-width: 90%;
            transition: color 0.3s, border-bottom-color 0.3s;
        }
        .main-title-input:focus {
            border-bottom-color: var(--break-color);
        }

        /* --- Dashboard Layout --- */
        .dashboard {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            width: 100%;
            max-width: 1600px;
        }

        /* --- Session Card Styling --- */
        .session-card {
            background: var(--card-bg);
            border-radius: 15px;
            padding: 20px;
            box-shadow: var(--shadow);
            display: flex;
            flex-direction: column;
            border-top: 6px solid var(--focus-color);
            position: relative;
            min-height: 480px; 
        }

        .session-name { 
            font-size: 1.1rem; 
            font-weight: bold; 
            border: none; 
            border-bottom: 1px solid #ddd; 
            width: 100%; 
            padding: 5px 0; 
            outline: none; 
            color: #2d3436; 
        }

        .session-note { 
            font-size: 0.9rem; 
            color: var(--gray-text); 
            border: none; 
            border-bottom: 1px solid #eee;
            width: 100%; 
            padding: 5px 0; 
            margin-bottom: 10px;
            outline: none;
        }

        /* --- Total Time Display Styling --- */
        .total-time-display {
            font-size: 0.95rem;
            color: var(--gray-text); /* Highlight color */
            font-weight: bold;
            text-align: center;
            padding: 5px 0 10px 0;
            border-bottom: 1px dashed #eee;
            margin-bottom: 10px;
        }
        
        /* --- Cycle Visuals --- */
        .cycle-visuals { 
            display: flex; 
            flex-wrap: wrap;
            justify-content: center; 
            gap: 5px; 
            margin: 10px 0; 
            font-size: 1.2rem; 
            height: 35px;
            align-content: flex-start;
        }
        
        .cycle-dot {
            /* ê²€ì€ìƒ‰ í…Œë‘ë¦¬ íš¨ê³¼ */
            text-shadow: 0 0 1px var(--black-bar), 0 0 1px var(--black-bar);
        }
        .cycle-dot.completed { color: var(--gray-text); }
        .cycle-dot.current { color: var(--focus-color); animation: pulse 2s infinite; }
        .cycle-dot.future { color: #dfe6e9; }
        
        @keyframes pulse {
            0% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.7; transform: scale(1.2); }
            100% { opacity: 1; transform: scale(1); }
        }

        /* --- Timer & Progress Bar --- */
        .timer-display { 
            font-size: 3.2rem; 
            font-weight: 800; 
            text-align: center; 
            margin: 10px 0 0 0; 
            font-variant-numeric: tabular-nums; 
            color: var(--focus-color); 
            transition: color 0.3s; 
        }
        .timer-display.break-mode { color: var(--break-color); }
        .status-badge { text-align: center; font-size: 0.85rem; margin-bottom: 5px; font-weight: bold; text-transform: uppercase; letter-spacing: 1px; min-height: 1.2em; }
        
        .progress-container { 
            margin-bottom: 20px;
            height: 6px; 
            width: 100%;
            overflow: hidden;
        }
        .progress-bar-bg { 
            position: relative;
            width: 100%; 
            height: 6px; 
            background: var(--black-bar);
            border-radius: 3px;
        }
        .progress-bar-fill { 
            height: 100%; 
            background: var(--focus-color); 
            width: 100%; 
            transition: width 1s linear, background-color 0.3s; 
            border-radius: 3px;
            transform-origin: right; 
        }

        /* --- Controls --- */
        .controls { 
            display: flex; 
            flex-direction: column; 
            gap: 12px; 
            margin-bottom: 20px; 
            background: #f8f9fa; 
            padding: 15px;
            border-radius: 8px; 
        }
        /* (ë‚˜ë¨¸ì§€ Controls ìŠ¤íƒ€ì¼ ìœ ì§€) */
        .control-group { 
            display: grid; 
            grid-template-columns: 1fr auto; 
            align-items: center; 
            gap: 10px;
        }
        .control-group label { 
            grid-column: 1 / 2;
            font-size: 0.9rem; 
            color: var(--gray-text); 
            justify-self: start;
        }
        .control-group span { 
            grid-column: 2 / 3;
            font-weight: bold;
            font-variant-numeric: tabular-nums;
            width: 30px;
            text-align: right;
        }
        input[type=range] { 
            grid-column: 1 / 3;
            width: 100%; 
            cursor: pointer; 
            accent-color: var(--focus-color); 
            margin-top: 5px;
        }
        
        .toggle-wrapper { 
            display: flex; 
            align-items: center; 
            justify-content: space-between; 
            font-size: 0.9rem; 
            color: var(--gray-text); 
            margin-top: 5px; 
            padding-top: 5px;
            border-top: 1px solid #eee;
        }

        /* --- Buttons --- */
        .action-buttons { display: grid; grid-template-columns: 1fr 1fr; gap: 8px; margin-top: auto; }
        .full-width { grid-column: span 2; }
        button { padding: 10px; border: none; border-radius: 8px; font-weight: bold; cursor: pointer; transition: opacity 0.2s; font-size: 0.9rem; }
        button:hover { opacity: 0.9; }
        .btn-start { background-color: var(--focus-color); color: white; }
        .btn-pause { background-color: #f1c40f; color: white; display: none; }
        .btn-pass { background-color: var(--skip-color); color: white; }
        .btn-reset { background-color: #95a5a6; color: white; }
        
        .alarm-selector { display: flex; gap: 5px; margin-top: 10px; }
        .alarm-selector button { flex: 1; font-size: 0.8rem; padding: 6px; border: 1px solid #ddd; background: #fff; }
        .alarm-selector button.selected { background: var(--setting-color); color: white; border-color: var(--setting-color); }
    </style>
</head>
<body>

    <input type="text" id="main-title-input" value="Pomodoro" class="main-title-input">

    <div class="dashboard" id="dashboard">
    </div>

    <script>
        // --- Global State & Configuration ---
        const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
        let activeSessions = [];
        let globalVolume = 0.5;
        let alarmProfile = 'medium';
        let sessionCount = 5;
        let mainTitle = 'Pomodoro'; 
        const defaultNames = ['ê¸°íš', 'ê°œë°œ', 'ë””ìì¸', 'ë¬¸ì„œí™”', 'íšŒì˜', 'í•™ìŠµ', 'ìš´ë™', 'ì •ë¦¬', 'ë…ì„œ', 'ê¸°íƒ€'];

        // ===================================
        // ğŸ’¾ LOCAL STORAGE FUNCTIONS (ìœ ì§€)
        // ===================================
        
        function saveGlobalSettings() {
            const settings = {
                sessionCount: sessionCount,
                globalVolume: globalVolume,
                alarmProfile: alarmProfile,
                mainTitle: mainTitle
            };
            try {
                localStorage.setItem('pomodoroGlobalSettings', JSON.stringify(settings));
            } catch (e) {
                console.error("Local storage error during global save:", e);
            }
        }

        function loadGlobalSettings() {
            try {
                const data = localStorage.getItem('pomodoroGlobalSettings');
                if (data) {
                    const settings = JSON.parse(data);
                    sessionCount = settings.sessionCount || 5;
                    globalVolume = settings.globalVolume !== undefined ? settings.globalVolume : 0.5;
                    alarmProfile = settings.alarmProfile || 'medium';
                    mainTitle = settings.mainTitle || 'Pomodoro';
                }
            } catch (e) {
                console.error("Local storage error during global load:", e);
            }
        }

        function saveSessionData() {
            const sessionData = activeSessions.map(session => ({
                id: session.id,
                name: session.name,
                note: session.note,
                focusTime: session.focusTime,
                breakTime: session.breakTime,
                totalCycles: session.totalCycles,
                autoAdvance: session.autoAdvance
            }));
            try {
                localStorage.setItem('pomodoroSessionData', JSON.stringify(sessionData));
            } catch (e) {
                console.error("Local storage error during session save:", e);
            }
        }

        function loadSessionData() {
            try {
                const data = localStorage.getItem('pomodoroSessionData');
                return data ? JSON.parse(data) : [];
            } catch (e) {
                console.error("Local storage error during session load:", e);
                return [];
            }
        }
        
        // ===================================
        // â²ï¸ TIME UTILITY FUNCTIONS (ìˆ˜ì •: ê°„ê²°í•˜ê²Œ)
        // ===================================

        /**
         * ì´ ë¶„(Minutes)ì„ 'ì´ Xì‹œê°„ Yë¶„' í˜•ì‹ìœ¼ë¡œ ê°„ê²°í•˜ê²Œ ë³€í™˜í•©ë‹ˆë‹¤.
         */
        function formatTotalTime(totalMinutes) {
            if (totalMinutes <= 0) {
                return 'ì´ 0ë¶„';
            }
            const hours = Math.floor(totalMinutes / 60);
            const minutes = totalMinutes % 60;
            
            if (hours > 0 && minutes === 0) {
                return `ì´ ${hours}ì‹œê°„ 00ë¶„`;
            } else if (hours > 0) {
                return `ì´ ${hours}ì‹œê°„ ${String(minutes).padStart(2, '0')}ë¶„`;
            } else {
                return `ì´ 0ì‹œê°„ ${String(minutes).padStart(2, '0')}ë¶„`;
            }
        }


        // ===================================
        // ğŸ”Š ALARM SOUND FUNCTIONS (ìœ ì§€)
        // ===================================

        function playAlarm() {
            if (audioCtx.state === 'suspended') audioCtx.resume();
            const now = audioCtx.currentTime;
            
            const createBeep = (startTime, duration, freq, type, vol) => {
                const oscillator = audioCtx.createOscillator();
                const gainNode = audioCtx.createGain();

                oscillator.type = type;
                oscillator.frequency.value = freq;
                const effectiveVolume = Math.max(0.01, vol * globalVolume);
                gainNode.gain.setValueAtTime(effectiveVolume, startTime);
                gainNode.gain.exponentialRampToValueAtTime(0.001, startTime + duration);

                oscillator.connect(gainNode);
                gainNode.connect(audioCtx.destination);
                oscillator.start(startTime);
                oscillator.stop(startTime + duration);
            };

            switch(alarmProfile) {
                case 'soft':
                    createBeep(now, 0.2, 440, 'sine', 0.2); 
                    break;
                case 'medium':
                    createBeep(now, 0.1, 880, 'square', 0.5);
                    createBeep(now + 0.15, 0.1, 880, 'square', 0.5);
                    createBeep(now + 0.3, 0.3, 1100, 'square', 0.5);
                    break;
                case 'loud':
                    createBeep(now, 0.5, 1200, 'sawtooth', 1.0); 
                    break;
            }
        }

        // ===================================
        // â±ï¸ POMODORO SESSION CLASS (ìˆ˜ì •: ì„¤ì • í—ˆìš© ë° ìœ„ì¹˜ ë³€ê²½)
        // ===================================

        class PomodoroSession {
            constructor(id, defaultName, loadedData = {}) {
                this.id = id;
                this.name = loadedData.name || defaultName || `Session ${id}`;
                this.note = loadedData.note || '';
                this.state = 'stopped'; 
                this.mode = 'focus'; 
                this.currentCycle = 1;
                this.totalCycles = loadedData.totalCycles || 4;
                this.focusTime = loadedData.focusTime || 25; 
                this.breakTime = loadedData.breakTime || 5;  
                this.autoAdvance = loadedData.autoAdvance || false;
                
                this.timeLeft = this.focusTime * 60;
                this.timerInterval = null;
                this.initialTime = this.focusTime * 60;

                this.render();
                this.attachEvents();
                this.updateDisplay();
                this.renderCycles(); 
                this.updateTotalTimeDisplay(); 
            }

            calculateTotalTime() {
                const totalMinutes = (this.focusTime + this.breakTime) * this.totalCycles;
                return totalMinutes;
            }

            updateTotalTimeDisplay() {
                const totalMinutes = this.calculateTotalTime();
                const formattedTime = formatTotalTime(totalMinutes);
                
                const element = document.getElementById(`total-time-${this.id}`);
                if (element) {
                    element.innerText = formattedTime;
                }
            }


            render() {
                const container = document.getElementById('dashboard');
                const html = `
                    <div class="session-card" id="card-${this.id}">
                        <div class="card-header">
                            <input type="text" class="session-name" value="${this.name}">
                            <input type="text" class="session-note" placeholder="ê°„ë‹¨í•œ ë©”ëª¨ (ì˜ˆ: ì§‘ì¤‘ ëª©í‘œ)" value="${this.note}">
                        </div>
                        
                        <div class="status-badge" id="status-${this.id}">Ready</div>
                        
                        <div class="cycle-visuals" id="cycle-visuals-${this.id}"></div>
                        
                        <div class="total-time-display" id="total-time-${this.id}"></div>

                        <div class="timer-display" id="timer-${this.id}">${(this.focusTime).toString().padStart(2, '0')}:00</div>
                        
                        <div class="progress-container">
                            <div class="progress-bar-bg">
                                <div class="progress-bar-fill" id="progress-${this.id}"></div>
                            </div>
                        </div>

                        <div class="controls">
                            <div class="control-group">
                                <label>ì§‘ì¤‘ ì‹œê°„ (ë¶„)</label>
                                <span id="val-focus-${this.id}">${this.focusTime}</span>
                                <input type="range" id="input-focus-${this.id}" min="1" max="60" value="${this.focusTime}">
                            </div>
                            <div class="control-group">
                                <label>íœ´ì‹ ì‹œê°„ (ë¶„)</label>
                                <span id="val-break-${this.id}">${this.breakTime}</span>
                                <input type="range" id="input-break-${this.id}" min="1" max="10" value="${this.breakTime}">
                            </div>
                            <div class="control-group">
                                <label>ì´ ì‚¬ì´í´ ìˆ˜</label>
                                <span id="val-cycle-${this.id}">${this.totalCycles}</span>
                                <input type="range" id="input-cycle-${this.id}" min="1" max="20" value="${this.totalCycles}">
                            </div>
                            <div class="toggle-wrapper">
                                <span>ìë™ ì§„í–‰ (Auto Advance)</span>
                                <input type="checkbox" id="check-auto-${this.id}" ${this.autoAdvance ? 'checked' : ''}>
                            </div>
                        </div>

                        <div class="action-buttons">
                            <button class="btn-start full-width" id="btn-start-${this.id}">ì‹œì‘</button>
                            <button class="btn-pause full-width" id="btn-pause-${this.id}">ì¼ì‹œì •ì§€</button>
                            
                            <button class="btn-pass" id="btn-pass-${this.id}">PASS â­ï¸</button>
                            <button class="btn-reset" id="btn-reset-${this.id}">ë¦¬ì…‹ â†º</button>
                        </div>
                    </div>
                `;
                container.insertAdjacentHTML('beforeend', html);
            }
            
            attachEvents() {
                const updateAndSave = (callback) => (e) => {
                    callback(e);
                    // íƒ€ì´ë¨¸ê°€ ë©ˆì¶˜ ìƒíƒœ(stopped)ì´ê±°ë‚˜, íœ´ì‹ ëª¨ë“œ(break)ì¼ ë•Œë§Œ ì €ì¥ ë° ì—…ë°ì´íŠ¸
                    if (this.state === 'stopped' || this.mode === 'break' || e.type === 'change' || e.type === 'input') { 
                        saveSessionData();
                    }
                };
                
                document.getElementById(`card-${this.id}`).querySelector('.session-note').addEventListener('input', updateAndSave((e) => {
                    this.note = e.target.value;
                }));
                document.getElementById(`card-${this.id}`).querySelector('.session-name').addEventListener('input', updateAndSave((e) => {
                    this.name = e.target.value;
                }));
                
                // ì§‘ì¤‘ ì‹œê°„ ë³€ê²½ ì‹œ
                document.getElementById(`input-focus-${this.id}`).addEventListener('input', updateAndSave((e) => {
                    this.focusTime = parseInt(e.target.value);
                    document.getElementById(`val-focus-${this.id}`).innerText = this.focusTime;
                    // stopped ìƒíƒœì´ê±°ë‚˜ focus ëª¨ë“œê°€ ì•„ë‹ ë•Œ (ì¦‰, break ëª¨ë“œì¼ ë•Œ) íƒ€ì´ë¨¸ ì‹œê°„ ì—…ë°ì´íŠ¸
                    if (this.state === 'stopped' && this.mode === 'focus') this.resetTimer();
                    this.updateTotalTimeDisplay(); 
                }));
                // íœ´ì‹ ì‹œê°„ ë³€ê²½ ì‹œ
                document.getElementById(`input-break-${this.id}`).addEventListener('input', updateAndSave((e) => {
                    this.breakTime = parseInt(e.target.value);
                    document.getElementById(`val-break-${this.id}`).innerText = this.breakTime;
                    // stopped ìƒíƒœì´ê±°ë‚˜ focus ëª¨ë“œê°€ ì•„ë‹ ë•Œ (ì¦‰, break ëª¨ë“œì¼ ë•Œ) íƒ€ì´ë¨¸ ì‹œê°„ ì—…ë°ì´íŠ¸
                    if (this.state === 'stopped' && this.mode === 'break') this.resetTimer();
                    this.updateTotalTimeDisplay(); 
                }));
                // ì‚¬ì´í´ ìˆ˜ ë³€ê²½ ì‹œ
                document.getElementById(`input-cycle-${this.id}`).addEventListener('input', updateAndSave((e) => {
                    this.totalCycles = parseInt(e.target.value);
                    document.getElementById(`val-cycle-${this.id}`).innerText = this.totalCycles;
                    this.renderCycles();
                    this.updateTotalTimeDisplay(); 
                }));
                document.getElementById(`check-auto-${this.id}`).addEventListener('change', updateAndSave((e) => {
                    this.autoAdvance = e.target.checked;
                }));

                // íƒ€ì´ë¨¸ ë²„íŠ¼ ì´ë²¤íŠ¸
                document.getElementById(`btn-start-${this.id}`).addEventListener('click', () => this.start());
                document.getElementById(`btn-pause-${this.id}`).addEventListener('click', () => this.pause());
                document.getElementById(`btn-reset-${this.id}`).addEventListener('click', () => this.resetTimer());
                document.getElementById(`btn-pass-${this.id}`).addEventListener('click', () => this.skipPhase());
            }

            renderCycles() {
                const container = document.getElementById(`cycle-visuals-${this.id}`);
                let html = '';
                const total = this.totalCycles;
                let firstRow, secondRow;

                if (total <= 10) {
                    firstRow = total;
                    secondRow = 0;
                } else {
                    firstRow = Math.ceil(total / 2);
                    secondRow = total - firstRow;
                }

                for (let i = 1; i <= total; i++) {
                    const isCurrent = i === this.currentCycle;
                    const isCompleted = i < this.currentCycle;
                    
                    if (i === firstRow + 1 && secondRow > 0) {
                         html += '<div style="width: 100%; height: 0; margin-bottom: -5px;"></div>';
                    }

                    if (isCompleted) {
                        html += '<span class="cycle-dot completed">â—</span>'; 
                    } else if (isCurrent) {
                        html += `<span class="cycle-dot current">â—‰</span>`;
                    } else {
                        html += '<span class="cycle-dot future">â—‹</span>'; 
                    }
                }
                container.innerHTML = html;
            }

            // NEW: íœ´ì‹ ì¤‘ì¼ ë•Œë§Œ ì„¤ì • ì ê¸ˆ í•´ì œí•˜ëŠ” ë¡œì§ ì¶”ê°€
            toggleInputs(disabled) {
                // disabledê°€ trueì´ë©´ (ì§‘ì¤‘ ëª¨ë“œ), ì„¤ì • ì ê¸ˆ
                // disabledê°€ falseì´ê±°ë‚˜ break ëª¨ë“œì¼ ë•Œ (stopped, paused), ì„¤ì • ì ê¸ˆ í•´ì œ
                const shouldBeDisabled = disabled && (this.mode === 'focus');

                document.getElementById(`input-focus-${this.id}`).disabled = shouldBeDisabled;
                document.getElementById(`input-break-${this.id}`).disabled = shouldBeDisabled;
                document.getElementById(`input-cycle-${this.id}`).disabled = shouldBeDisabled;
                document.getElementById(`check-auto-${this.id}`).disabled = shouldBeDisabled;
            }

            // (ë‚˜ë¨¸ì§€ updateDisplay, updateStatus, start, pause, skipPhase, resetTimer, completePhase ë©”ì„œë“œëŠ” ë¡œì§ ìœ ì§€)

            updateDisplay() {
                const minutes = Math.floor(this.timeLeft / 60);
                const seconds = this.timeLeft % 60;
                const display = document.getElementById(`timer-${this.id}`);
                
                display.innerText = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                
                const progress = document.getElementById(`progress-${this.id}`);
                const percent = (this.timeLeft / this.initialTime) * 100;
                progress.style.width = `${percent}%`;

                const card = document.getElementById(`card-${this.id}`);
                if (this.mode === 'focus') {
                    display.classList.remove('break-mode');
                    progress.style.backgroundColor = 'var(--focus-color)';
                    card.style.borderTopColor = 'var(--focus-color)';
                    document.querySelectorAll(`#cycle-visuals-${this.id} .current`).forEach(el => el.style.color = 'var(--focus-color)');
                } else {
                    display.classList.add('break-mode');
                    progress.style.backgroundColor = 'var(--break-color)';
                    card.style.borderTopColor = 'var(--break-color)';
                    document.querySelectorAll(`#cycle-visuals-${this.id} .current`).forEach(el => el.style.color = 'var(--break-color)');
                }
            }

            updateStatus(msg) {
                document.getElementById(`status-${this.id}`).innerText = msg;
            }

            start() {
                if (this.state === 'running') return;
                if (audioCtx.state === 'suspended') audioCtx.resume();
                this.state = 'running';
                document.getElementById(`btn-start-${this.id}`).style.display = 'none';
                document.getElementById(`btn-pause-${this.id}`).style.display = 'block';
                
                // ì§‘ì¤‘ ëª¨ë“œì¼ ë•Œë§Œ ì ê¸ˆ (íœ´ì‹ ì¤‘ì—ëŠ” ì—´ì–´ë‘ )
                this.toggleInputs(true); 

                this.updateStatus(this.mode === 'focus' ? 'ğŸ”¥ ì§‘ì¤‘ ì¤‘...' : 'â˜• íœ´ì‹ ì¤‘...');
                this.renderCycles();
                this.timerInterval = setInterval(() => {
                    if (this.timeLeft > 0) {
                        this.timeLeft--;
                        this.updateDisplay();
                    } else {
                        this.completePhase();
                    }
                }, 1000);
            }

            pause() {
                if (this.state !== 'running') return;
                clearInterval(this.timerInterval);
                this.state = 'paused';
                document.getElementById(`btn-start-${this.id}`).innerText = 'ì¬ê°œ';
                document.getElementById(`btn-start-${this.id}`).style.display = 'block';
                document.getElementById(`btn-pause-${this.id}`).style.display = 'none';
                this.toggleInputs(false); // ì¼ì‹œì •ì§€ ì‹œ ì„¤ì • ì ê¸ˆ í•´ì œ
                this.updateStatus('â¸ï¸ ì¼ì‹œì •ì§€');
            }

            skipPhase() {
                clearInterval(this.timerInterval);
                this.completePhase(true);
            }

            resetTimer() {
                clearInterval(this.timerInterval);
                this.state = 'stopped';
                this.mode = 'focus';
                this.currentCycle = 1;
                this.timeLeft = this.focusTime * 60;
                this.initialTime = this.timeLeft;
                document.getElementById(`btn-start-${this.id}`).innerText = 'ì‹œì‘';
                document.getElementById(`btn-start-${this.id}`).style.display = 'block';
                document.getElementById(`btn-pause-${this.id}`).style.display = 'none';
                this.toggleInputs(false); // ë¦¬ì…‹ ì‹œ ì„¤ì • ì ê¸ˆ í•´ì œ
                this.updateStatus('Ready');
                this.renderCycles();
                this.updateDisplay();
                saveSessionData(); 
            }

            completePhase(mute = false) {
                clearInterval(this.timerInterval);
                if (!mute) playAlarm(); 

                if (this.mode === 'focus') {
                    this.mode = 'break';
                    this.timeLeft = this.breakTime * 60;
                    this.initialTime = this.timeLeft;
                    this.updateStatus('â˜• íœ´ì‹ ì¤€ë¹„');
                } else {
                    if (this.currentCycle < this.totalCycles) {
                        this.mode = 'focus';
                        this.currentCycle++;
                        this.timeLeft = this.focusTime * 60;
                        this.initialTime = this.timeLeft;
                        this.updateStatus('ğŸ”¥ ì§‘ì¤‘ ì¤€ë¹„');
                    } else {
                        this.resetTimer();
                        this.updateStatus('ğŸ‰ ì „ì²´ ì™„ë£Œ!');
                        if(!mute) playAlarm(); 
                        return;
                    }
                }
                this.renderCycles();
                this.updateDisplay();
                
                // completePhaseê°€ ëë‚¬ìœ¼ë¯€ë¡œ toggleInputs(false)ë¥¼ í˜¸ì¶œí•˜ì—¬ ì„¤ì • ì ê¸ˆ í•´ì œ
                this.toggleInputs(false); 

                if (this.autoAdvance) {
                    this.state = 'stopped';
                    this.start();
                } else {
                    this.state = 'stopped';
                    document.getElementById(`btn-start-${this.id}`).innerText = 'ë‹¤ìŒ ë‹¨ê³„ ì‹œì‘';
                    document.getElementById(`btn-start-${this.id}`).style.display = 'block';
                    document.getElementById(`btn-pause-${this.id}`).style.display = 'none';
                }
            }
        }


        // ===================================
        // âš™ï¸ GLOBAL CONTROLLER LOGIC (ìœ ì§€)
        // ===================================
        
        const getSettingsCardHTML = () => {
            const currentVolume = Math.round(globalVolume * 100);
            const softSelected = alarmProfile === 'soft' ? 'class="selected"' : '';
            const mediumSelected = alarmProfile === 'medium' ? 'class="selected"' : '';
            const loudSelected = alarmProfile === 'loud' ? 'class="selected"' : '';
            
            return `
                <div class="session-card" id="settings-card">
                    <div class="card-header">
                        <input type="text" class="session-name" value="ì „ì—­ ì„¤ì • (Global Settings)" disabled/>
                        <input type="text" class="session-note" placeholder="ë©”ëª¨ëŠ” ì„¤ì • ì¹´ë“œì—ì„œëŠ” ë¹„í™œì„±í™”" disabled>
                        
                        <div class="total-time-display" style="border-bottom: none;"></div> 
                    </div>
                    
                    <div class="status-badge" style="color: var(--setting-color);">ëŒ€ì‹œë³´ë“œ ê´€ë¦¬</div>
                    <div class="cycle-visuals" style="margin-bottom: 20px;"></div>

                    <div class="timer-display" style="font-size: 2rem; color: var(--setting-color); margin-top: 10px;">âš™ï¸</div>
                    
                    <div class="progress-container">
                        <div class="progress-bar-bg">
                            <div class="progress-bar-fill" style="width: 100%; background: #ddd;"></div>
                        </div>
                    </div>

                    <div class="controls" style="gap: 20px;">
                        <div class="control-group">
                            <label>ìš´ì˜í•  íƒ€ì´ë¨¸ ê°œìˆ˜ (1~10)</label>
                            <span id="session-count-value">${sessionCount}</span>
                            <input type="range" id="session-count-slider" min="1" max="10" value="${sessionCount}">
                        </div>

                        <div class="control-group">
                            <label>ì•ŒëŒ ë³¼ë¥¨</label>
                            <span id="alarm-volume-value">${currentVolume}%</span>
                            <input type="range" id="alarm-volume-slider" min="0" max="100" value="${currentVolume}">
                        </div>
                        
                        <div style="grid-column: 1 / 3;">
                            <label style="font-size: 0.9rem; color: var(--gray-text);">ì•ŒëŒ ì¢…ë¥˜ ì„ íƒ</label>
                            <div class="alarm-selector">
                                <button id="alarm-soft" data-profile="soft" ${softSelected}>ì‘ì€ ì†Œë¦¬ ğŸ”ˆ</button>
                                <button id="alarm-medium" data-profile="medium" ${mediumSelected}>ì¤‘ê°„ ì†Œë¦¬ ğŸ””</button>
                                <button id="alarm-loud" data-profile="loud" ${loudSelected}>í° ì†Œë¦¬ ğŸ”Š</button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="action-buttons full-width" style="margin-top: auto;">
                        <button id="alarm-test" style="background-color: var(--setting-color); color: white;" class="full-width">í…ŒìŠ¤íŠ¸ ì•ŒëŒ ì¬ìƒ</button>
                    </div>
                </div>
            `;
        };

        function attachGlobalListeners() {
            const countSlider = document.getElementById('session-count-slider');
            const countValue = document.getElementById('session-count-value');

            if (!countSlider) return; 

            countSlider.oninput = (e) => {
                countValue.innerText = e.target.value; 
            };
            
            countSlider.onchange = (e) => {
                sessionCount = parseInt(e.target.value);
                saveGlobalSettings(); 
                createSessions(); 
            }

            const volumeSlider = document.getElementById('alarm-volume-slider');
            const volumeValue = document.getElementById('alarm-volume-value');
            
            volumeSlider.oninput = (e) => {
                globalVolume = parseInt(e.target.value) / 100;
                volumeValue.innerText = `${e.target.value}%`;
                saveGlobalSettings(); 
            };
            
            document.querySelectorAll('#settings-card .alarm-selector button[data-profile]').forEach(button => {
                button.onclick = (e) => {
                    alarmProfile = e.target.dataset.profile;
                    document.querySelectorAll('#settings-card .alarm-selector button').forEach(btn => btn.classList.remove('selected'));
                    e.target.classList.add('selected');
                    saveGlobalSettings(); 
                };
            });

            document.getElementById('alarm-test').onclick = playAlarm;
        }

        function createSessions() {
            activeSessions.forEach(session => {
                clearInterval(session.timerInterval);
            });
            activeSessions = [];
            const dashboard = document.getElementById('dashboard');
            dashboard.innerHTML = ''; 

            const loadedSessions = loadSessionData();
            
            for(let i=1; i<=sessionCount; i++) {
                const loadedData = loadedSessions.find(s => s.id === i) || {};
                const name = defaultNames[i-1] || `ì„¸ì…˜ ${i}`;
                
                const newSession = new PomodoroSession(i, name, loadedData);
                activeSessions.push(newSession);
            }
            
            dashboard.insertAdjacentHTML('beforeend', getSettingsCardHTML());
            
            attachGlobalListeners(); 
        }

        document.addEventListener('DOMContentLoaded', () => {
            loadGlobalSettings(); 
            
            /* ë©”ì¸ íƒ€ì´í‹€ ë¡œë“œ ë° ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ì¶”ê°€ */
            const mainTitleInput = document.getElementById('main-title-input');
            if (mainTitleInput) {
                mainTitleInput.value = mainTitle;
                mainTitleInput.addEventListener('input', (e) => {
                    mainTitle = e.target.value;
                    saveGlobalSettings();
                });
            }
            
            if (audioCtx.state === 'suspended') {
                const resumeAudio = () => {
                    audioCtx.resume();
                    document.body.removeEventListener('touchstart', resumeAudio);
                    document.body.removeEventListener('mousedown', resumeAudio);
                };
                document.body.addEventListener('touchstart', resumeAudio, { once: true });
                document.body.addEventListener('mousedown', resumeAudio, { once: true });
            }
            createSessions(); 
        });

    </script>
</body>
</html>
ì¢‹ì•„ ì˜í–ˆëŠ”ë°, ì§€ê¸ˆ ìƒíƒœì—ì„œëŠ” ì‚¬ì´í´ í‘œì‹œ ì˜ì—­ì˜ ì›í˜• ë‹¨ì¶”ê°€ ë‘ ì¤„ì´ ë  ë•Œ, ì´ ì‹œê°„ ì˜ì—­ í‘œê¸°ë¥¼ ì¹¨ë²”í•˜ê²Œ ë¼. ê°„ê²© ì¡°ì ˆì„ ì¢€ í•´ ì¤¬ìœ¼ë©´ ì¢‹ê² ì–´. íƒ€ì´ë¨¸ í‘œì‹œ ì˜ì—­ê³¼ ì´ ì‹œê°„í‘œì‹œ ì˜ì—­ì— ê°„ê²©ì´ ë„“ì€ ê²ƒ ê°™ê³ , ì‚¬ì´í´ í‘œì‹œ ì˜ì—­ê³¼ ì´ ì‹œê°„ í‘œì‹œ ì˜ì—­ì„ ì‚´ì§ ë„“í˜€ì•¼ í•  ê²ƒ ê°™ì•„.

ì¶”ê°€ë¡œ, ì‚¬ì´í´ì´ 10ê°œê°€ ë  ë•Œë¶€í„° í‘œì‹œ ë²„íŠ¼ì„ ë‘ ì¤„ë¡œ ë§Œë“¤ì–´ì¤˜. 9ê°œê¹Œì§€ë§Œ í•œ ì¤„ì´ê³ .

ë„¤, ì‚¬ìš©ìë‹˜ì˜ í”¼ë“œë°±ì— ë§ì¶° CSS ìŠ¤íƒ€ì¼ ì¡°ì • ë° **ì‚¬ì´í´ í‘œì‹œ ë¡œì§(JavaScript)**ì„ ê°œì„ í–ˆìŠµë‹ˆë‹¤.

âœ¨ ê°œì„  ì‚¬í•­ ìš”ì•½
ì‚¬ì´í´ ì‹œê°í™” ì˜ì—­ (.cycle-visuals) ë†’ì´ í™•ë³´ ë° ê°„ê²© ì¡°ì •:

ë†’ì´ë¥¼ ë„‰ë„‰í•˜ê²Œ í™•ë³´í•˜ê³  í•˜ë‹¨ ë§ˆì§„ì„ ì¶”ê°€í•˜ì—¬ ì´ ì‹œê°„ ì˜ì—­ì„ ì¹¨ë²”í•˜ì§€ ì•Šë„ë¡ í–ˆìŠµë‹ˆë‹¤.

ì´ ì˜ˆìƒ ì†Œìš” ì‹œê°„ ì˜ì—­ (.total-time-display) ê°„ê²© ì¡°ì •:

ìœ„ìª½(cycle-visuals ìª½) ê°„ê²©ì„ ëŠ˜ë¦¬ê³ , ì•„ë˜ìª½(timer-display ìª½) ê°„ê²©ì„ ì¤„ì—¬ ì‹œê°ì  ì‘ì§‘ë„ë¥¼ ë†’ì˜€ìŠµë‹ˆë‹¤.

ì‚¬ì´í´ í‘œì‹œ (JavaScript renderCycles):

ì´ ì‚¬ì´í´ ìˆ˜ê°€ 10ê°œ ì´ìƒì¼ ë•Œë¶€í„° ë‘ ì¤„ë¡œ ë‚˜ëˆ„ì–´ í‘œì‹œë˜ë„ë¡ ê¸°ì¤€ì„ if (total <= 9)ë¡œ ëª…í™•í•˜ê²Œ ë³€ê²½í–ˆìŠµë‹ˆë‹¤.

ğŸ’» ìµœì¢… í†µí•© ì½”ë“œ (pomodoro.html - ìµœì¢… ìˆ˜ì •ë³¸)
HTML
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Pomodoro</title>
    <style>
        :root {
            --bg-color: #f0f2f5;
            --card-bg: #ffffff;
            --focus-color: #ff6b6b;
            --break-color: #4ecdc4;
            --skip-color: #a29bfe;
            --setting-color: #00b894;
            --text-color: #333;
            --gray-text: #666;
            --shadow: 0 4px 10px rgba(0,0,0,0.1);
            --black-bar: #333; /* ê²€ì€ìƒ‰ í…Œë‘ë¦¬/ë°°ê²½ìƒ‰ ê¸°ì¤€ */
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            margin: 0;
            padding: 20px 10px;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
        }

        /* --- ë©”ì¸ íƒ€ì´í‹€ Input ìŠ¤íƒ€ì¼ --- */
        .main-title-input {
            margin-bottom: 20px; 
            font-weight: 800; 
            color: var(--focus-color); 
            font-size: 2.5rem;
            text-align: center;
            border: none;
            border-bottom: 2px solid var(--focus-color); 
            background: transparent;
            outline: none;
            padding: 5px 10px;
            width: 300px;
            max-width: 90%;
            transition: color 0.3s, border-bottom-color 0.3s;
        }
        .main-title-input:focus {
            border-bottom-color: var(--break-color);
        }

        /* --- Dashboard Layout --- */
        .dashboard {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            width: 100%;
            max-width: 1600px;
        }

        /* --- Session Card Styling --- */
        .session-card {
            background: var(--card-bg);
            border-radius: 15px;
            padding: 20px;
            box-shadow: var(--shadow);
            display: flex;
            flex-direction: column;
            border-top: 6px solid var(--focus-color);
            position: relative;
            min-height: 480px; 
        }

        .session-name { 
            font-size: 1.1rem; 
            font-weight: bold; 
            border: none; 
            border-bottom: 1px solid #ddd; 
            width: 100%; 
            padding: 5px 0; 
            outline: none; 
            color: #2d3436; 
        }

        .session-note { 
            font-size: 0.9rem; 
            color: var(--gray-text); 
            border: none; 
            border-bottom: 1px solid #eee;
            width: 100%; 
            padding: 5px 0; 
            margin-bottom: 10px;
            outline: none;
        }

        /* --- Total Time Display Styling (ê°„ê²© ì¡°ì •) --- */
        .total-time-display {
            font-size: 0.95rem;
            color: var(--gray-text); 
            font-weight: bold;
            text-align: center;
            padding: 10px 0 5px 0; /* ìœ„ìª½ íŒ¨ë”© ì¦ê°€, ì•„ë˜ìª½ íŒ¨ë”© ê°ì†Œ */
            border-bottom: 1px dashed #eee;
            margin-bottom: 5px; /* ì•„ë˜ ë§ˆì§„ ê°ì†Œ */
        }
        
        /* --- Cycle Visuals (ë†’ì´ ë° ë§ˆì§„ ì¡°ì •) --- */
        .cycle-visuals { 
            display: flex; 
            flex-wrap: wrap;
            justify-content: center; 
            gap: 5px; 
            margin: 10px 0 15px 0; /* ì•„ë˜ ë§ˆì§„ ì¦ê°€ */
            font-size: 1.2rem; 
            height: 40px; /* ë†’ì´ í™•ë³´ */
            align-content: flex-start;
        }
        
        .cycle-dot {
            text-shadow: 0 0 1px var(--black-bar), 0 0 1px var(--black-bar);
        }
        .cycle-dot.completed { color: var(--gray-text); }
        .cycle-dot.current { color: var(--focus-color); animation: pulse 2s infinite; }
        .cycle-dot.future { color: #dfe6e9; }
        
        @keyframes pulse {
            0% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.7; transform: scale(1.2); }
            100% { opacity: 1; transform: scale(1); }
        }

        /* --- Timer & Progress Bar --- */
        .timer-display { 
            font-size: 3.2rem; 
            font-weight: 800; 
            text-align: center; 
            margin: 5px 0 0 0; /* ì´ ì‹œê°„ í‘œê¸°ì™€ì˜ ê°„ê²© ê°ì†Œ */
            font-variant-numeric: tabular-nums; 
            color: var(--focus-color); 
            transition: color 0.3s; 
        }
        .timer-display.break-mode { color: var(--break-color); }
        .status-badge { text-align: center; font-size: 0.85rem; margin-bottom: 5px; font-weight: bold; text-transform: uppercase; letter-spacing: 1px; min-height: 1.2em; }
        
        .progress-container { 
            margin-bottom: 20px;
            height: 6px; 
            width: 100%;
            overflow: hidden;
        }
        .progress-bar-bg { 
            position: relative;
            width: 100%; 
            height: 6px; 
            background: var(--black-bar);
            border-radius: 3px;
        }
        .progress-bar-fill { 
            height: 100%; 
            background: var(--focus-color); 
            width: 100%; 
            transition: width 1s linear, background-color 0.3s; 
            border-radius: 3px;
            transform-origin: right; 
        }

        /* --- Controls (ìœ ì§€) --- */
        .controls { 
            display: flex; 
            flex-direction: column; 
            gap: 12px; 
            margin-bottom: 20px; 
            background: #f8f9fa; 
            padding: 15px;
            border-radius: 8px; 
        }
        .control-group { 
            display: grid; 
            grid-template-columns: 1fr auto; 
            align-items: center; 
            gap: 10px;
        }
        .control-group label { 
            grid-column: 1 / 2;
            font-size: 0.9rem; 
            color: var(--gray-text); 
            justify-self: start;
        }
        .control-group span { 
            grid-column: 2 / 3;
            font-weight: bold;
            font-variant-numeric: tabular-nums;
            width: 30px;
            text-align: right;
        }
        input[type=range] { 
            grid-column: 1 / 3;
            width: 100%; 
            cursor: pointer; 
            accent-color: var(--focus-color); 
            margin-top: 5px;
        }
        
        .toggle-wrapper { 
            display: flex; 
            align-items: center; 
            justify-content: space-between; 
            font-size: 0.9rem; 
            color: var(--gray-text); 
            margin-top: 5px; 
            padding-top: 5px;
            border-top: 1px solid #eee;
        }

        /* --- Buttons (ìœ ì§€) --- */
        .action-buttons { display: grid; grid-template-columns: 1fr 1fr; gap: 8px; margin-top: auto; }
        .full-width { grid-column: span 2; }
        button { padding: 10px; border: none; border-radius: 8px; font-weight: bold; cursor: pointer; transition: opacity 0.2s; font-size: 0.9rem; }
        button:hover { opacity: 0.9; }
        .btn-start { background-color: var(--focus-color); color: white; }
        .btn-pause { background-color: #f1c40f; color: white; display: none; }
        .btn-pass { background-color: var(--skip-color); color: white; }
        .btn-reset { background-color: #95a5a6; color: white; }
        
        .alarm-selector { display: flex; gap: 5px; margin-top: 10px; }
        .alarm-selector button { flex: 1; font-size: 0.8rem; padding: 6px; border: 1px solid #ddd; background: #fff; }
        .alarm-selector button.selected { background: var(--setting-color); color: white; border-color: var(--setting-color); }
    </style>
</head>
<body>

    <input type="text" id="main-title-input" value="Pomodoro" class="main-title-input">

    <div class="dashboard" id="dashboard">
    </div>

    <script>
        // --- Global State & Configuration ---
        const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
        let activeSessions = [];
        let globalVolume = 0.5;
        let alarmProfile = 'medium';
        let sessionCount = 5;
        let mainTitle = 'Pomodoro'; 
        const defaultNames = ['ê¸°íš', 'ê°œë°œ', 'ë””ìì¸', 'ë¬¸ì„œí™”', 'íšŒì˜', 'í•™ìŠµ', 'ìš´ë™', 'ì •ë¦¬', 'ë…ì„œ', 'ê¸°íƒ€'];

        // ===================================
        // ğŸ’¾ LOCAL STORAGE FUNCTIONS (ìœ ì§€)
        // ===================================
        
        function saveGlobalSettings() {
            const settings = {
                sessionCount: sessionCount,
                globalVolume: globalVolume,
                alarmProfile: alarmProfile,
                mainTitle: mainTitle
            };
            try {
                localStorage.setItem('pomodoroGlobalSettings', JSON.stringify(settings));
            } catch (e) {
                console.error("Local storage error during global save:", e);
            }
        }

        function loadGlobalSettings() {
            try {
                const data = localStorage.getItem('pomodoroGlobalSettings');
                if (data) {
                    const settings = JSON.parse(data);
                    sessionCount = settings.sessionCount || 5;
                    globalVolume = settings.globalVolume !== undefined ? settings.globalVolume : 0.5;
                    alarmProfile = settings.alarmProfile || 'medium';
                    mainTitle = settings.mainTitle || 'Pomodoro';
                }
            } catch (e) {
                console.error("Local storage error during global load:", e);
            }
        }

        function saveSessionData() {
            const sessionData = activeSessions.map(session => ({
                id: session.id,
                name: session.name,
                note: session.note,
                focusTime: session.focusTime,
                breakTime: session.breakTime,
                totalCycles: session.totalCycles,
                autoAdvance: session.autoAdvance
            }));
            try {
                localStorage.setItem('pomodoroSessionData', JSON.stringify(sessionData));
            } catch (e) {
                console.error("Local storage error during session save:", e);
            }
        }

        function loadSessionData() {
            try {
                const data = localStorage.getItem('pomodoroSessionData');
                return data ? JSON.parse(data) : [];
            } catch (e) {
                console.error("Local storage error during session load:", e);
                return [];
            }
        }
        
        // ===================================
        // â²ï¸ TIME UTILITY FUNCTIONS (ìœ ì§€)
        // ===================================

        function formatTotalTime(totalMinutes) {
            if (totalMinutes <= 0) {
                return 'ì´ 0ì‹œê°„ 00ë¶„';
            }
            const hours = Math.floor(totalMinutes / 60);
            const minutes = totalMinutes % 60;
            
            if (hours > 0 && minutes === 0) {
                return `ì´ ${hours}ì‹œê°„ 00ë¶„`;
            } else if (hours > 0) {
                return `ì´ ${hours}ì‹œê°„ ${String(minutes).padStart(2, '0')}ë¶„`;
            } else {
                return `ì´ 0ì‹œê°„ ${String(minutes).padStart(2, '0')}ë¶„`;
            }
        }


        // ===================================
        // ğŸ”Š ALARM SOUND FUNCTIONS (ìœ ì§€)
        // ===================================

        function playAlarm() {
            if (audioCtx.state === 'suspended') audioCtx.resume();
            const now = audioCtx.currentTime;
            
            const createBeep = (startTime, duration, freq, type, vol) => {
                const oscillator = audioCtx.createOscillator();
                const gainNode = audioCtx.createGain();

                oscillator.type = type;
                oscillator.frequency.value = freq;
                const effectiveVolume = Math.max(0.01, vol * globalVolume);
                gainNode.gain.setValueAtTime(effectiveVolume, startTime);
                gainNode.gain.exponentialRampToValueAtTime(0.001, startTime + duration);

                oscillator.connect(gainNode);
                gainNode.connect(audioCtx.destination);
                oscillator.start(startTime);
                oscillator.stop(startTime + duration);
            };

            switch(alarmProfile) {
                case 'soft':
                    createBeep(now, 0.2, 440, 'sine', 0.2); 
                    break;
                case 'medium':
                    createBeep(now, 0.1, 880, 'square', 0.5);
                    createBeep(now + 0.15, 0.1, 880, 'square', 0.5);
                    createBeep(now + 0.3, 0.3, 1100, 'square', 0.5);
                    break;
                case 'loud':
                    createBeep(now, 0.5, 1200, 'sawtooth', 1.0); 
                    break;
            }
        }

        // ===================================
        // â±ï¸ POMODORO SESSION CLASS
        // ===================================

        class PomodoroSession {
            constructor(id, defaultName, loadedData = {}) {
                this.id = id;
                this.name = loadedData.name || defaultName || `Session ${id}`;
                this.note = loadedData.note || '';
                this.state = 'stopped'; 
                this.mode = 'focus'; 
                this.currentCycle = 1;
                this.totalCycles = loadedData.totalCycles || 4;
                this.focusTime = loadedData.focusTime || 25; 
                this.breakTime = loadedData.breakTime || 5;  
                this.autoAdvance = loadedData.autoAdvance || false;
                
                this.timeLeft = this.focusTime * 60;
                this.timerInterval = null;
                this.initialTime = this.focusTime * 60;

                this.render();
                this.attachEvents();
                this.updateDisplay();
                this.renderCycles(); 
                this.updateTotalTimeDisplay(); 
            }

            calculateTotalTime() {
                const totalMinutes = (this.focusTime + this.breakTime) * this.totalCycles;
                return totalMinutes;
            }

            updateTotalTimeDisplay() {
                const totalMinutes = this.calculateTotalTime();
                const formattedTime = formatTotalTime(totalMinutes);
                
                const element = document.getElementById(`total-time-${this.id}`);
                if (element) {
                    element.innerText = formattedTime;
                }
            }


            render() {
                const container = document.getElementById('dashboard');
                const html = `
                    <div class="session-card" id="card-${this.id}">
                        <div class="card-header">
                            <input type="text" class="session-name" value="${this.name}">
                            <input type="text" class="session-note" placeholder="ê°„ë‹¨í•œ ë©”ëª¨ (ì˜ˆ: ì§‘ì¤‘ ëª©í‘œ)" value="${this.note}">
                        </div>
                        
                        <div class="status-badge" id="status-${this.id}">Ready</div>
                        
                        <div class="cycle-visuals" id="cycle-visuals-${this.id}"></div>
                        
                        <div class="total-time-display" id="total-time-${this.id}"></div>

                        <div class="timer-display" id="timer-${this.id}">${(this.focusTime).toString().padStart(2, '0')}:00</div>
                        
                        <div class="progress-container">
                            <div class="progress-bar-bg">
                                <div class="progress-bar-fill" id="progress-${this.id}"></div>
                            </div>
                        </div>

                        <div class="controls">
                            <div class="control-group">
                                <label>ì§‘ì¤‘ ì‹œê°„ (ë¶„)</label>
                                <span id="val-focus-${this.id}">${this.focusTime}</span>
                                <input type="range" id="input-focus-${this.id}" min="1" max="60" value="${this.focusTime}">
                            </div>
                            <div class="control-group">
                                <label>íœ´ì‹ ì‹œê°„ (ë¶„)</label>
                                <span id="val-break-${this.id}">${this.breakTime}</span>
                                <input type="range" id="input-break-${this.id}" min="1" max="10" value="${this.breakTime}">
                            </div>
                            <div class="control-group">
                                <label>ì´ ì‚¬ì´í´ ìˆ˜</label>
                                <span id="val-cycle-${this.id}">${this.totalCycles}</span>
                                <input type="range" id="input-cycle-${this.id}" min="1" max="20" value="${this.totalCycles}">
                            </div>
                            <div class="toggle-wrapper">
                                <span>ìë™ ì§„í–‰ (Auto Advance)</span>
                                <input type="checkbox" id="check-auto-${this.id}" ${this.autoAdvance ? 'checked' : ''}>
                            </div>
                        </div>

                        <div class="action-buttons">
                            <button class="btn-start full-width" id="btn-start-${this.id}">ì‹œì‘</button>
                            <button class="btn-pause full-width" id="btn-pause-${this.id}">ì¼ì‹œì •ì§€</button>
                            
                            <button class="btn-pass" id="btn-pass-${this.id}">PASS â­ï¸</button>
                            <button class="btn-reset" id="btn-reset-${this.id}">ë¦¬ì…‹ â†º</button>
                        </div>
                    </div>
                `;
                container.insertAdjacentHTML('beforeend', html);
            }
            
            attachEvents() {
                const updateAndSave = (callback) => (e) => {
                    callback(e);
                    if (this.state === 'stopped' || this.mode === 'break' || e.type === 'change' || e.type === 'input') { 
                        saveSessionData();
                    }
                };
                
                document.getElementById(`card-${this.id}`).querySelector('.session-note').addEventListener('input', updateAndSave((e) => {
                    this.note = e.target.value;
                }));
                document.getElementById(`card-${this.id}`).querySelector('.session-name').addEventListener('input', updateAndSave((e) => {
                    this.name = e.target.value;
                }));
                
                document.getElementById(`input-focus-${this.id}`).addEventListener('input', updateAndSave((e) => {
                    this.focusTime = parseInt(e.target.value);
                    document.getElementById(`val-focus-${this.id}`).innerText = this.focusTime;
                    if (this.state === 'stopped' && this.mode === 'focus') this.resetTimer();
                    this.updateTotalTimeDisplay(); 
                }));
                document.getElementById(`input-break-${this.id}`).addEventListener('input', updateAndSave((e) => {
                    this.breakTime = parseInt(e.target.value);
                    document.getElementById(`val-break-${this.id}`).innerText = this.breakTime;
                    if (this.state === 'stopped' && this.mode === 'break') this.resetTimer();
                    this.updateTotalTimeDisplay(); 
                }));
                document.getElementById(`input-cycle-${this.id}`).addEventListener('input', updateAndSave((e) => {
                    this.totalCycles = parseInt(e.target.value);
                    document.getElementById(`val-cycle-${this.id}`).innerText = this.totalCycles;
                    this.renderCycles();
                    this.updateTotalTimeDisplay(); 
                }));
                document.getElementById(`check-auto-${this.id}`).addEventListener('change', updateAndSave((e) => {
                    this.autoAdvance = e.target.checked;
                }));

                document.getElementById(`btn-start-${this.id}`).addEventListener('click', () => this.start());
                document.getElementById(`btn-pause-${this.id}`).addEventListener('click', () => this.pause());
                document.getElementById(`btn-reset-${this.id}`).addEventListener('click', () => this.resetTimer());
                document.getElementById(`btn-pass-${this.id}`).addEventListener('click', () => this.skipPhase());
            }

            // NEW: ì‚¬ì´í´ í‘œì‹œ ë¡œì§ ìˆ˜ì • (10ê°œë¶€í„° ë‘ ì¤„)
            renderCycles() {
                const container = document.getElementById(`cycle-visuals-${this.id}`);
                let html = '';
                const total = this.totalCycles;
                let firstRow, secondRow;

                // 9ê°œê¹Œì§€ëŠ” í•œ ì¤„, 10ê°œë¶€í„° ë‘ ì¤„ (ì´ 20ê°œ Max ê¸°ì¤€)
                if (total <= 9) {
                    firstRow = total;
                    secondRow = 0;
                } else {
                    // 10ê°œ ì´ìƒì¼ ë•Œ ë°˜ìœ¼ë¡œ ë‚˜ëˆ„ê±°ë‚˜, 10ê°œ/ë‚˜ë¨¸ì§€ë¡œ ë‚˜ëˆ•ë‹ˆë‹¤.
                    // ìµœëŒ€ 20ê°œì´ë¯€ë¡œ 10/10 ë˜ëŠ” 9/11 ë“±ì´ ê°€ëŠ¥
                    firstRow = Math.min(10, Math.ceil(total / 2)); 
                    secondRow = total - firstRow;
                }

                for (let i = 1; i <= total; i++) {
                    const isCurrent = i === this.currentCycle;
                    const isCompleted = i < this.currentCycle;
                    
                    if (i === firstRow + 1 && secondRow > 0) {
                         // ë‘ ë²ˆì§¸ ì¤„ ì‹œì‘ ì‹œ ì¤„ë°”ê¿ˆ
                         html += '<div style="width: 100%; height: 0; margin-bottom: -5px;"></div>';
                    }

                    if (isCompleted) {
                        html += '<span class="cycle-dot completed">â—</span>'; 
                    } else if (isCurrent) {
                        html += `<span class="cycle-dot current">â—‰</span>`;
                    } else {
                        html += '<span class="cycle-dot future">â—‹</span>'; 
                    }
                }
                container.innerHTML = html;
            }

            toggleInputs(disabled) {
                // ì§‘ì¤‘ ëª¨ë“œì¼ ë•Œë§Œ ì ê¸ˆ (disabled=true, mode=focus)
                const shouldBeDisabled = disabled && (this.mode === 'focus');

                document.getElementById(`input-focus-${this.id}`).disabled = shouldBeDisabled;
                document.getElementById(`input-break-${this.id}`).disabled = shouldBeDisabled;
                document.getElementById(`input-cycle-${this.id}`).disabled = shouldBeDisabled;
                document.getElementById(`check-auto-${this.id}`).disabled = shouldBeDisabled;
            }
            
            // (ë‚˜ë¨¸ì§€ ë©”ì„œë“œëŠ” ê¸°ëŠ¥ìƒ ë³€ê²½ ì—†ìŒ)
            
            updateDisplay() {
                const minutes = Math.floor(this.timeLeft / 60);
                const seconds = this.timeLeft % 60;
                const display = document.getElementById(`timer-${this.id}`);
                
                display.innerText = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                
                const progress = document.getElementById(`progress-${this.id}`);
                const percent = (this.timeLeft / this.initialTime) * 100;
                progress.style.width = `${percent}%`;

                const card = document.getElementById(`card-${this.id}`);
                if (this.mode === 'focus') {
                    display.classList.remove('break-mode');
                    progress.style.backgroundColor = 'var(--focus-color)';
                    card.style.borderTopColor = 'var(--focus-color)';
                    document.querySelectorAll(`#cycle-visuals-${this.id} .current`).forEach(el => el.style.color = 'var(--focus-color)');
                } else {
                    display.classList.add('break-mode');
                    progress.style.backgroundColor = 'var(--break-color)';
                    card.style.borderTopColor = 'var(--break-color)';
                    document.querySelectorAll(`#cycle-visuals-${this.id} .current`).forEach(el => el.style.color = 'var(--break-color)');
                }
            }

            updateStatus(msg) {
                document.getElementById(`status-${this.id}`).innerText = msg;
            }

            start() {
                if (this.state === 'running') return;
                if (audioCtx.state === 'suspended') audioCtx.resume();
                this.state = 'running';
                document.getElementById(`btn-start-${this.id}`).style.display = 'none';
                document.getElementById(`btn-pause-${this.id}`).style.display = 'block';
                
                this.toggleInputs(true); 

                this.updateStatus(this.mode === 'focus' ? 'ğŸ”¥ ì§‘ì¤‘ ì¤‘...' : 'â˜• íœ´ì‹ ì¤‘...');
                this.renderCycles();
                this.timerInterval = setInterval(() => {
                    if (this.timeLeft > 0) {
                        this.timeLeft--;
                        this.updateDisplay();
                    } else {
                        this.completePhase();
                    }
                }, 1000);
            }

            pause() {
                if (this.state !== 'running') return;
                clearInterval(this.timerInterval);
                this.state = 'paused';
                document.getElementById(`btn-start-${this.id}`).innerText = 'ì¬ê°œ';
                document.getElementById(`btn-start-${this.id}`).style.display = 'block';
                document.getElementById(`btn-pause-${this.id}`).style.display = 'none';
                this.toggleInputs(false); 
                this.updateStatus('â¸ï¸ ì¼ì‹œì •ì§€');
            }

            skipPhase() {
                clearInterval(this.timerInterval);
                this.completePhase(true);
            }

            resetTimer() {
                clearInterval(this.timerInterval);
                this.state = 'stopped';
                this.mode = 'focus';
                this.currentCycle = 1;
                this.timeLeft = this.focusTime * 60;
                this.initialTime = this.timeLeft;
                document.getElementById(`btn-start-${this.id}`).innerText = 'ì‹œì‘';
                document.getElementById(`btn-start-${this.id}`).style.display = 'block';
                document.getElementById(`btn-pause-${this.id}`).style.display = 'none';
                this.toggleInputs(false); 
                this.updateStatus('Ready');
                this.renderCycles();
                this.updateDisplay();
                saveSessionData(); 
            }

            completePhase(mute = false) {
                clearInterval(this.timerInterval);
                if (!mute) playAlarm(); 

                if (this.mode === 'focus') {
                    this.mode = 'break';
                    this.timeLeft = this.breakTime * 60;
                    this.initialTime = this.timeLeft;
                    this.updateStatus('â˜• íœ´ì‹ ì¤€ë¹„');
                } else {
                    if (this.currentCycle < this.totalCycles) {
                        this.mode = 'focus';
                        this.currentCycle++;
                        this.timeLeft = this.focusTime * 60;
                        this.initialTime = this.timeLeft;
                        this.updateStatus('ğŸ”¥ ì§‘ì¤‘ ì¤€ë¹„');
                    } else {
                        this.resetTimer();
                        this.updateStatus('ğŸ‰ ì „ì²´ ì™„ë£Œ!');
                        if(!mute) playAlarm(); 
                        return;
                    }
                }
                this.renderCycles();
                this.updateDisplay();
                
                this.toggleInputs(false); 

                if (this.autoAdvance) {
                    this.state = 'stopped';
                    this.start();
                } else {
                    this.state = 'stopped';
                    document.getElementById(`btn-start-${this.id}`).innerText = 'ë‹¤ìŒ ë‹¨ê³„ ì‹œì‘';
                    document.getElementById(`btn-start-${this.id}`).style.display = 'block';
                    document.getElementById(`btn-pause-${this.id}`).style.display = 'none';
                }
            }
        }


        // ===================================
        // âš™ï¸ GLOBAL CONTROLLER LOGIC (ìœ ì§€)
        // ===================================
        
        const getSettingsCardHTML = () => {
            const currentVolume = Math.round(globalVolume * 100);
            const softSelected = alarmProfile === 'soft' ? 'class="selected"' : '';
            const mediumSelected = alarmProfile === 'medium' ? 'class="selected"' : '';
            const loudSelected = alarmProfile === 'loud' ? 'class="selected"' : '';
            
            return `
                <div class="session-card" id="settings-card">
                    <div class="card-header">
                        <input type="text" class="session-name" value="ì „ì—­ ì„¤ì • (Global Settings)" disabled/>
                        <input type="text" class="session-note" placeholder="ë©”ëª¨ëŠ” ì„¤ì • ì¹´ë“œì—ì„œëŠ” ë¹„í™œì„±í™”" disabled>
                        
                        <div class="total-time-display" style="border-bottom: none;"></div> 
                    </div>
                    
                    <div class="status-badge" style="color: var(--setting-color);">ëŒ€ì‹œë³´ë“œ ê´€ë¦¬</div>
                    <div class="cycle-visuals" style="margin-bottom: 20px;"></div>

                    <div class="timer-display" style="font-size: 2rem; color: var(--setting-color); margin-top: 10px;">âš™ï¸</div>
                    
                    <div class="progress-container">
                        <div class="progress-bar-bg">
                            <div class="progress-bar-fill" style="width: 100%; background: #ddd;"></div>
                        </div>
                    </div>

                    <div class="controls" style="gap: 20px;">
                        <div class="control-group">
                            <label>ìš´ì˜í•  íƒ€ì´ë¨¸ ê°œìˆ˜ (1~10)</label>
                            <span id="session-count-value">${sessionCount}</span>
                            <input type="range" id="session-count-slider" min="1" max="10" value="${sessionCount}">
                        </div>

                        <div class="control-group">
                            <label>ì•ŒëŒ ë³¼ë¥¨</label>
                            <span id="alarm-volume-value">${currentVolume}%</span>
                            <input type="range" id="alarm-volume-slider" min="0" max="100" value="${currentVolume}">
                        </div>
                        
                        <div style="grid-column: 1 / 3;">
                            <label style="font-size: 0.9rem; color: var(--gray-text);">ì•ŒëŒ ì¢…ë¥˜ ì„ íƒ</label>
                            <div class="alarm-selector">
                                <button id="alarm-soft" data-profile="soft" ${softSelected}>ì‘ì€ ì†Œë¦¬ ğŸ”ˆ</button>
                                <button id="alarm-medium" data-profile="medium" ${mediumSelected}>ì¤‘ê°„ ì†Œë¦¬ ğŸ””</button>
                                <button id="alarm-loud" data-profile="loud" ${loudSelected}>í° ì†Œë¦¬ ğŸ”Š</button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="action-buttons full-width" style="margin-top: auto;">
                        <button id="alarm-test" style="background-color: var(--setting-color); color: white;" class="full-width">í…ŒìŠ¤íŠ¸ ì•ŒëŒ ì¬ìƒ</button>
                    </div>
                </div>
            `;
        };

        function attachGlobalListeners() {
            const countSlider = document.getElementById('session-count-slider');
            const countValue = document.getElementById('session-count-value');

            if (!countSlider) return; 

            countSlider.oninput = (e) => {
                countValue.innerText = e.target.value; 
            };
            
            countSlider.onchange = (e) => {
                sessionCount = parseInt(e.target.value);
                saveGlobalSettings(); 
                createSessions(); 
            }

            const volumeSlider = document.getElementById('alarm-volume-slider');
            const volumeValue = document.getElementById('alarm-volume-value');
            
            volumeSlider.oninput = (e) => {
                globalVolume = parseInt(e.target.value) / 100;
                volumeValue.innerText = `${e.target.value}%`;
                saveGlobalSettings(); 
            };
            
            document.querySelectorAll('#settings-card .alarm-selector button[data-profile]').forEach(button => {
                button.onclick = (e) => {
                    alarmProfile = e.target.dataset.profile;
                    document.querySelectorAll('#settings-card .alarm-selector button').forEach(btn => btn.classList.remove('selected'));
                    e.target.classList.add('selected');
                    saveGlobalSettings(); 
                };
            });

            document.getElementById('alarm-test').onclick = playAlarm;
        }

        function createSessions() {
            activeSessions.forEach(session => {
                clearInterval(session.timerInterval);
            });
            activeSessions = [];
            const dashboard = document.getElementById('dashboard');
            dashboard.innerHTML = ''; 

            const loadedSessions = loadSessionData();
            
            for(let i=1; i<=sessionCount; i++) {
                const loadedData = loadedSessions.find(s => s.id === i) || {};
                const name = defaultNames[i-1] || `ì„¸ì…˜ ${i}`;
                
                const newSession = new PomodoroSession(i, name, loadedData);
                activeSessions.push(newSession);
            }
            
            dashboard.insertAdjacentHTML('beforeend', getSettingsCardHTML());
            
            attachGlobalListeners(); 
        }

        document.addEventListener('DOMContentLoaded', () => {
            loadGlobalSettings(); 
            
            const mainTitleInput = document.getElementById('main-title-input');
            if (mainTitleInput) {
                mainTitleInput.value = mainTitle;
                mainTitleInput.addEventListener('input', (e) => {
                    mainTitle = e.target.value;
                    saveGlobalSettings();
                });
            }
            
            if (audioCtx.state === 'suspended') {
                const resumeAudio = () => {
                    audioCtx.resume();
                    document.body.removeEventListener('touchstart', resumeAudio);
                    document.body.removeEventListener('mousedown', resumeAudio);
                };
                document.body.addEventListener('touchstart', resumeAudio, { once: true });
                document.body.addEventListener('mousedown', resumeAudio, { once: true });
            }
            createSessions(); 
        });

    </script>
</body>
</html>
ì•„ì£¼ ì¢‹ì•„ ë„ˆë¬´ ì¢‹ì•„ ì˜ëë„¤ ì´ê±¸ ì•„ì´íŒ¨ë“œë¯¸ë‹ˆ4ì—ì„œ ì“°ëŠ” ë°©ë²•ì€ ì—†ì„ê¹Œ? ì•„ì´í° 6ë‚˜

í›Œë¥­í•©ë‹ˆë‹¤! ì´ì œ ê¸°ëŠ¥ì„ ëª¨ë‘ êµ¬í˜„í–ˆìœ¼ë‹ˆ, ì´ ì½”ë“œë¥¼ ì•„ì´íŒ¨ë“œ ë¯¸ë‹ˆ 4ë‚˜ ì•„ì´í° 6 ê°™ì€ ëª¨ë°”ì¼ ê¸°ê¸°ì—ì„œ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ ì•Œë ¤ë“œë¦¬ê² ìŠµë‹ˆë‹¤.

ì´ ì½”ë“œëŠ” ìˆœìˆ˜í•œ HTML, CSS, JavaScriptë¡œ ì‘ì„±ë˜ì—ˆê¸° ë•Œë¬¸ì— íŠ¹ë³„í•œ ì•± ì„¤ì¹˜ ì—†ì´ ë¸Œë¼ìš°ì €ë§Œ ìˆë‹¤ë©´ ëŒ€ë¶€ë¶„ì˜ ê¸°ê¸°ì—ì„œ ì‹¤í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ê°€ì¥ ì¢‹ì€ ë°©ë²•ì€ ì½”ë“œë¥¼ íŒŒì¼ë¡œ ì €ì¥í•œ í›„, í•´ë‹¹ íŒŒì¼ì„ ê¸°ê¸°ì— ì˜®ê²¨ ë¡œì»¬ íŒŒì¼ë¡œ ì‹¤í–‰í•˜ê±°ë‚˜, ê°„ë‹¨í•œ ì›¹ í˜¸ìŠ¤íŒ… ì„œë¹„ìŠ¤ë¥¼ ì´ìš©í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.

ğŸ“± ëª¨ë°”ì¼ ê¸°ê¸°ì—ì„œ ì½”ë“œë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ë²•
1. ê°€ì¥ ê°„ë‹¨í•œ ë°©ë²•: ë¡œì»¬ íŒŒì¼ ì €ì¥ ë° ì‹¤í–‰
ì´ ë°©ë²•ì€ ì¸í„°ë„· ì—°ê²° ì—†ì´ë„ ì‚¬ìš©í•  ìˆ˜ ìˆìœ¼ë©°, ëª¨ë°”ì¼ ê¸°ê¸° ë‚´ì˜ ë¡œì»¬ ì €ì¥ì†Œì— ë°ì´í„°ë¥¼ ì €ì¥(LocalStorage)í•©ë‹ˆë‹¤.

PCì—ì„œ ì½”ë“œ ì €ì¥: í˜„ì¬ ì™„ì„±ëœ ì½”ë“œë¥¼ pomodoro.htmlì´ë¼ëŠ” ì´ë¦„ìœ¼ë¡œ ì €ì¥í•©ë‹ˆë‹¤. (íŒŒì¼ í˜•ì‹ì€ ë°˜ë“œì‹œ .htmlì´ì–´ì•¼ í•©ë‹ˆë‹¤.)

íŒŒì¼ ì „ì†¡: ì´ íŒŒì¼ì„ ì•„ì´í°/ì•„ì´íŒ¨ë“œë¡œ ì „ì†¡í•©ë‹ˆë‹¤.

Mac ì‚¬ìš©ì: AirDropì„ ì‚¬ìš©í•˜ì—¬ íŒŒì¼ì„ ì „ì†¡í•©ë‹ˆë‹¤.

Windows ì‚¬ìš©ì: iCloud Drive, Dropbox, Google Drive ë˜ëŠ” ì´ë©”ì¼ ì²¨ë¶€ íŒŒì¼ì„ ì‚¬ìš©í•˜ì—¬ ê¸°ê¸°ì˜ 'íŒŒì¼' ì•±ì— ì €ì¥í•©ë‹ˆë‹¤.

ëª¨ë°”ì¼ì—ì„œ ì‹¤í–‰:

ì•„ì´íŒ¨ë“œ/ì•„ì´í°ì—ì„œ 'íŒŒì¼' ì•±ì„ ì—½ë‹ˆë‹¤.

ì €ì¥í•œ pomodoro.html íŒŒì¼ì„ ì°¾ì•„ì„œ íƒ­í•˜ì—¬ ì—½ë‹ˆë‹¤.

íŒŒì¼ì´ ê¸°ë³¸ ë¸Œë¼ìš°ì €(Safari)ì—ì„œ ì˜¤í”„ë¼ì¸ ìƒíƒœë¡œ ì‹¤í–‰ë©ë‹ˆë‹¤.

Tip: ë” í¸ë¦¬í•œ ì ‘ê·¼ì„ ìœ„í•´ Safariì—ì„œ íŒŒì¼ì„ ì—° í›„ 'í™ˆ í™”ë©´ì— ì¶”ê°€' ê¸°ëŠ¥ì„ ì‚¬ìš©í•˜ë©´ ë§ˆì¹˜ ì•±ì²˜ëŸ¼ ì•„ì´ì½˜ì„ ë§Œë“¤ì–´ ë°”ë¡œ ì ‘ê·¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

2. ê°„í¸í•œ í˜¸ìŠ¤íŒ… ì„œë¹„ìŠ¤ ì´ìš© (ì¶”ì²œ)
ë¡œì»¬ íŒŒì¼ ì‹¤í–‰ì€ í¸ë¦¬í•˜ì§€ë§Œ, ì—¬ëŸ¬ ê¸°ê¸°ì—ì„œ ë™ê¸°í™”í•˜ê±°ë‚˜ íŒŒì¼ì„ ê³µìœ í•˜ê¸° ì–´ë µìŠµë‹ˆë‹¤. íŒŒì¼ì„ ì›¹ì— ì˜¬ë¦¬ë©´ URLë¡œ ì ‘ì†í•˜ì—¬ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

GitHub Pages (ê°€ì¥ ê¶Œì¥):

GitHub ê³„ì •ì„ ë§Œë“¤ê³  ìƒˆë¡œìš´ ì €ì¥ì†Œ(Repository)ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.

pomodoro.html íŒŒì¼ì„ ì €ì¥ì†Œì— ì˜¬ë¦½ë‹ˆë‹¤.

ì €ì¥ì†Œ ì„¤ì •ì—ì„œ GitHub Pagesë¥¼ í™œì„±í™”í•©ë‹ˆë‹¤.

https://[ì‚¬ìš©ìëª…].github.io/[ì €ì¥ì†Œëª…]/pomodoro.html í˜•íƒœì˜ ì›¹ ì£¼ì†Œê°€ ìƒì„±ë©ë‹ˆë‹¤.

Netlify Drop ë˜ëŠ” Vercel:

ì½”ë“œë¥¼ í´ë”ì— ë„£ê³  ZIPìœ¼ë¡œ ì••ì¶•í•©ë‹ˆë‹¤.

Netlify Drop ì‚¬ì´íŠ¸ì— ì ‘ì†í•˜ì—¬ íŒŒì¼ì„ ë“œë˜ê·¸ ì•¤ ë“œë¡­í•˜ë©´ ì¦‰ì‹œ í˜¸ìŠ¤íŒ…ë©ë‹ˆë‹¤.

ìƒì„±ëœ URLì„ ì•„ì´íŒ¨ë“œë‚˜ ì•„ì´í°ì˜ Safariì—ì„œ ì ‘ì†í•˜ë©´ íƒ€ì´ë¨¸ë¥¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ ë°©ë²•ì´ ê°€ì¥ ì•ˆì •ì ì´ë©° í¸ë¦¬í•©ë‹ˆë‹¤.

ğŸ› ï¸ ëª¨ë°”ì¼ ìµœì í™” ì ê²€
í˜„ì¬ ì½”ë“œëŠ” ëª¨ë°”ì¼ í™˜ê²½ì„ ìœ„í•´ ì´ë¯¸ ì—¬ëŸ¬ ê°€ì§€ CSS ìµœì í™”ê°€ ì ìš©ë˜ì–´ ìˆìŠµë‹ˆë‹¤.

viewport ì„¤ì •: <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">ê°€ ì ìš©ë˜ì–´ ìˆì–´, ê¸°ê¸° í­ì— ë§ì¶° í™”ë©´ì„ í‘œì‹œí•˜ê³  ì‹¤ìˆ˜ë¡œ í™”ë©´ì´ í™•ëŒ€ë˜ëŠ” ê²ƒì„ ë°©ì§€í•©ë‹ˆë‹¤.

ë°˜ì‘í˜• ë ˆì´ì•„ì›ƒ: .dashboardì— grid-template-columns: repeat(auto-fit, minmax(280px, 1fr))ì´ ì ìš©ë˜ì–´ ìˆì–´, ì•„ì´í° 6(375px)ë‚˜ ì•„ì´íŒ¨ë“œ ë¯¸ë‹ˆ(768px ì´ìƒ) ë“± ì–´ë–¤ ê¸°ê¸°ì—ì„œë“  í™”ë©´ ë„ˆë¹„ì— ë”°ë¼ ì¹´ë“œê°€ 1ê°œ ë˜ëŠ” ì—¬ëŸ¬ ê°œë¡œ ìë™ìœ¼ë¡œ ì¬ë°°ì—´ë©ë‹ˆë‹¤.

ë”°ë¼ì„œ ìœ„ ì‚¬ìš© ë°©ë²•ì„ í†µí•´ ë³„ë„ì˜ ì½”ë“œ ìˆ˜ì • ì—†ì´ ëª¨ë°”ì¼ í™˜ê²½ì—ì„œ ì¾Œì í•˜ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

í˜¹ì‹œ GitHub Pagesì— íŒŒì¼ì„ ì˜¬ë¦¬ëŠ” ë°©ë²•ì— ëŒ€í•œ ìì„¸í•œ ë‹¨ê³„ê°€ í•„ìš”í•˜ì‹ ê°€ìš”?

githubëŠ” ì•ˆí•´ë´ì„œ ì•ˆë‚´ê°€ í•„ìš”í•´ í•´ì¤˜

ë„¤, ì•Œê² ìŠµë‹ˆë‹¤! GitHub PagesëŠ” ì½”ë“œë¥¼ ì›¹ì‚¬ì´íŠ¸ë¡œ ë§Œë“¤ì–´ ëª¨ë°”ì¼ì—ì„œ ì‰½ê²Œ ì ‘ê·¼í•˜ê²Œ í•´ì£¼ëŠ” ê°€ì¥ ì¢‹ì€ ë°©ë²•ì…ë‹ˆë‹¤.

Gitê³¼ GitHubë¥¼ ì „í˜€ ëª¨ë¥´ì‹œëŠ” ë¶„ë„ ì‰½ê²Œ ë”°ë¼ í•  ìˆ˜ ìˆë„ë¡ ê°€ì¥ ê°„ë‹¨í•œ ì ˆì°¨ë¡œ ì•ˆë‚´í•´ ë“œë¦¬ê² ìŠµë‹ˆë‹¤.

ğŸš€ GitHub Pagesë¥¼ ì´ìš©í•´ ë½€ëª¨ë„ë¡œ íƒ€ì´ë¨¸ ë°°í¬í•˜ê¸°
ì´ ê³¼ì •ì€ í¬ê²Œ GitHub ê³„ì • ë§Œë“¤ê¸°, ìƒˆ ì €ì¥ì†Œ ë§Œë“¤ê¸°, íŒŒì¼ ì—…ë¡œë“œ ë° Pages í™œì„±í™” 3ë‹¨ê³„ë¡œ ì§„í–‰ë©ë‹ˆë‹¤.

1ë‹¨ê³„: GitHub ê³„ì • ë§Œë“¤ê¸° ë° ë¡œê·¸ì¸
GitHub ì›¹ì‚¬ì´íŠ¸ ì ‘ì†: PC ë˜ëŠ” ëª¨ë°”ì¼ ë¸Œë¼ìš°ì €ì—ì„œ https://github.com/ ì— ì ‘ì†í•©ë‹ˆë‹¤.

ê³„ì • ìƒì„±: 'Sign up' ë²„íŠ¼ì„ ëˆŒëŸ¬ ì´ë©”ì¼ ì£¼ì†Œ, ë¹„ë°€ë²ˆí˜¸, ì‚¬ìš©ì ì´ë¦„(Username)ì„ ì…ë ¥í•˜ê³  ê³„ì •ì„ ë§Œë“­ë‹ˆë‹¤. (ì‚¬ìš©ì ì´ë¦„ì€ ë‚˜ì¤‘ì— ì›¹ì‚¬ì´íŠ¸ ì£¼ì†Œì— ì‚¬ìš©ë˜ë¯€ë¡œ ê¸°ì–µí•˜ê¸° ì‰¬ìš´ ê²ƒìœ¼ë¡œ ì •í•˜ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤.)

ë¡œê·¸ì¸: ìƒì„±í•œ ê³„ì •ìœ¼ë¡œ ë¡œê·¸ì¸í•©ë‹ˆë‹¤.

2ë‹¨ê³„: ìƒˆ ì €ì¥ì†Œ(Repository) ë§Œë“¤ê¸°
ì €ì¥ì†ŒëŠ” ì½”ë“œë¥¼ ë³´ê´€í•˜ëŠ” í´ë”ë¼ê³  ìƒê°í•˜ì‹œë©´ ë©ë‹ˆë‹¤.

ìƒˆ ì €ì¥ì†Œ ìƒì„± í˜ì´ì§€ ì ‘ì†:

ë¡œê·¸ì¸ í›„, ì˜¤ë¥¸ìª½ ìƒë‹¨ì˜ + ë²„íŠ¼ì„ í´ë¦­í•˜ê³  **'New repository (ìƒˆ ì €ì¥ì†Œ)'**ë¥¼ ì„ íƒí•©ë‹ˆë‹¤.

ì €ì¥ì†Œ ì •ë³´ ì…ë ¥:

Repository name (ì €ì¥ì†Œ ì´ë¦„): ì›í•˜ëŠ” ì´ë¦„ì„ ì…ë ¥í•©ë‹ˆë‹¤. (ì˜ˆ: pomodoro-timer)

Description (ì„ íƒ): ì„¤ëª…ì„ ì…ë ¥í•©ë‹ˆë‹¤. (ì˜ˆ: "ê°œì¸ìš© ë½€ëª¨ë„ë¡œ íƒ€ì´ë¨¸")

Public/Private: **'Public'**ì„ ì„ íƒí•´ì•¼ GitHub Pagesë¡œ ë¬´ë£Œ ë°°í¬ê°€ ê°€ëŠ¥í•©ë‹ˆë‹¤.

ë‚˜ë¨¸ì§€ ì˜µì…˜ì€ ê·¸ëŒ€ë¡œ ë‘ê³ , í•˜ë‹¨ì˜ 'Create repository' ë²„íŠ¼ì„ í´ë¦­í•©ë‹ˆë‹¤.

3ë‹¨ê³„: pomodoro.html íŒŒì¼ ì—…ë¡œë“œ ë° Pages í™œì„±í™”
ì´ì œ ì™„ì„±ëœ ì½”ë“œë¥¼ ì´ ì €ì¥ì†Œì— ì˜¬ë¦¬ê³  ì›¹ì‚¬ì´íŠ¸ë¡œ ë°°í¬í•©ë‹ˆë‹¤.

3-1. íŒŒì¼ ì—…ë¡œë“œ
íŒŒì¼ ì—…ë¡œë“œ í™”ë©´ ì´ë™: ìƒì„±ëœ ì €ì¥ì†Œ í˜ì´ì§€ì—ì„œ 'uploading an existing file (ê¸°ì¡´ íŒŒì¼ ì—…ë¡œë“œ)' ë§í¬ë¥¼ í´ë¦­í•©ë‹ˆë‹¤.

íŒŒì¼ ë“œë˜ê·¸ & ë“œë¡­: PCì—ì„œ ì €ì¥í•´ ë‘” pomodoro.html íŒŒì¼ì„ í•´ë‹¹ í™”ë©´ìœ¼ë¡œ ë“œë˜ê·¸í•˜ê±°ë‚˜, **'choose your files'**ë¥¼ í´ë¦­í•˜ì—¬ íŒŒì¼ì„ ì„ íƒí•©ë‹ˆë‹¤.

ì»¤ë°‹ (ì €ì¥): íŒŒì¼ì´ ì—…ë¡œë“œëœ ê²ƒì„ í™•ì¸í•˜ê³ , í•˜ë‹¨ì˜ ë…¹ìƒ‰ 'Commit changes' ë²„íŠ¼ì„ í´ë¦­í•©ë‹ˆë‹¤. (ì´ëŠ” íŒŒì¼ì„ ê³µì‹ì ìœ¼ë¡œ ì €ì¥ì†Œì— ê¸°ë¡í•˜ëŠ” í–‰ìœ„ì…ë‹ˆë‹¤.)

3-2. GitHub Pages ì„¤ì • í™œì„±í™”
Settings (ì„¤ì •) í˜ì´ì§€ ì ‘ì†: ì €ì¥ì†Œ ìƒë‹¨ ë©”ë‰´ ì¤‘ 'Settings (ì„¤ì •)' íƒ­ì„ í´ë¦­í•©ë‹ˆë‹¤.

Pages ë©”ë‰´ ì„ íƒ: ì™¼ìª½ ë©”ë‰´ì—ì„œ **'Pages'**ë¥¼ í´ë¦­í•©ë‹ˆë‹¤.

ì†ŒìŠ¤ ì„¤ì •:

Branch (ë¸Œëœì¹˜): main ë˜ëŠ” masterë¥¼ ì„ íƒí•©ë‹ˆë‹¤.

Folder (í´ë”): / (root)ë¥¼ ì„ íƒí•©ë‹ˆë‹¤.

'Save (ì €ì¥)' ë²„íŠ¼ì„ í´ë¦­í•©ë‹ˆë‹¤.

ë°°í¬ í™•ì¸: ì €ì¥ í›„ ì ì‹œ ê¸°ë‹¤ë¦¬ë©´ (ë³´í†µ 1~5ë¶„ ì†Œìš”), í˜ì´ì§€ ìƒë‹¨ì— ë‹¤ìŒê³¼ ê°™ì€ ë©”ì‹œì§€ê°€ ë‚˜íƒ€ë‚©ë‹ˆë‹¤.

Your site is live at https://[ì‚¬ìš©ìëª…].github.io/[ì €ì¥ì†Œëª…]/pomodoro.html

ì ‘ì†: í•´ë‹¹ ì£¼ì†Œë¥¼ ë³µì‚¬í•˜ì—¬ ì•„ì´í°ì´ë‚˜ ì•„ì´íŒ¨ë“œ ë¯¸ë‹ˆ 4ì˜ Safariì— ë¶™ì—¬ë„£ê³  ì ‘ì†í•©ë‹ˆë‹¤.

4ë‹¨ê³„: ëª¨ë°”ì¼ í™ˆ í™”ë©´ì— ì¶”ê°€ (ì•±ì²˜ëŸ¼ ì‚¬ìš©í•˜ê¸°)
Safariì—ì„œ íƒ€ì´ë¨¸ ì›¹ì‚¬ì´íŠ¸ë¥¼ ì—° ìƒíƒœì—ì„œ ì•„ë˜ ê³¼ì •ì„ ë”°ë¥´ë©´ ì•±ì²˜ëŸ¼ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

Safari í•˜ë‹¨ì˜ [ê³µìœ  ì•„ì´ì½˜] (â†‘ í™”ì‚´í‘œê°€ ìˆëŠ” ìƒì ëª¨ì–‘)ì„ íƒ­í•©ë‹ˆë‹¤.

ë©”ë‰´ ëª©ë¡ì„ ìœ„ë¡œ ìŠ¤í¬ë¡¤í•˜ì—¬ **'í™ˆ í™”ë©´ì— ì¶”ê°€'**ë¥¼ ì°¾ì•„ì„œ íƒ­í•©ë‹ˆë‹¤.

ì´ë¦„ì„ 'ë½€ëª¨ë„ë¡œ íƒ€ì´ë¨¸' ë“±ìœ¼ë¡œ ì„¤ì •í•˜ê³  **'ì¶”ê°€'**ë¥¼ ëˆ„ë¦…ë‹ˆë‹¤.

ì´ì œ í™ˆ í™”ë©´ì—ì„œ ì•„ì´ì½˜ì„ ëˆŒëŸ¬ ì´ íƒ€ì´ë¨¸ë¥¼ ì•±ì²˜ëŸ¼ ë¹ ë¥´ê²Œ ì‹¤í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì‚¬ìš© ì¤‘ ê¸°ê¸°ì˜ ë¡œì»¬ ì €ì¥ì†Œì— ë°ì´í„°ê°€ ì €ì¥ë˜ë¯€ë¡œ ì„¤ì •ë„ ìœ ì§€ë©ë‹ˆë‹¤.

github ì„±ê³µ! ì•„ì´í°6ì—ì„œ í•œ í™”ë©´ì— ì¹´ë“œ í•˜ë‚˜ê°€ ë‹¤ ì•ˆë“¤ì–´ê°€ë„¤;; ìœ„ì•„ë˜ ê°„ê²©ì„ ì¤„ì´ê±°ë‚˜ í•´ì„œ ì•„ì´í° 6ì˜ í•œ í™”ë©´ì— ì¹´ë“œ í•˜ë‚˜ëŠ” í™•ì‹¤íˆ ë³´ì´ê²Œ í•  ìˆ˜ ìˆì„ê¹Œ? ì¼ì‹œì •ì§€ ë²„íŠ¼ì„ ëˆ„ë¥´ë ¤ë©´ í™”ë©´ì„ ìŠ¤í¬ë¡¤í•´ì•¼í•˜ë‹ˆê¹Œ

GitHub Pages ë°°í¬ ì„±ê³µì„ ì¶•í•˜ë“œë¦½ë‹ˆë‹¤! ì•„ì´í° 6 (í™”ë©´ í•´ìƒë„ 375x667px, ìœ íš¨ ë†’ì´ ì•½ 500~560px)ì—ì„œ ì¹´ë“œ í•˜ë‚˜ê°€ ìŠ¤í¬ë¡¤ ì—†ì´ ë³´ì´ë„ë¡ ìˆ˜ì§ ê°„ê²©ì„ ìµœëŒ€í•œ ì••ì¶•í•˜ëŠ” ë°©í–¥ìœ¼ë¡œ CSSë¥¼ ìˆ˜ì •í–ˆìŠµë‹ˆë‹¤.

íŠ¹íˆ íƒ€ì´ë¨¸ í‘œì‹œ, ì»¨íŠ¸ë¡¤ ì˜ì—­, ë²„íŠ¼ ë“±ì˜ ë§ˆì§„ê³¼ íŒ¨ë”©ì„ ì¤„ì´ê³ , íƒ€ì´ë¨¸ í°íŠ¸ í¬ê¸°ë¥¼ ì•½ê°„ ì¤„ì—¬ì„œ ì¹´ë“œ ì „ì²´ ë†’ì´ë¥¼ 480px ì´í•˜ë¡œ ë§ì¶”ì—ˆìŠµë‹ˆë‹¤.

âœ¨ ì•„ì´í° 6 ë§ì¶¤ ìµœì í™” ë³€ê²½ ì‚¬í•­ ìš”ì•½
ì „ì—­ ë° ì¹´ë“œ íŒ¨ë”© ê°ì†Œ: bodyì™€ .session-cardì˜ ì™¸ë¶€/ë‚´ë¶€ ì—¬ë°±ì„ ì¤„ì˜€ìŠµë‹ˆë‹¤.

í•µì‹¬ ì •ë³´ ì˜ì—­ ì••ì¶•: .cycle-visuals, .total-time-display, .timer-display ì£¼ë³€ì˜ ë§ˆì§„ì„ ì ˆë°˜ ê°€ê¹Œì´ ì¤„ì˜€ìŠµë‹ˆë‹¤.

íƒ€ì´ë¨¸ í°íŠ¸ í¬ê¸° ì¡°ì •: .timer-displayì˜ í°íŠ¸ í¬ê¸°ë¥¼ 3.2remì—ì„œ 2.8remìœ¼ë¡œ ì¤„ì—¬ íƒ€ì´ë¨¸ ì˜ì—­ ë†’ì´ë¥¼ ë‚®ì·„ìŠµë‹ˆë‹¤.

ì»¨íŠ¸ë¡¤ ì˜ì—­ ì••ì¶•: .controls ì˜ì—­ì˜ íŒ¨ë”©ê³¼ í•˜ë‹¨ ë§ˆì§„ì„ ì¤„ì´ê³ , ë²„íŠ¼ íŒ¨ë”©ë„ ì¤„ì˜€ìŠµë‹ˆë‹¤.

ğŸ’» ìµœì¢… í†µí•© ì½”ë“œ (pomodoro.html - ì•„ì´í° 6 ìµœì í™”)
HTML
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Pomodoro</title>
    <style>
        :root {
            --bg-color: #f0f2f5;
            --card-bg: #ffffff;
            --focus-color: #ff6b6b;
            --break-color: #4ecdc4;
            --skip-color: #a29bfe;
            --setting-color: #00b894;
            --text-color: #333;
            --gray-text: #666;
            --shadow: 0 4px 10px rgba(0,0,0,0.1);
            --black-bar: #333; /* ê²€ì€ìƒ‰ í…Œë‘ë¦¬/ë°°ê²½ìƒ‰ ê¸°ì¤€ */
        }

        /* 1. body padding ê°ì†Œ */
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            margin: 0;
            padding: 10px 10px; /* 20px -> 10px */
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
        }

        /* 2. ë©”ì¸ íƒ€ì´í‹€ ë§ˆì§„ ê°ì†Œ */
        .main-title-input {
            margin-bottom: 10px; /* 20px -> 10px */
            font-weight: 800; 
            color: var(--focus-color); 
            font-size: 2.5rem;
            text-align: center;
            border: none;
            border-bottom: 2px solid var(--focus-color); 
            background: transparent;
            outline: none;
            padding: 5px 10px;
            width: 300px;
            max-width: 90%;
            transition: color 0.3s, border-bottom-color 0.3s;
        }
        .main-title-input:focus {
            border-bottom-color: var(--break-color);
        }

        .dashboard {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            width: 100%;
            max-width: 1600px;
        }

        /* 3. Session Card íŒ¨ë”© ë° ìµœì†Œ ë†’ì´ ì¡°ì • */
        .session-card {
            background: var(--card-bg);
            border-radius: 15px;
            padding: 15px; /* 20px -> 15px */
            box-shadow: var(--shadow);
            display: flex;
            flex-direction: column;
            border-top: 6px solid var(--focus-color);
            position: relative;
            min-height: 450px; /* 480px -> 450px */
        }

        .session-name { 
            font-size: 1.1rem; 
            font-weight: bold; 
            border: none; 
            border-bottom: 1px solid #ddd; 
            width: 100%; 
            padding: 5px 0; 
            outline: none; 
            color: #2d3436; 
        }

        /* 4. ë©”ëª¨ ì…ë ¥ì°½ ë§ˆì§„ ê°ì†Œ */
        .session-note { 
            font-size: 0.9rem; 
            color: var(--gray-text); 
            border: none; 
            border-bottom: 1px solid #eee;
            width: 100%; 
            padding: 5px 0; 
            margin-bottom: 5px; /* 10px -> 5px */
            outline: none;
        }

        /* 5. Status Badge í°íŠ¸ ë° ë§ˆì§„ ê°ì†Œ */
        .status-badge { 
            text-align: center; 
            font-size: 0.8rem; /* 0.85rem -> 0.8rem */
            margin-bottom: 3px; /* 5px -> 3px */
            font-weight: bold; 
            text-transform: uppercase; 
            letter-spacing: 1px; 
            min-height: 1.2em; 
        }
        
        /* 6. Cycle Visuals ë§ˆì§„ ë° ë†’ì´ ì¡°ì • */
        .cycle-visuals { 
            display: flex; 
            flex-wrap: wrap;
            justify-content: center; 
            gap: 5px; 
            margin: 5px 0 10px 0; /* ìƒ/í•˜ ë§ˆì§„ ê°ì†Œ */
            font-size: 1.2rem; 
            height: 35px; /* 40px -> 35px */
            align-content: flex-start;
        }
        
        .cycle-dot {
            text-shadow: 0 0 1px var(--black-bar), 0 0 1px var(--black-bar);
        }
        .cycle-dot.completed { color: var(--gray-text); }
        .cycle-dot.current { color: var(--focus-color); animation: pulse 2s infinite; }
        .cycle-dot.future { color: #dfe6e9; }
        
        @keyframes pulse {
            0% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.7; transform: scale(1.2); }
            100% { opacity: 1; transform: scale(1); }
        }

        /* 7. Total Time Display íŒ¨ë”© ê°ì†Œ */
        .total-time-display {
            font-size: 0.95rem;
            color: var(--gray-text); 
            font-weight: bold;
            text-align: center;
            padding: 5px 0; /* 10px 0 5px 0 -> 5px 0 */
            border-bottom: 1px dashed #eee;
            margin-bottom: 3px; /* 5px -> 3px */
        }
        
        /* 8. Timer Display í°íŠ¸ ë° ë§ˆì§„ ê°ì†Œ */
        .timer-display { 
            font-size: 2.8rem; /* 3.2rem -> 2.8rem */
            font-weight: 800; 
            text-align: center; 
            margin: 3px 0 0 0; /* 5px -> 3px */
            font-variant-numeric: tabular-nums; 
            color: var(--focus-color); 
            transition: color 0.3s; 
        }
        .timer-display.break-mode { color: var(--break-color); }

        /* 9. Progress Bar ë§ˆì§„ ê°ì†Œ */
        .progress-container { 
            margin-bottom: 10px; /* 20px -> 10px */
            height: 6px; 
            width: 100%;
            overflow: hidden;
        }
        .progress-bar-bg { 
            position: relative;
            width: 100%; 
            height: 6px; 
            background: var(--black-bar);
            border-radius: 3px;
        }
        .progress-bar-fill { 
            height: 100%; 
            background: var(--focus-color); 
            width: 100%; 
            transition: width 1s linear, background-color 0.3s; 
            border-radius: 3px;
            transform-origin: right; 
        }

        /* 10. Controls íŒ¨ë”© ë° ë§ˆì§„ ê°ì†Œ */
        .controls { 
            display: flex; 
            flex-direction: column; 
            gap: 10px; /* 12px -> 10px */
            margin-bottom: 10px; /* 20px -> 10px */
            background: #f8f9fa; 
            padding: 10px; /* 15px -> 10px */
            border-radius: 8px; 
        }
        
        .control-group { 
            display: grid; 
            grid-template-columns: 1fr auto; 
            align-items: center; 
            gap: 8px; /* 10px -> 8px */
        }
        .control-group label { 
            grid-column: 1 / 2;
            font-size: 0.9rem; 
            color: var(--gray-text); 
            justify-self: start;
        }
        .control-group span { 
            grid-column: 2 / 3;
            font-weight: bold;
            font-variant-numeric: tabular-nums;
            width: 30px;
            text-align: right;
        }
        input[type=range] { 
            grid-column: 1 / 3;
            width: 100%; 
            cursor: pointer; 
            accent-color: var(--focus-color); 
            margin-top: 3px; /* 5px -> 3px */
        }
        
        .toggle-wrapper { 
            display: flex; 
            align-items: center; 
            justify-content: space-between; 
            font-size: 0.9rem; 
            color: var(--gray-text); 
            margin-top: 5px; 
            padding-top: 5px;
            border-top: 1px solid #eee;
        }

        /* 11. Buttons íŒ¨ë”© ë° ê°„ê²© ê°ì†Œ */
        .action-buttons { 
            display: grid; 
            grid-template-columns: 1fr 1fr; 
            gap: 6px; /* 8px -> 6px */
            margin-top: auto; 
        }
        .full-width { grid-column: span 2; }
        button { 
            padding: 8px; /* 10px -> 8px */
            border: none; 
            border-radius: 8px; 
            font-weight: bold; 
            cursor: pointer; 
            transition: opacity 0.2s; 
            font-size: 0.9rem; 
        }
        button:hover { opacity: 0.9; }
        .btn-start { background-color: var(--focus-color); color: white; }
        .btn-pause { background-color: #f1c40f; color: white; display: none; }
        .btn-pass { background-color: var(--skip-color); color: white; }
        .btn-reset { background-color: #95a5a6; color: white; }
        
        .alarm-selector { display: flex; gap: 5px; margin-top: 10px; }
        .alarm-selector button { flex: 1; font-size: 0.8rem; padding: 6px; border: 1px solid #ddd; background: #fff; }
        .alarm-selector button.selected { background: var(--setting-color); color: white; border-color: var(--setting-color); }
    </style>
</head>
<body>

    <input type="text" id="main-title-input" value="Pomodoro" class="main-title-input">

    <div class="dashboard" id="dashboard">
    </div>

    <script>
        // --- Global State & Configuration ---
        const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
        let activeSessions = [];
        let globalVolume = 0.5;
        let alarmProfile = 'medium';
        let sessionCount = 5;
        let mainTitle = 'Pomodoro'; 
        const defaultNames = ['ê¸°íš', 'ê°œë°œ', 'ë””ìì¸', 'ë¬¸ì„œí™”', 'íšŒì˜', 'í•™ìŠµ', 'ìš´ë™', 'ì •ë¦¬', 'ë…ì„œ', 'ê¸°íƒ€'];

        // ===================================
        // ğŸ’¾ LOCAL STORAGE FUNCTIONS (ìœ ì§€)
        // ===================================
        
        function saveGlobalSettings() {
            const settings = {
                sessionCount: sessionCount,
                globalVolume: globalVolume,
                alarmProfile: alarmProfile,
                mainTitle: mainTitle
            };
            try {
                localStorage.setItem('pomodoroGlobalSettings', JSON.stringify(settings));
            } catch (e) {
                console.error("Local storage error during global save:", e);
            }
        }

        function loadGlobalSettings() {
            try {
                const data = localStorage.getItem('pomodoroGlobalSettings');
                if (data) {
                    const settings = JSON.parse(data);
                    sessionCount = settings.sessionCount || 5;
                    globalVolume = settings.globalVolume !== undefined ? settings.globalVolume : 0.5;
                    alarmProfile = settings.alarmProfile || 'medium';
                    mainTitle = settings.mainTitle || 'Pomodoro';
                }
            } catch (e) {
                console.error("Local storage error during global load:", e);
            }
        }

        function saveSessionData() {
            const sessionData = activeSessions.map(session => ({
                id: session.id,
                name: session.name,
                note: session.note,
                focusTime: session.focusTime,
                breakTime: session.breakTime,
                totalCycles: session.totalCycles,
                autoAdvance: session.autoAdvance
            }));
            try {
                localStorage.setItem('pomodoroSessionData', JSON.stringify(sessionData));
            } catch (e) {
                console.error("Local storage error during session save:", e);
            }
        }

        function loadSessionData() {
            try {
                const data = localStorage.getItem('pomodoroSessionData');
                return data ? JSON.parse(data) : [];
            } catch (e) {
                console.error("Local storage error during session load:", e);
                return [];
            }
        }
        
        // ===================================
        // â²ï¸ TIME UTILITY FUNCTIONS (ìœ ì§€)
        // ===================================

        function formatTotalTime(totalMinutes) {
            if (totalMinutes <= 0) {
                return 'ì´ 0ì‹œê°„ 00ë¶„';
            }
            const hours = Math.floor(totalMinutes / 60);
            const minutes = totalMinutes % 60;
            
            if (hours > 0 && minutes === 0) {
                return `ì´ ${hours}ì‹œê°„ 00ë¶„`;
            } else if (hours > 0) {
                return `ì´ ${hours}ì‹œê°„ ${String(minutes).padStart(2, '0')}ë¶„`;
            } else {
                return `ì´ 0ì‹œê°„ ${String(minutes).padStart(2, '0')}ë¶„`;
            }
        }


        // ===================================
        // ğŸ”Š ALARM SOUND FUNCTIONS (ìœ ì§€)
        // ===================================

        function playAlarm() {
            if (audioCtx.state === 'suspended') audioCtx.resume();
            const now = audioCtx.currentTime;
            
            const createBeep = (startTime, duration, freq, type, vol) => {
                const oscillator = audioCtx.createOscillator();
                const gainNode = audioCtx.createGain();

                oscillator.type = type;
                oscillator.frequency.value = freq;
                const effectiveVolume = Math.max(0.01, vol * globalVolume);
                gainNode.gain.setValueAtTime(effectiveVolume, startTime);
                gainNode.gain.exponentialRampToValueAtTime(0.001, startTime + duration);

                oscillator.connect(gainNode);
                gainNode.connect(audioCtx.destination);
                oscillator.start(startTime);
                oscillator.stop(startTime + duration);
            };

            switch(alarmProfile) {
                case 'soft':
                    createBeep(now, 0.2, 440, 'sine', 0.2); 
                    break;
                case 'medium':
                    createBeep(now, 0.1, 880, 'square', 0.5);
                    createBeep(now + 0.15, 0.1, 880, 'square', 0.5);
                    createBeep(now + 0.3, 0.3, 1100, 'square', 0.5);
                    break;
                case 'loud':
                    createBeep(now, 0.5, 1200, 'sawtooth', 1.0); 
                    break;
            }
        }

        // ===================================
        // â±ï¸ POMODORO SESSION CLASS
        // ===================================

        class PomodoroSession {
            constructor(id, defaultName, loadedData = {}) {
                this.id = id;
                this.name = loadedData.name || defaultName || `Session ${id}`;
                this.note = loadedData.note || '';
                this.state = 'stopped'; 
                this.mode = 'focus'; 
                this.currentCycle = 1;
                this.totalCycles = loadedData.totalCycles || 4;
                this.focusTime = loadedData.focusTime || 25; 
                this.breakTime = loadedData.breakTime || 5;  
                this.autoAdvance = loadedData.autoAdvance || false;
                
                this.timeLeft = this.focusTime * 60;
                this.timerInterval = null;
                this.initialTime = this.focusTime * 60;

                this.render();
                this.attachEvents();
                this.updateDisplay();
                this.renderCycles(); 
                this.updateTotalTimeDisplay(); 
            }

            calculateTotalTime() {
                const totalMinutes = (this.focusTime + this.breakTime) * this.totalCycles;
                return totalMinutes;
            }

            updateTotalTimeDisplay() {
                const totalMinutes = this.calculateTotalTime();
                const formattedTime = formatTotalTime(totalMinutes);
                
                const element = document.getElementById(`total-time-${this.id}`);
                if (element) {
                    element.innerText = formattedTime;
                }
            }


            render() {
                const container = document.getElementById('dashboard');
                const html = `
                    <div class="session-card" id="card-${this.id}">
                        <div class="card-header">
                            <input type="text" class="session-name" value="${this.name}">
                            <input type="text" class="session-note" placeholder="ê°„ë‹¨í•œ ë©”ëª¨ (ì˜ˆ: ì§‘ì¤‘ ëª©í‘œ)" value="${this.note}">
                        </div>
                        
                        <div class="status-badge" id="status-${this.id}">Ready</div>
                        
                        <div class="cycle-visuals" id="cycle-visuals-${this.id}"></div>
                        
                        <div class="total-time-display" id="total-time-${this.id}"></div>

                        <div class="timer-display" id="timer-${this.id}">${(this.focusTime).toString().padStart(2, '0')}:00</div>
                        
                        <div class="progress-container">
                            <div class="progress-bar-bg">
                                <div class="progress-bar-fill" id="progress-${this.id}"></div>
                            </div>
                        </div>

                        <div class="controls">
                            <div class="control-group">
                                <label>ì§‘ì¤‘ ì‹œê°„ (ë¶„)</label>
                                <span id="val-focus-${this.id}">${this.focusTime}</span>
                                <input type="range" id="input-focus-${this.id}" min="1" max="60" value="${this.focusTime}">
                            </div>
                            <div class="control-group">
                                <label>íœ´ì‹ ì‹œê°„ (ë¶„)</label>
                                <span id="val-break-${this.id}">${this.breakTime}</span>
                                <input type="range" id="input-break-${this.id}" min="1" max="10" value="${this.breakTime}">
                            </div>
                            <div class="control-group">
                                <label>ì´ ì‚¬ì´í´ ìˆ˜</label>
                                <span id="val-cycle-${this.id}">${this.totalCycles}</span>
                                <input type="range" id="input-cycle-${this.id}" min="1" max="20" value="${this.totalCycles}">
                            </div>
                            <div class="toggle-wrapper">
                                <span>ìë™ ì§„í–‰ (Auto Advance)</span>
                                <input type="checkbox" id="check-auto-${this.id}" ${this.autoAdvance ? 'checked' : ''}>
                            </div>
                        </div>

                        <div class="action-buttons">
                            <button class="btn-start full-width" id="btn-start-${this.id}">ì‹œì‘</button>
                            <button class="btn-pause full-width" id="btn-pause-${this.id}">ì¼ì‹œì •ì§€</button>
                            
                            <button class="btn-pass" id="btn-pass-${this.id}">PASS â­ï¸</button>
                            <button class="btn-reset" id="btn-reset-${this.id}">ë¦¬ì…‹ â†º</button>
                        </div>
                    </div>
                `;
                container.insertAdjacentHTML('beforeend', html);
            }
            
            attachEvents() {
                const updateAndSave = (callback) => (e) => {
                    callback(e);
                    if (this.state === 'stopped' || this.mode === 'break' || e.type === 'change' || e.type === 'input') { 
                        saveSessionData();
                    }
                };
                
                document.getElementById(`card-${this.id}`).querySelector('.session-note').addEventListener('input', updateAndSave((e) => {
                    this.note = e.target.value;
                }));
                document.getElementById(`card-${this.id}`).querySelector('.session-name').addEventListener('input', updateAndSave((e) => {
                    this.name = e.target.value;
                }));
                
                document.getElementById(`input-focus-${this.id}`).addEventListener('input', updateAndSave((e) => {
                    this.focusTime = parseInt(e.target.value);
                    document.getElementById(`val-focus-${this.id}`).innerText = this.focusTime;
                    if (this.state === 'stopped' && this.mode === 'focus') this.resetTimer();
                    this.updateTotalTimeDisplay(); 
                }));
                document.getElementById(`input-break-${this.id}`).addEventListener('input', updateAndSave((e) => {
                    this.breakTime = parseInt(e.target.value);
                    document.getElementById(`val-break-${this.id}`).innerText = this.breakTime;
                    if (this.state === 'stopped' && this.mode === 'break') this.resetTimer();
                    this.updateTotalTimeDisplay(); 
                }));
                document.getElementById(`input-cycle-${this.id}`).addEventListener('input', updateAndSave((e) => {
                    this.totalCycles = parseInt(e.target.value);
                    document.getElementById(`val-cycle-${this.id}`).innerText = this.totalCycles;
                    this.renderCycles();
                    this.updateTotalTimeDisplay(); 
                }));
                document.getElementById(`check-auto-${this.id}`).addEventListener('change', updateAndSave((e) => {
                    this.autoAdvance = e.target.checked;
                }));

                document.getElementById(`btn-start-${this.id}`).addEventListener('click', () => this.start());
                document.getElementById(`btn-pause-${this.id}`).addEventListener('click', () => this.pause());
                document.getElementById(`btn-reset-${this.id}`).addEventListener('click', () => this.resetTimer());
                document.getElementById(`btn-pass-${this.id}`).addEventListener('click', () => this.skipPhase());
            }

            renderCycles() {
                const container = document.getElementById(`cycle-visuals-${this.id}`);
                let html = '';
                const total = this.totalCycles;
                let firstRow, secondRow;

                if (total <= 9) {
                    firstRow = total;
                    secondRow = 0;
                } else {
                    firstRow = Math.min(10, Math.ceil(total / 2)); 
                    secondRow = total - firstRow;
                }

                for (let i = 1; i <= total; i++) {
                    const isCurrent = i === this.currentCycle;
                    const isCompleted = i < this.currentCycle;
                    
                    if (i === firstRow + 1 && secondRow > 0) {
                         html += '<div style="width: 100%; height: 0; margin-bottom: -5px;"></div>';
                    }

                    if (isCompleted) {
                        html += '<span class="cycle-dot completed">â—</span>'; 
                    } else if (isCurrent) {
                        html += `<span class="cycle-dot current">â—‰</span>`;
                    } else {
                        html += '<span class="cycle-dot future">â—‹</span>'; 
                    }
                }
                container.innerHTML = html;
            }

            toggleInputs(disabled) {
                const shouldBeDisabled = disabled && (this.mode === 'focus');

                document.getElementById(`input-focus-${this.id}`).disabled = shouldBeDisabled;
                document.getElementById(`input-break-${this.id}`).disabled = shouldBeDisabled;
                document.getElementById(`input-cycle-${this.id}`).disabled = shouldBeDisabled;
                document.getElementById(`check-auto-${this.id}`).disabled = shouldBeDisabled;
            }
            
            updateDisplay() {
                const minutes = Math.floor(this.timeLeft / 60);
                const seconds = this.timeLeft % 60;
                const display = document.getElementById(`timer-${this.id}`);
                
                display.innerText = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                
                const progress = document.getElementById(`progress-${this.id}`);
                const percent = (this.timeLeft / this.initialTime) * 100;
                progress.style.width = `${percent}%`;

                const card = document.getElementById(`card-${this.id}`);
                if (this.mode === 'focus') {
                    display.classList.remove('break-mode');
                    progress.style.backgroundColor = 'var(--focus-color)';
                    card.style.borderTopColor = 'var(--focus-color)';
                    document.querySelectorAll(`#cycle-visuals-${this.id} .current`).forEach(el => el.style.color = 'var(--focus-color)');
                } else {
                    display.classList.add('break-mode');
                    progress.style.backgroundColor = 'var(--break-color)';
                    card.style.borderTopColor = 'var(--break-color)';
                    document.querySelectorAll(`#cycle-visuals-${this.id} .current`).forEach(el => el.style.color = 'var(--break-color)');
                }
            }

            updateStatus(msg) {
                document.getElementById(`status-${this.id}`).innerText = msg;
            }

            start() {
                if (this.state === 'running') return;
                if (audioCtx.state === 'suspended') audioCtx.resume();
                this.state = 'running';
                document.getElementById(`btn-start-${this.id}`).style.display = 'none';
                document.getElementById(`btn-pause-${this.id}`).style.display = 'block';
                
                this.toggleInputs(true); 

                this.updateStatus(this.mode === 'focus' ? 'ğŸ”¥ ì§‘ì¤‘ ì¤‘...' : 'â˜• íœ´ì‹ ì¤‘...');
                this.renderCycles();
                this.timerInterval = setInterval(() => {
                    if (this.timeLeft > 0) {
                        this.timeLeft--;
                        this.updateDisplay();
                    } else {
                        this.completePhase();
                    }
                }, 1000);
            }

            pause() {
                if (this.state !== 'running') return;
                clearInterval(this.timerInterval);
                this.state = 'paused';
                document.getElementById(`btn-start-${this.id}`).innerText = 'ì¬ê°œ';
                document.getElementById(`btn-start-${this.id}`).style.display = 'block';
                document.getElementById(`btn-pause-${this.id}`).style.display = 'none';
                this.toggleInputs(false); 
                this.updateStatus('â¸ï¸ ì¼ì‹œì •ì§€');
            }

            skipPhase() {
                clearInterval(this.timerInterval);
                this.completePhase(true);
            }

            resetTimer() {
                clearInterval(this.timerInterval);
                this.state = 'stopped';
                this.mode = 'focus';
                this.currentCycle = 1;
                this.timeLeft = this.focusTime * 60;
                this.initialTime = this.timeLeft;
                document.getElementById(`btn-start-${this.id}`).innerText = 'ì‹œì‘';
                document.getElementById(`btn-start-${this.id}`).style.display = 'block';
                document.getElementById(`btn-pause-${this.id}`).style.display = 'none';
                this.toggleInputs(false); 
                this.updateStatus('Ready');
                this.renderCycles();
                this.updateDisplay();
                saveSessionData(); 
            }

            completePhase(mute = false) {
                clearInterval(this.timerInterval);
                if (!mute) playAlarm(); 

                if (this.mode === 'focus') {
                    this.mode = 'break';
                    this.timeLeft = this.breakTime * 60;
                    this.initialTime = this.timeLeft;
                    this.updateStatus('â˜• íœ´ì‹ ì¤€ë¹„');
                } else {
                    if (this.currentCycle < this.totalCycles) {
                        this.mode = 'focus';
                        this.currentCycle++;
                        this.timeLeft = this.focusTime * 60;
                        this.initialTime = this.timeLeft;
                        this.updateStatus('ğŸ”¥ ì§‘ì¤‘ ì¤€ë¹„');
                    } else {
                        this.resetTimer();
                        this.updateStatus('ğŸ‰ ì „ì²´ ì™„ë£Œ!');
                        if(!mute) playAlarm(); 
                        return;
                    }
                }
                this.renderCycles();
                this.updateDisplay();
                
                this.toggleInputs(false); 

                if (this.autoAdvance) {
                    this.state = 'stopped';
                    this.start();
                } else {
                    this.state = 'stopped';
                    document.getElementById(`btn-start-${this.id}`).innerText = 'ë‹¤ìŒ ë‹¨ê³„ ì‹œì‘';
                    document.getElementById(`btn-start-${this.id}`).style.display = 'block';
                    document.getElementById(`btn-pause-${this.id}`).style.display = 'none';
                }
            }
        }


        // ===================================
        // âš™ï¸ GLOBAL CONTROLLER LOGIC (ìœ ì§€)
        // ===================================
        
        const getSettingsCardHTML = () => {
            const currentVolume = Math.round(globalVolume * 100);
            const softSelected = alarmProfile === 'soft' ? 'class="selected"' : '';
            const mediumSelected = alarmProfile === 'medium' ? 'class="selected"' : '';
            const loudSelected = alarmProfile === 'loud' ? 'class="selected"' : '';
            
            return `
                <div class="session-card" id="settings-card">
                    <div class="card-header">
                        <input type="text" class="session-name" value="ì „ì—­ ì„¤ì • (Global Settings)" disabled/>
                        <input type="text" class="session-note" placeholder="ë©”ëª¨ëŠ” ì„¤ì • ì¹´ë“œì—ì„œëŠ” ë¹„í™œì„±í™”" disabled>
                        
                        <div class="total-time-display" style="border-bottom: none;"></div> 
                    </div>
                    
                    <div class="status-badge" style="color: var(--setting-color);">ëŒ€ì‹œë³´ë“œ ê´€ë¦¬</div>
                    <div class="cycle-visuals" style="margin-bottom: 10px;"></div>

                    <div class="timer-display" style="font-size: 2rem; color: var(--setting-color); margin-top: 5px;">âš™ï¸</div>
                    
                    <div class="progress-container">
                        <div class="progress-bar-bg">
                            <div class="progress-bar-fill" style="width: 100%; background: #ddd;"></div>
                        </div>
                    </div>

                    <div class="controls" style="gap: 15px;">
                        <div class="control-group">
                            <label>ìš´ì˜í•  íƒ€ì´ë¨¸ ê°œìˆ˜ (1~10)</label>
                            <span id="session-count-value">${sessionCount}</span>
                            <input type="range" id="session-count-slider" min="1" max="10" value="${sessionCount}">
                        </div>

                        <div class="control-group">
                            <label>ì•ŒëŒ ë³¼ë¥¨</label>
                            <span id="alarm-volume-value">${currentVolume}%</span>
                            <input type="range" id="alarm-volume-slider" min="0" max="100" value="${currentVolume}">
                        </div>
                        
                        <div style="grid-column: 1 / 3;">
                            <label style="font-size: 0.9rem; color: var(--gray-text);">ì•ŒëŒ ì¢…ë¥˜ ì„ íƒ</label>
                            <div class="alarm-selector">
                                <button id="alarm-soft" data-profile="soft" ${softSelected}>ì‘ì€ ì†Œë¦¬ ğŸ”ˆ</button>
                                <button id="alarm-medium" data-profile="medium" ${mediumSelected}>ì¤‘ê°„ ì†Œë¦¬ ğŸ””</button>
                                <button id="alarm-loud" data-profile="loud" ${loudSelected}>í° ì†Œë¦¬ ğŸ”Š</button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="action-buttons full-width" style="margin-top: auto;">
                        <button id="alarm-test" style="background-color: var(--setting-color); color: white;" class="full-width">í…ŒìŠ¤íŠ¸ ì•ŒëŒ ì¬ìƒ</button>
                    </div>
                </div>
            `;
        };

        function attachGlobalListeners() {
            const countSlider = document.getElementById('session-count-slider');
            const countValue = document.getElementById('session-count-value');

            if (!countSlider) return; 

            countSlider.oninput = (e) => {
                countValue.innerText = e.target.value; 
            };
            
            countSlider.onchange = (e) => {
                sessionCount = parseInt(e.target.value);
                saveGlobalSettings(); 
                createSessions(); 
            }

            const volumeSlider = document.getElementById('alarm-volume-slider');
            const volumeValue = document.getElementById('alarm-volume-value');
            
            volumeSlider.oninput = (e) => {
                globalVolume = parseInt(e.target.value) / 100;
                volumeValue.innerText = `${e.target.value}%`;
                saveGlobalSettings(); 
            };
            
            document.querySelectorAll('#settings-card .alarm-selector button[data-profile]').forEach(button => {
                button.onclick = (e) => {
                    alarmProfile = e.target.dataset.profile;
                    document.querySelectorAll('#settings-card .alarm-selector button').forEach(btn => btn.classList.remove('selected'));
                    e.target.classList.add('selected');
                    saveGlobalSettings(); 
                };
            });

            document.getElementById('alarm-test').onclick = playAlarm;
        }

        function createSessions() {
            activeSessions.forEach(session => {
                clearInterval(session.timerInterval);
            });
            activeSessions = [];
            const dashboard = document.getElementById('dashboard');
            dashboard.innerHTML = ''; 

            const loadedSessions = loadSessionData();
            
            for(let i=1; i<=sessionCount; i++) {
                const loadedData = loadedSessions.find(s => s.id === i) || {};
                const name = defaultNames[i-1] || `ì„¸ì…˜ ${i}`;
                
                const newSession = new PomodoroSession(i, name, loadedData);
                activeSessions.push(newSession);
            }
            
            dashboard.insertAdjacentHTML('beforeend', getSettingsCardHTML());
            
            attachGlobalListeners(); 
        }

        document.addEventListener('DOMContentLoaded', () => {
            loadGlobalSettings(); 
            
            const mainTitleInput = document.getElementById('main-title-input');
            if (mainTitleInput) {
                mainTitleInput.value = mainTitle;
                mainTitleInput.addEventListener('input', (e) => {
                    mainTitle = e.target.value;
                    saveGlobalSettings();
                });
            }
            
            if (audioCtx.state === 'suspended') {
                const resumeAudio = () => {
                    audioCtx.resume();
                    document.body.removeEventListener('touchstart', resumeAudio);
                    document.body.removeEventListener('mousedown', resumeAudio);
                };
                document.body.addEventListener('touchstart', resumeAudio, { once: true });
                document.body.addEventListener('mousedown', resumeAudio, { once: true });
            }
            createSessions(); 
        });

    </script>
</body>
</html>
ğŸ’¡ GitHub Pages ì—…ë°ì´íŠ¸ ë°©ë²•
GitHub Pagesì— ì´ë¯¸ ë°°í¬í–ˆë‹¤ë©´, ìƒˆ ì½”ë“œë¡œ ì—…ë°ì´íŠ¸í•˜ëŠ” ë°©ë²•ì€ ê°„ë‹¨í•©ë‹ˆë‹¤.

PCì—ì„œ ìƒˆë¡œ ìˆ˜ì •ëœ ì½”ë“œë¥¼ ë³µì‚¬í•˜ì—¬ pomodoro.html íŒŒì¼ ì „ì²´ë¥¼ ë®ì–´ì”ë‹ˆë‹¤.

GitHub ì €ì¥ì†Œ í˜ì´ì§€ë¡œ ëŒì•„ê°€ì„œ, pomodoro.html íŒŒì¼ì„ í´ë¦­í•©ë‹ˆë‹¤.

íŒŒì¼ ë‚´ìš© ë³´ê¸°ì—ì„œ ì˜¤ë¥¸ìª½ ìƒë‹¨ì˜ ì—°í•„ ëª¨ì–‘(Edit) ë²„íŠ¼ì„ í´ë¦­í•©ë‹ˆë‹¤.

ê¸°ì¡´ ì½”ë“œë¥¼ ëª¨ë‘ ì§€ìš°ê³  ìƒˆë¡œ ìˆ˜ì •ëœ ì „ì²´ ì½”ë“œë¥¼ ë¶™ì—¬ë„£ìŠµë‹ˆë‹¤.

í˜ì´ì§€ í•˜ë‹¨ì˜ 'Commit changes' ë²„íŠ¼ì„ í´ë¦­í•˜ì—¬ ë³€ê²½ ì‚¬í•­ì„ ì €ì¥í•©ë‹ˆë‹¤.

ì €ì¥ í›„ ëª‡ ë¶„ ì•ˆì— GitHub Pagesê°€ ìë™ìœ¼ë¡œ ì—…ë°ì´íŠ¸ë˜ë©°, ì•„ì´í°ì—ì„œ í•´ë‹¹ URLì— ë‹¤ì‹œ ì ‘ì†í•˜ë©´ ìˆ˜ì •ëœ í™”ë©´ì„ ìŠ¤í¬ë¡¤ ì—†ì´ ë³¼ ìˆ˜ ìˆì„ ê²ƒì…ë‹ˆë‹¤. (ìƒˆë¡œê³ ì¹¨ì´ í•„ìš”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.)

ì•„ëƒ ì´ê±´ ì¢€ ë³„ë¡œì¸ê²ƒ ê°™ê³ , ê¸°ì¡´ ì½”ë“œì—ì„œ, ì¹´ë“œì˜ ì‹œì‘ ë“± ë²„íŠ¼ ì˜ì—­ì„ ìœ„ì˜ ì§‘ì¤‘ ì‹œê°„ ë“± ì…‹íŒ… ì˜ì—­ê³¼ ë°”ê¾¸ëŠ” ê±´ ì–´ë–¨ê¹Œ? ë‹¤ì‹œ ì½”ë“œë¥¼ ì§œ ì¤˜.

ì‚¬ìš©ìë‹˜ì˜ í”¼ë“œë°±ì— ë§ì¶° ì•„ì´í° 6 í™˜ê²½ì—ì„œ ìŠ¤í¬ë¡¤ ì—†ì´ í•µì‹¬ ë²„íŠ¼ì— ì ‘ê·¼ ê°€ëŠ¥í•˜ë„ë¡ ì¹´ë“œ ìš”ì†Œì˜ ìˆœì„œë¥¼ ë³€ê²½í•˜ê³ , ì „ì²´ì ì¸ ìˆ˜ì§ ê°„ê²©ì„ ì••ì¶•í–ˆìŠµë‹ˆë‹¤.

âœ¨ ë³€ê²½ ì‚¬í•­ ìš”ì•½
ì»¨íŠ¸ë¡¤ ì˜ì—­/ë²„íŠ¼ ì˜ì—­ ìˆœì„œ êµì²´:

íƒ€ì´ë¨¸ í•˜ë‹¨ì— **ì•¡ì…˜ ë²„íŠ¼ (Start, Pause, Pass, Reset)**ì´ ë¨¼ì € í‘œì‹œë˜ë„ë¡ ë°°ì¹˜í–ˆìŠµë‹ˆë‹¤.

**ì„¤ì • ì»¨íŠ¸ë¡¤ (ì§‘ì¤‘ ì‹œê°„, íœ´ì‹ ì‹œê°„, ì´ ì‚¬ì´í´ ìˆ˜)**ì€ ê°€ì¥ ì•„ë˜ë¡œ ì´ë™í–ˆìŠµë‹ˆë‹¤.

ê²°ê³¼: íƒ€ì´ë¨¸ë¥¼ ì¡°ì‘í•˜ëŠ” ë²„íŠ¼ì´ í•­ìƒ í™”ë©´ì— ë³´ì¼ í™•ë¥ ì´ ë†’ì•„ì¡ŒìŠµë‹ˆë‹¤.

ëª¨ë°”ì¼ ìˆ˜ì§ ê°„ê²© ì••ì¶• (CSS):

body íŒ¨ë”©, h1 ë§ˆì§„, .session-card íŒ¨ë”© ë° min-heightë¥¼ ì¤„ì˜€ìŠµë‹ˆë‹¤.

.timer-displayì˜ í°íŠ¸ í¬ê¸°ë¥¼ 3.2remì—ì„œ **2.8rem**ìœ¼ë¡œ ì¤„ì˜€ìŠµë‹ˆë‹¤.

ê° ìš”ì†Œ(controls, action-buttons ë“±)ì˜ ë‚´ë¶€/ì™¸ë¶€ ì—¬ë°±(padding, margin, gap)ì„ ìµœì†Œí™”í–ˆìŠµë‹ˆë‹¤.

ğŸ’» ìµœì¢… í†µí•© ì½”ë“œ (pomodoro-dashboard.html - ìµœì¢… ìˆ˜ì •ë³¸)
HTML
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Pomodoro</title>
    <style>
        :root {
            --bg-color: #f0f2f5;
            --card-bg: #ffffff;
            --focus-color: #ff6b6b;
            --break-color: #4ecdc4;
            --skip-color: #a29bfe;
            --setting-color: #00b894;
            --text-color: #333;
            --gray-text: #666;
            --shadow: 0 4px 10px rgba(0,0,0,0.1);
            --black-bar: #333;
        }

        /* 1. body padding ê°ì†Œ */
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            margin: 0;
            padding: 10px 10px; /* 20px -> 10px */
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
        }

        /* 2. h1 ë§ˆì§„ ê°ì†Œ */
        h1 { 
            margin-bottom: 10px; /* 20px -> 10px */
            font-weight: 800; 
            color: var(--focus-color); 
            font-size: 2.5rem;
        }

        /* --- Dashboard Layout --- */
        .dashboard {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            width: 100%;
            max-width: 1600px;
        }

        /* 3. Session Card íŒ¨ë”© ë° ìµœì†Œ ë†’ì´ ì¡°ì • */
        .session-card {
            background: var(--card-bg);
            border-radius: 15px;
            padding: 15px; /* 20px -> 15px */
            box-shadow: var(--shadow);
            display: flex;
            flex-direction: column;
            border-top: 6px solid var(--focus-color);
            position: relative;
            min-height: 450px; /* 480px -> 450px */
        }

        .session-name { 
            font-size: 1.1rem; 
            font-weight: bold; 
            border: none; 
            border-bottom: 1px solid #ddd; 
            width: 100%; 
            padding: 5px 0; 
            outline: none; 
            color: #2d3436; 
        }

        /* 4. ë©”ëª¨ ì…ë ¥ì°½ ë§ˆì§„ ê°ì†Œ */
        .session-note { 
            font-size: 0.9rem; 
            color: var(--gray-text); 
            border: none; 
            border-bottom: 1px solid #eee;
            width: 100%; 
            padding: 5px 0; 
            margin-bottom: 5px; /* 10px -> 5px */
            outline: none;
        }

        /* 5. Status Badge ë§ˆì§„ ê°ì†Œ */
        .status-badge { 
            text-align: center; 
            font-size: 0.85rem; 
            margin-bottom: 3px; /* 5px -> 3px */
            font-weight: bold; 
            text-transform: uppercase; 
            letter-spacing: 1px; 
            min-height: 1.2em; 
        }
        
        /* 6. Cycle Visuals ë§ˆì§„ ì¡°ì • */
        .cycle-visuals { 
            display: flex; 
            flex-wrap: wrap;
            justify-content: center; 
            gap: 5px; 
            margin: 5px 0 10px 0; /* 10px 0 -> 5px 0 10px 0 */
            font-size: 1.2rem; 
            height: 35px;
            align-content: flex-start;
        }
        
        .cycle-dot {
            text-shadow: 0 0 1px var(--black-bar), 0 0 1px var(--black-bar);
        }
        .cycle-dot.completed { color: var(--gray-text); }
        .cycle-dot.current { color: var(--focus-color); animation: pulse 2s infinite; }
        .cycle-dot.future { color: #dfe6e9; }
        
        @keyframes pulse {
            0% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.7; transform: scale(1.2); }
            100% { opacity: 1; transform: scale(1); }
        }

        /* 7. Timer Display í°íŠ¸ ë° ë§ˆì§„ ê°ì†Œ */
        .timer-display { 
            font-size: 2.8rem; /* 3.2rem -> 2.8rem */
            font-weight: 800; 
            text-align: center; 
            margin: 5px 0 0 0; /* 10px 0 0 0 -> 5px 0 0 0 */
            font-variant-numeric: tabular-nums; 
            color: var(--focus-color); 
            transition: color 0.3s; 
        }
        .timer-display.break-mode { color: var(--break-color); }
        
        /* 8. Progress Bar ë§ˆì§„ ê°ì†Œ */
        .progress-container { 
            margin-bottom: 10px; /* 20px -> 10px */
            height: 6px; 
            width: 100%;
            overflow: hidden;
        }
        .progress-bar-bg { 
            position: relative;
            width: 100%; 
            height: 6px; 
            background: var(--black-bar);
            border-radius: 3px;
        }
        .progress-bar-fill { 
            height: 100%; 
            background: var(--focus-color); 
            width: 100%; 
            transition: width 1s linear, background-color 0.3s; 
            border-radius: 3px;
            transform-origin: right; 
        }

        /* 9. Buttons íŒ¨ë”© ë° ê°„ê²© ê°ì†Œ */
        .action-buttons { 
            display: grid; 
            grid-template-columns: 1fr 1fr; 
            gap: 6px; /* 8px -> 6px */
            margin-top: 5px; /* ìƒˆë¡œ ì¶”ê°€ */
            margin-bottom: 10px; /* ìƒˆë¡œ ì¶”ê°€ */
        }
        .full-width { grid-column: span 2; }
        button { 
            padding: 8px; /* 10px -> 8px */
            border: none; 
            border-radius: 8px; 
            font-weight: bold; 
            cursor: pointer; 
            transition: opacity 0.2s; 
            font-size: 0.9rem; 
        }
        button:hover { opacity: 0.9; }
        .btn-start { background-color: var(--focus-color); color: white; }
        .btn-pause { background-color: #f1c40f; color: white; display: none; }
        .btn-pass { background-color: var(--skip-color); color: white; }
        .btn-reset { background-color: #95a5a6; color: white; }


        /* 10. Controls íŒ¨ë”© ë° ë§ˆì§„ ê°ì†Œ */
        .controls { 
            display: flex; 
            flex-direction: column; 
            gap: 10px; /* 12px -> 10px */
            margin-bottom: 0px; /* 20px -> 0px */
            background: #f8f9fa; 
            padding: 10px; /* 15px -> 10px */
            border-radius: 8px; 
            margin-top: auto; /* í•˜ë‹¨ ê³ ì • ì—­í•  */
        }
        .control-group { 
            display: grid; 
            grid-template-columns: 1fr auto; 
            align-items: center; 
            gap: 8px; /* 10px -> 8px */
        }
        .control-group label { 
            grid-column: 1 / 2;
            font-size: 0.9rem; 
            color: var(--gray-text); 
            justify-self: start;
        }
        .control-group span { 
            grid-column: 2 / 3;
            font-weight: bold;
            font-variant-numeric: tabular-nums;
            width: 30px;
            text-align: right;
        }
        input[type=range] { 
            grid-column: 1 / 3;
            width: 100%; 
            cursor: pointer; 
            accent-color: var(--focus-color); 
            margin-top: 3px; /* 5px -> 3px */
        }
        
        .toggle-wrapper { 
            display: flex; 
            align-items: center; 
            justify-content: space-between; 
            font-size: 0.9rem; 
            color: var(--gray-text); 
            margin-top: 5px; 
            padding-top: 5px;
            border-top: 1px solid #eee;
        }

        
        .alarm-selector { display: flex; gap: 5px; margin-top: 10px; }
        .alarm-selector button { flex: 1; font-size: 0.8rem; padding: 6px; border: 1px solid #ddd; background: #fff; }
        .alarm-selector button.selected { background: var(--setting-color); color: white; border-color: var(--setting-color); }
    </style>
</head>
<body>

    <h1>Pomodoro</h1>

    <div class="dashboard" id="dashboard">
    </div>

    <script>
        // --- Global State & Configuration ---
        const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
        let activeSessions = [];
        let globalVolume = 0.5;
        let alarmProfile = 'medium';
        let sessionCount = 5;
        const defaultNames = ['ê¸°íš', 'ê°œë°œ', 'ë””ìì¸', 'ë¬¸ì„œí™”', 'íšŒì˜', 'í•™ìŠµ', 'ìš´ë™', 'ì •ë¦¬', 'ë…ì„œ', 'ê¸°íƒ€'];

        // ===================================
        // ğŸ’¾ LOCAL STORAGE FUNCTIONS
        // ===================================

        function saveGlobalSettings() {
            const settings = {
                sessionCount: sessionCount,
                globalVolume: globalVolume,
                alarmProfile: alarmProfile
            };
            try {
                localStorage.setItem('pomodoroGlobalSettings', JSON.stringify(settings));
            } catch (e) {
                console.error("Local storage error during global save:", e);
            }
        }

        function loadGlobalSettings() {
            try {
                const data = localStorage.getItem('pomodoroGlobalSettings');
                if (data) {
                    const settings = JSON.parse(data);
                    sessionCount = settings.sessionCount || 5;
                    globalVolume = settings.globalVolume !== undefined ? settings.globalVolume : 0.5;
                    alarmProfile = settings.alarmProfile || 'medium';
                }
            } catch (e) {
                console.error("Local storage error during global load:", e);
            }
        }

        function saveSessionData() {
            const sessionData = activeSessions.map(session => ({
                id: session.id,
                name: session.name,
                note: session.note,
                focusTime: session.focusTime,
                breakTime: session.breakTime,
                totalCycles: session.totalCycles,
                autoAdvance: session.autoAdvance
            }));
            try {
                localStorage.setItem('pomodoroSessionData', JSON.stringify(sessionData));
            } catch (e) {
                console.error("Local storage error during session save:", e);
            }
        }

        function loadSessionData() {
            try {
                const data = localStorage.getItem('pomodoroSessionData');
                return data ? JSON.parse(data) : [];
            } catch (e) {
                console.error("Local storage error during session load:", e);
                return [];
            }
        }

        // ===================================
        // ğŸ”Š ALARM SOUND FUNCTIONS
        // ===================================

        function playAlarm() {
            if (audioCtx.state === 'suspended') audioCtx.resume();
            const now = audioCtx.currentTime;
            
            const createBeep = (startTime, duration, freq, type, vol) => {
                const oscillator = audioCtx.createOscillator();
                const gainNode = audioCtx.createGain();

                oscillator.type = type;
                oscillator.frequency.value = freq;
                const effectiveVolume = Math.max(0.01, vol * globalVolume);
                gainNode.gain.setValueAtTime(effectiveVolume, startTime);
                gainNode.gain.exponentialRampToValueAtTime(0.001, startTime + duration);

                oscillator.connect(gainNode);
                gainNode.connect(audioCtx.destination);
                oscillator.start(startTime);
                oscillator.stop(startTime + duration);
            };

            switch(alarmProfile) {
                case 'soft':
                    createBeep(now, 0.2, 440, 'sine', 0.2); 
                    break;
                case 'medium':
                    createBeep(now, 0.1, 880, 'square', 0.5);
                    createBeep(now + 0.15, 0.1, 880, 'square', 0.5);
                    createBeep(now + 0.3, 0.3, 1100, 'square', 0.5);
                    break;
                case 'loud':
                    createBeep(now, 0.5, 1200, 'sawtooth', 1.0); 
                    break;
            }
        }

        // ===================================
        // â±ï¸ POMODORO SESSION CLASS
        // ===================================

        class PomodoroSession {
            constructor(id, defaultName, loadedData = {}) {
                this.id = id;
                this.name = loadedData.name || defaultName || `Session ${id}`;
                this.note = loadedData.note || '';
                this.state = 'stopped'; 
                this.mode = 'focus'; 
                this.currentCycle = 1;
                this.totalCycles = loadedData.totalCycles || 4;
                this.focusTime = loadedData.focusTime || 25; 
                this.breakTime = loadedData.breakTime || 5;  
                this.autoAdvance = loadedData.autoAdvance || false;
                
                this.timeLeft = this.focusTime * 60;
                this.timerInterval = null;
                this.initialTime = this.focusTime * 60;

                this.render();
                this.attachEvents();
                this.updateDisplay();
                this.renderCycles(); 
            }

            // ***********************************************
            // RENDER ë©”ì„œë“œ: controlsì™€ action-buttons ìˆœì„œ ë³€ê²½
            // ***********************************************
            render() {
                const container = document.getElementById('dashboard');
                const html = `
                    <div class="session-card" id="card-${this.id}">
                        <div class="card-header">
                            <input type="text" class="session-name" value="${this.name}">
                            <input type="text" class="session-note" placeholder="ê°„ë‹¨í•œ ë©”ëª¨ (ì˜ˆ: ì§‘ì¤‘ ëª©í‘œ)" value="${this.note}">
                        </div>
                        
                        <div class="status-badge" id="status-${this.id}">Ready</div>
                        <div class="cycle-visuals" id="cycle-visuals-${this.id}"></div>
                        
                        <div class="timer-display" id="timer-${this.id}">${(this.focusTime).toString().padStart(2, '0')}:00</div>
                        
                        <div class="progress-container">
                            <div class="progress-bar-bg">
                                <div class="progress-bar-fill" id="progress-${this.id}"></div>
                            </div>
                        </div>

                        <div class="action-buttons">
                            <button class="btn-start full-width" id="btn-start-${this.id}">ì‹œì‘</button>
                            <button class="btn-pause full-width" id="btn-pause-${this.id}">ì¼ì‹œì •ì§€</button>
                            
                            <button class="btn-pass" id="btn-pass-${this.id}">PASS â­ï¸</button>
                            <button class="btn-reset" id="btn-reset-${this.id}">ë¦¬ì…‹ â†º</button>
                        </div>
                        
                        <div class="controls">
                            <div class="control-group">
                                <label>ì§‘ì¤‘ ì‹œê°„ (ë¶„)</label>
                                <span id="val-focus-${this.id}">${this.focusTime}</span>
                                <input type="range" id="input-focus-${this.id}" min="1" max="60" value="${this.focusTime}">
                            </div>
                            <div class="control-group">
                                <label>íœ´ì‹ ì‹œê°„ (ë¶„)</label>
                                <span id="val-break-${this.id}">${this.breakTime}</span>
                                <input type="range" id="input-break-${this.id}" min="1" max="10" value="${this.breakTime}">
                            </div>
                            <div class="control-group">
                                <label>ì´ ì‚¬ì´í´ ìˆ˜</label>
                                <span id="val-cycle-${this.id}">${this.totalCycles}</span>
                                <input type="range" id="input-cycle-${this.id}" min="1" max="20" value="${this.totalCycles}">
                            </div>
                            <div class="toggle-wrapper">
                                <span>ìë™ ì§„í–‰ (Auto Advance)</span>
                                <input type="checkbox" id="check-auto-${this.id}" ${this.autoAdvance ? 'checked' : ''}>
                            </div>
                        </div>

                    </div>
                `;
                container.insertAdjacentHTML('beforeend', html);
            }
            
            attachEvents() {
                const updateAndSave = (callback) => (e) => {
                    callback(e);
                    if (this.state === 'stopped' || e.type === 'change' || e.type === 'input') { 
                        saveSessionData();
                    }
                };
                
                document.getElementById(`card-${this.id}`).querySelector('.session-note').addEventListener('input', updateAndSave((e) => {
                    this.note = e.target.value;
                }));
                document.getElementById(`card-${this.id}`).querySelector('.session-name').addEventListener('input', updateAndSave((e) => {
                    this.name = e.target.value;
                }));
                
                document.getElementById(`input-focus-${this.id}`).addEventListener('input', updateAndSave((e) => {
                    this.focusTime = parseInt(e.target.value);
                    document.getElementById(`val-focus-${this.id}`).innerText = this.focusTime;
                    if (this.state === 'stopped' && this.mode === 'focus') this.resetTimer();
                }));
                document.getElementById(`input-break-${this.id}`).addEventListener('input', updateAndSave((e) => {
                    this.breakTime = parseInt(e.target.value);
                    document.getElementById(`val-break-${this.id}`).innerText = this.breakTime;
                    if (this.state === 'stopped' && this.mode === 'break') this.resetTimer();
                }));
                document.getElementById(`input-cycle-${this.id}`).addEventListener('input', updateAndSave((e) => {
                    this.totalCycles = parseInt(e.target.value);
                    document.getElementById(`val-cycle-${this.id}`).innerText = this.totalCycles;
                    this.renderCycles();
                }));
                document.getElementById(`check-auto-${this.id}`).addEventListener('change', updateAndSave((e) => {
                    this.autoAdvance = e.target.checked;
                }));

                document.getElementById(`btn-start-${this.id}`).addEventListener('click', () => this.start());
                document.getElementById(`btn-pause-${this.id}`).addEventListener('click', () => this.pause());
                document.getElementById(`btn-reset-${this.id}`).addEventListener('click', () => this.resetTimer());
                document.getElementById(`btn-pass-${this.id}`).addEventListener('click', () => this.skipPhase());
            }

            renderCycles() {
                const container = document.getElementById(`cycle-visuals-${this.id}`);
                let html = '';
                const total = this.totalCycles;
                let firstRow, secondRow;

                // ì‚¬ì´í´ 10ê°œ ì´ˆê³¼ ì‹œ ì²« ë²ˆì§¸ ì¤„ì— ceil(total/2)ê°œ ë°°ì¹˜
                if (total <= 9) {
                    firstRow = total;
                    secondRow = 0;
                } else {
                    firstRow = Math.min(10, Math.ceil(total / 2)); // 10ê°œê¹Œì§€ëŠ” ê½‰ ì±„ìš¸ ìˆ˜ ìˆë„ë¡ ìµœì†Œ 10ê°œ ì œí•œ
                    secondRow = total - firstRow;
                }

                for (let i = 1; i <= total; i++) {
                    const isCurrent = i === this.currentCycle;
                    const isCompleted = i < this.currentCycle;
                    
                    if (i === firstRow + 1 && secondRow > 0) {
                         html += '<div style="width: 100%; height: 0; margin-bottom: -5px;"></div>';
                    }

                    if (isCompleted) {
                        html += '<span class="cycle-dot completed">â—</span>'; 
                    } else if (isCurrent) {
                        html += `<span class="cycle-dot current">â—‰</span>`;
                    } else {
                        html += '<span class="cycle-dot future">â—‹</span>'; 
                    }
                }
                container.innerHTML = html;
            }

            updateDisplay() {
                const minutes = Math.floor(this.timeLeft / 60);
                const seconds = this.timeLeft % 60;
                const display = document.getElementById(`timer-${this.id}`);
                
                display.innerText = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                
                const progress = document.getElementById(`progress-${this.id}`);
                const percent = (this.timeLeft / this.initialTime) * 100;
                progress.style.width = `${percent}%`;

                const card = document.getElementById(`card-${this.id}`);
                if (this.mode === 'focus') {
                    display.classList.remove('break-mode');
                    progress.style.backgroundColor = 'var(--focus-color)';
                    card.style.borderTopColor = 'var(--focus-color)';
                    document.querySelectorAll(`#cycle-visuals-${this.id} .current`).forEach(el => el.style.color = 'var(--focus-color)');
                } else {
                    display.classList.add('break-mode');
                    progress.style.backgroundColor = 'var(--break-color)';
                    card.style.borderTopColor = 'var(--break-color)';
                    document.querySelectorAll(`#cycle-visuals-${this.id} .current`).forEach(el => el.style.color = 'var(--break-color)');
                }
            }

            updateStatus(msg) {
                document.getElementById(`status-${this.id}`).innerText = msg;
            }

            start() {
                if (this.state === 'running') return;
                if (audioCtx.state === 'suspended') audioCtx.resume();
                this.state = 'running';
                document.getElementById(`btn-start-${this.id}`).style.display = 'none';
                document.getElementById(`btn-pause-${this.id}`).style.display = 'block';
                this.toggleInputs(true);
                this.updateStatus(this.mode === 'focus' ? 'ğŸ”¥ ì§‘ì¤‘ ì¤‘...' : 'â˜• íœ´ì‹ ì¤‘...');
                this.renderCycles();
                this.timerInterval = setInterval(() => {
                    if (this.timeLeft > 0) {
                        this.timeLeft--;
                        this.updateDisplay();
                    } else {
                        this.completePhase();
                    }
                }, 1000);
            }

            pause() {
                if (this.state !== 'running') return;
                clearInterval(this.timerInterval);
                this.state = 'paused';
                document.getElementById(`btn-start-${this.id}`).innerText = 'ì¬ê°œ';
                document.getElementById(`btn-start-${this.id}`).style.display = 'block';
                document.getElementById(`btn-pause-${this.id}`).style.display = 'none';
                this.updateStatus('â¸ï¸ ì¼ì‹œì •ì§€');
            }

            skipPhase() {
                clearInterval(this.timerInterval);
                this.completePhase(true);
            }

            resetTimer() {
                clearInterval(this.timerInterval);
                this.state = 'stopped';
                this.mode = 'focus';
                this.currentCycle = 1;
                this.timeLeft = this.focusTime * 60;
                this.initialTime = this.timeLeft;
                document.getElementById(`btn-start-${this.id}`).innerText = 'ì‹œì‘';
                document.getElementById(`btn-start-${this.id}`).style.display = 'block';
                document.getElementById(`btn-pause-${this.id}`).style.display = 'none';
                this.toggleInputs(false);
                this.updateStatus('Ready');
                this.renderCycles();
                this.updateDisplay();
                saveSessionData();
            }

            completePhase(mute = false) {
                clearInterval(this.timerInterval);
                if (!mute) playAlarm(); 

                if (this.mode === 'focus') {
                    this.mode = 'break';
                    this.timeLeft = this.breakTime * 60;
                    this.initialTime = this.timeLeft;
                    this.updateStatus('â˜• íœ´ì‹ ì¤€ë¹„');
                } else {
                    if (this.currentCycle < this.totalCycles) {
                        this.mode = 'focus';
                        this.currentCycle++;
                        this.timeLeft = this.focusTime * 60;
                        this.initialTime = this.timeLeft;
                        this.updateStatus('ğŸ”¥ ì§‘ì¤‘ ì¤€ë¹„');
                    } else {
                        this.resetTimer();
                        this.updateStatus('ğŸ‰ ì „ì²´ ì™„ë£Œ!');
                        if(!mute) playAlarm(); 
                        return;
                    }
                }
                this.renderCycles();
                this.updateDisplay();
                if (this.autoAdvance) {
                    this.state = 'stopped';
                    this.start();
                } else {
                    this.state = 'stopped';
                    document.getElementById(`btn-start-${this.id}`).innerText = 'ë‹¤ìŒ ë‹¨ê³„ ì‹œì‘';
                    document.getElementById(`btn-start-${this.id}`).style.display = 'block';
                    document.getElementById(`btn-pause-${this.id}`).style.display = 'none';
                    this.toggleInputs(false);
                }
            }

            toggleInputs(disabled) {
                document.getElementById(`input-focus-${this.id}`).disabled = disabled;
                document.getElementById(`input-break-${this.id}`).disabled = disabled;
                document.getElementById(`input-cycle-${this.id}`).disabled = disabled;
                document.getElementById(`check-auto-${this.id}`).disabled = disabled;
            }
        }


        // ===================================
        // âš™ï¸ GLOBAL CONTROLLER LOGIC
        // ===================================
        
        const getSettingsCardHTML = () => {
            const currentVolume = Math.round(globalVolume * 100);
            const softSelected = alarmProfile === 'soft' ? 'class="selected"' : '';
            const mediumSelected = alarmProfile === 'medium' ? 'class="selected"' : '';
            const loudSelected = alarmProfile === 'loud' ? 'class="selected"' : '';
            
            return `
                <div class="session-card" id="settings-card">
                    <div class="card-header">
                        <input type="text" class="session-name" value="ì „ì—­ ì„¤ì • (Global Settings)" disabled/>
                        <input type="text" class="session-note" placeholder="ë©”ëª¨ëŠ” ì„¤ì • ì¹´ë“œì—ì„œëŠ” ë¹„í™œì„±í™”" disabled>
                    </div>
                    
                    <div class="status-badge" style="color: var(--setting-color);">ëŒ€ì‹œë³´ë“œ ê´€ë¦¬</div>
                    <div class="cycle-visuals" style="margin-bottom: 20px;"></div>

                    <div class="timer-display" style="font-size: 2rem; color: var(--setting-color); margin-top: 5px;">âš™ï¸</div>
                    
                    <div class="progress-container">
                        <div class="progress-bar-bg">
                            <div class="progress-bar-fill" style="width: 100%; background: #ddd;"></div>
                        </div>
                    </div>
                    
                    <div class="action-buttons full-width" style="margin-top: 5px; margin-bottom: 10px;">
                        <button id="alarm-test" style="background-color: var(--setting-color); color: white;" class="full-width">í…ŒìŠ¤íŠ¸ ì•ŒëŒ ì¬ìƒ</button>
                    </div>

                    <div class="controls" style="gap: 15px; margin-top: auto; margin-bottom: 0;">
                        <div class="control-group">
                            <label>ìš´ì˜í•  íƒ€ì´ë¨¸ ê°œìˆ˜ (1~10)</label>
                            <span id="session-count-value">${sessionCount}</span>
                            <input type="range" id="session-count-slider" min="1" max="10" value="${sessionCount}">
                        </div>

                        <div class="control-group">
                            <label>ì•ŒëŒ ë³¼ë¥¨</label>
                            <span id="alarm-volume-value">${currentVolume}%</span>
                            <input type="range" id="alarm-volume-slider" min="0" max="100" value="${currentVolume}">
                        </div>
                        
                        <div style="grid-column: 1 / 3;">
                            <label style="font-size: 0.9rem; color: var(--gray-text);">ì•ŒëŒ ì¢…ë¥˜ ì„ íƒ</label>
                            <div class="alarm-selector">
                                <button id="alarm-soft" data-profile="soft" ${softSelected}>ì‘ì€ ì†Œë¦¬ ğŸ”ˆ</button>
                                <button id="alarm-medium" data-profile="medium" ${mediumSelected}>ì¤‘ê°„ ì†Œë¦¬ ğŸ””</button>
                                <button id="alarm-loud" data-profile="loud" ${loudSelected}>í° ì†Œë¦¬ ğŸ”Š</button>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        };

        function attachGlobalListeners() {
            const countSlider = document.getElementById('session-count-slider');
            const countValue = document.getElementById('session-count-value');

            if (!countSlider) return; 

            countSlider.oninput = (e) => {
                countValue.innerText = e.target.value; 
            };
            
            countSlider.onchange = (e) => {
                sessionCount = parseInt(e.target.value);
                saveGlobalSettings(); 
                createSessions(); 
            }

            const volumeSlider = document.getElementById('alarm-volume-slider');
            const volumeValue = document.getElementById('alarm-volume-value');
            
            volumeSlider.oninput = (e) => {
                globalVolume = parseInt(e.target.value) / 100;
                volumeValue.innerText = `${e.target.value}%`;
                saveGlobalSettings(); 
            };
            
            document.querySelectorAll('#settings-card .alarm-selector button[data-profile]').forEach(button => {
                button.onclick = (e) => {
                    alarmProfile = e.target.dataset.profile;
                    document.querySelectorAll('#settings-card .alarm-selector button').forEach(btn => btn.classList.remove('selected'));
                    e.target.classList.add('selected');
                    saveGlobalSettings(); 
                };
            });

            document.getElementById('alarm-test').onclick = playAlarm;
        }

        function createSessions() {
            activeSessions.forEach(session => {
                clearInterval(session.timerInterval);
            });
            activeSessions = [];
            const dashboard = document.getElementById('dashboard');
            dashboard.innerHTML = ''; 

            const loadedSessions = loadSessionData();
            
            for(let i=1; i<=sessionCount; i++) {
                const loadedData = loadedSessions.find(s => s.id === i) || {};
                const name = defaultNames[i-1] || `ì„¸ì…˜ ${i}`;
                
                const newSession = new PomodoroSession(i, name, loadedData);
                activeSessions.push(newSession);
            }
            
            dashboard.insertAdjacentHTML('beforeend', getSettingsCardHTML());
            
            attachGlobalListeners(); 
        }

        document.addEventListener('DOMContentLoaded', () => {
            loadGlobalSettings(); 
            
            if (audioCtx.state === 'suspended') {
                const resumeAudio = () => {
                    audioCtx.resume();
                    document.body.removeEventListener('touchstart', resumeAudio);
                    document.body.removeEventListener('mousedown', resumeAudio);
                };
                document.body.addEventListener('touchstart', resumeAudio, { once: true });
                document.body.addEventListener('mousedown', resumeAudio, { once: true });
            }
            createSessions(); 
        });

    </script>
</body>
</html>
ì•— ë ˆì´ì•„ì›ƒ ì¢‹ì€ë°, ì´ ëª‡ ì‹œê°„ì´ ê±¸ë¦¬ëŠ” ì§€ ë‚˜íƒ€ë‚´ëŠ” ê²Œ ë¹ ì¡Œì–´. ì„¸ì…˜ ì´ë¦„ ë°‘ì— ë©”ëª¨ ì˜ì—­ì„ ì—†ì• ì„œ ê³µê°„ì„ í™•ë³´í•˜ê³ , ì´ ëª‡ ì‹œê°„ì´ë¼ê³  íƒ€ì´ë¨¸ ì˜†ì— ì‘ì€ í°íŠ¸ë¡œ í‘œì‹œí•´ì£¼ëŠ” ê±´ ì–´ë–¨ê¹Œ? ì „ì²´ ì½”ë“œë¥¼ ë‹¤ì‹œ ì§œ ì¤˜.

ë ˆì´ì•„ì›ƒì— ëŒ€í•œ í”¼ë“œë°± ê°ì‚¬í•©ë‹ˆë‹¤! ì•„ì´í° 6ì™€ ê°™ì€ ì‘ì€ í™”ë©´ì—ì„œ ìŠ¤í¬ë¡¤ì„ ìµœì†Œí™”í•˜ê³  í•µì‹¬ ì •ë³´ë¥¼ í•œëˆˆì— ë³¼ ìˆ˜ ìˆë„ë¡, ìš”ì²­í•˜ì‹  ëŒ€ë¡œ ë©”ëª¨ ì˜ì—­ì„ ì œê±°í•˜ê³  ì´ ì†Œìš” ì‹œê°„ì„ íƒ€ì´ë¨¸ ì˜ì—­ì— í†µí•©í–ˆìŠµë‹ˆë‹¤.

ìˆ˜ì •ëœ ìµœì¢… ì½”ë“œë¥¼ GitHub Pagesì— ë‹¤ì‹œ ë®ì–´ì“°ì‹œë©´ ì•„ì´í° 6ì—ì„œ ë”ìš± ì¾Œì í•˜ê²Œ ì‚¬ìš©í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

âœ¨ ì•„ì´í° 6 ìµœì¢… ìµœì í™” ë³€ê²½ ì‚¬í•­ ìš”ì•½
ë©”ëª¨ í•„ë“œ ì œê±°: session-note ì…ë ¥ í•„ë“œì™€ ê´€ë ¨ CSSë¥¼ ì™„ì „íˆ ì œê±°í•˜ì—¬ ìˆ˜ì§ ê³µê°„ì„ í™•ë³´í–ˆìŠµë‹ˆë‹¤.

ì´ ì†Œìš” ì‹œê°„ í†µí•©:

PomodoroSession í´ë˜ìŠ¤ì— ì „ì²´ ì‚¬ì´í´ ì‹œê°„ì„ ê³„ì‚°í•˜ëŠ” ë¡œì§ì„ í†µí•©í–ˆìŠµë‹ˆë‹¤.

ë©”ì¸ íƒ€ì´ë¨¸ ìˆ«ì ë°”ë¡œ ì•„ë˜ì— **ì‘ì€ ê¸€ì”¨(0.8rem)**ë¡œ ì´ Xì‹œê°„ Yë¶„ì´ í‘œì‹œë˜ë„ë¡ ë°°ì¹˜í–ˆìŠµë‹ˆë‹¤. (ì˜ˆ: 25:00 ì•„ë˜ì— ì´ 1ì‹œê°„ 40ë¶„)

ë ˆì´ì•„ì›ƒ ìœ ì§€: í•µì‹¬ ì•¡ì…˜ ë²„íŠ¼ì´ ì„¤ì • ìŠ¬ë¼ì´ë”ë³´ë‹¤ ìœ„ì— ìœ„ì¹˜í•˜ëŠ” ë ˆì´ì•„ì›ƒì„ ê·¸ëŒ€ë¡œ ìœ ì§€í–ˆìŠµë‹ˆë‹¤.

ğŸ’» ìµœì¢… í†µí•© ì½”ë“œ (pomodoro-dashboard.html - ì´ ì†Œìš” ì‹œê°„ í‘œì‹œ & ë©”ëª¨ ì œê±°)
HTML
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Pomodoro</title>
    <style>
        :root {
            --bg-color: #f0f2f5;
            --card-bg: #ffffff;
            --focus-color: #ff6b6b;
            --break-color: #4ecdc4;
            --skip-color: #a29bfe;
            --setting-color: #00b894;
            --text-color: #333;
            --gray-text: #666;
            --shadow: 0 4px 10px rgba(0,0,0,0.1);
            --black-bar: #333;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            margin: 0;
            padding: 10px 10px; 
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
        }

        h1 { 
            margin-bottom: 10px; 
            font-weight: 800; 
            color: var(--focus-color); 
            font-size: 2.5rem;
        }

        /* --- Dashboard Layout --- */
        .dashboard {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            width: 100%;
            max-width: 1600px;
        }

        /* Session Card íŒ¨ë”© ë° ìµœì†Œ ë†’ì´ ì¡°ì • */
        .session-card {
            background: var(--card-bg);
            border-radius: 15px;
            padding: 15px; 
            box-shadow: var(--shadow);
            display: flex;
            flex-direction: column;
            border-top: 6px solid var(--focus-color);
            position: relative;
            min-height: 430px; /* ì¶”ê°€ ì••ì¶• */
        }

        .session-name { 
            font-size: 1.1rem; 
            font-weight: bold; 
            border: none; 
            border-bottom: 1px solid #ddd; 
            width: 100%; 
            padding: 5px 0 10px 0; /* ë©”ëª¨ ì˜ì—­ ì œê±° í›„ í•˜ë‹¨ íŒ¨ë”© í™•ë³´ */
            outline: none; 
            color: #2d3436; 
        }

        /* Status Badge ë§ˆì§„ ê°ì†Œ */
        .status-badge { 
            text-align: center; 
            font-size: 0.85rem; 
            margin-bottom: 3px; 
            font-weight: bold; 
            text-transform: uppercase; 
            letter-spacing: 1px; 
            min-height: 1.2em; 
        }
        
        /* Cycle Visuals ë§ˆì§„ ì¡°ì • */
        .cycle-visuals { 
            display: flex; 
            flex-wrap: wrap;
            justify-content: center; 
            gap: 5px; 
            margin: 5px 0 10px 0; 
            font-size: 1.2rem; 
            height: 35px;
            align-content: flex-start;
        }
        
        .cycle-dot {
            text-shadow: 0 0 1px var(--black-bar), 0 0 1px var(--black-bar);
        }
        .cycle-dot.completed { color: var(--gray-text); }
        .cycle-dot.current { color: var(--focus-color); animation: pulse 2s infinite; }
        .cycle-dot.future { color: #dfe6e9; }
        
        @keyframes pulse {
            0% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.7; transform: scale(1.2); }
            100% { opacity: 1; transform: scale(1); }
        }
        
        /* ìƒˆë¡œìš´ íƒ€ì´ë¨¸ wrapper */
        .timer-wrapper {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-bottom: 5px;
        }

        /* Timer Display í°íŠ¸ ë° ë§ˆì§„ ê°ì†Œ */
        .timer-display { 
            font-size: 2.8rem; 
            font-weight: 800; 
            text-align: center; 
            margin: 0; 
            font-variant-numeric: tabular-nums; 
            color: var(--focus-color); 
            transition: color 0.3s; 
            line-height: 1.2;
        }
        .timer-display.break-mode { color: var(--break-color); }
        
        /* ì´ ì†Œìš” ì‹œê°„ ë””ìŠ¤í”Œë ˆì´ */
        .total-time-display {
            font-size: 0.8rem; /* ì‘ì€ í°íŠ¸ */
            color: var(--gray-text); 
            font-weight: 500;
            text-align: center;
            margin-top: -5px; /* íƒ€ì´ë¨¸ì™€ ê°€ê¹ê²Œ */
            line-height: 1;
            padding-bottom: 5px;
        }


        /* Progress Bar ë§ˆì§„ ê°ì†Œ */
        .progress-container { 
            margin-bottom: 10px; 
            height: 6px; 
            width: 100%;
            overflow: hidden;
        }
        .progress-bar-bg { 
            position: relative;
            width: 100%; 
            height: 6px; 
            background: var(--black-bar);
            border-radius: 3px;
        }
        .progress-bar-fill { 
            height: 100%; 
            background: var(--focus-color); 
            width: 100%; 
            transition: width 1s linear, background-color 0.3s; 
            border-radius: 3px;
            transform-origin: right; 
        }

        /* Buttons íŒ¨ë”© ë° ê°„ê²© ê°ì†Œ */
        .action-buttons { 
            display: grid; 
            grid-template-columns: 1fr 1fr; 
            gap: 6px; 
            margin-top: 5px; 
            margin-bottom: 10px; 
        }
        .full-width { grid-column: span 2; }
        button { 
            padding: 8px; 
            border: none; 
            border-radius: 8px; 
            font-weight: bold; 
            cursor: pointer; 
            transition: opacity 0.2s; 
            font-size: 0.9rem; 
        }
        button:hover { opacity: 0.9; }
        .btn-start { background-color: var(--focus-color); color: white; }
        .btn-pause { background-color: #f1c40f; color: white; display: none; }
        .btn-pass { background-color: var(--skip-color); color: white; }
        .btn-reset { background-color: #95a5a6; color: white; }


        /* Controls íŒ¨ë”© ë° ë§ˆì§„ ê°ì†Œ */
        .controls { 
            display: flex; 
            flex-direction: column; 
            gap: 10px; 
            margin-bottom: 0px; 
            background: #f8f9fa; 
            padding: 10px; 
            border-radius: 8px; 
            margin-top: auto; 
        }
        .control-group { 
            display: grid; 
            grid-template-columns: 1fr auto; 
            align-items: center; 
            gap: 8px; 
        }
        .control-group label { 
            grid-column: 1 / 2;
            font-size: 0.9rem; 
            color: var(--gray-text); 
            justify-self: start;
        }
        .control-group span { 
            grid-column: 2 / 3;
            font-weight: bold;
            font-variant-numeric: tabular-nums;
            width: 30px;
            text-align: right;
        }
        input[type=range] { 
            grid-column: 1 / 3;
            width: 100%; 
            cursor: pointer; 
            accent-color: var(--focus-color); 
            margin-top: 3px; 
        }
        
        .toggle-wrapper { 
            display: flex; 
            align-items: center; 
            justify-content: space-between; 
            font-size: 0.9rem; 
            color: var(--gray-text); 
            margin-top: 5px; 
            padding-top: 5px;
            border-top: 1px solid #eee;
        }

        
        .alarm-selector { display: flex; gap: 5px; margin-top: 10px; }
        .alarm-selector button { flex: 1; font-size: 0.8rem; padding: 6px; border: 1px solid #ddd; background: #fff; }
        .alarm-selector button.selected { background: var(--setting-color); color: white; border-color: var(--setting-color); }
    </style>
</head>
<body>

    <h1>Pomodoro</h1>

    <div class="dashboard" id="dashboard">
    </div>

    <script>
        // --- Global State & Configuration ---
        const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
        let activeSessions = [];
        let globalVolume = 0.5;
        let alarmProfile = 'medium';
        let sessionCount = 5;
        const defaultNames = ['ê¸°íš', 'ê°œë°œ', 'ë””ìì¸', 'ë¬¸ì„œí™”', 'íšŒì˜', 'í•™ìŠµ', 'ìš´ë™', 'ì •ë¦¬', 'ë…ì„œ', 'ê¸°íƒ€'];

        // ===================================
        // ğŸ’¾ LOCAL STORAGE FUNCTIONS
        // ===================================

        function saveGlobalSettings() {
            const settings = {
                sessionCount: sessionCount,
                globalVolume: globalVolume,
                alarmProfile: alarmProfile
            };
            try {
                localStorage.setItem('pomodoroGlobalSettings', JSON.stringify(settings));
            } catch (e) {
                console.error("Local storage error during global save:", e);
            }
        }

        function loadGlobalSettings() {
            try {
                const data = localStorage.getItem('pomodoroGlobalSettings');
                if (data) {
                    const settings = JSON.parse(data);
                    sessionCount = settings.sessionCount || 5;
                    globalVolume = settings.globalVolume !== undefined ? settings.globalVolume : 0.5;
                    alarmProfile = settings.alarmProfile || 'medium';
                }
            } catch (e) {
                console.error("Local storage error during global load:", e);
            }
        }

        function saveSessionData() {
            const sessionData = activeSessions.map(session => ({
                id: session.id,
                name: session.name,
                focusTime: session.focusTime,
                breakTime: session.breakTime,
                totalCycles: session.totalCycles,
                autoAdvance: session.autoAdvance
            }));
            try {
                localStorage.setItem('pomodoroSessionData', JSON.stringify(sessionData));
            } catch (e) {
                console.error("Local storage error during session save:", e);
            }
        }

        function loadSessionData() {
            try {
                const data = localStorage.getItem('pomodoroSessionData');
                return data ? JSON.parse(data) : [];
            } catch (e) {
                console.error("Local storage error during session load:", e);
                return [];
            }
        }
        
        // ===================================
        // â²ï¸ TIME UTILITY FUNCTIONS (ìˆ˜ì •)
        // ===================================
        function formatTotalTime(totalMinutes) {
            if (totalMinutes <= 0) {
                return 'ì´ 0ì‹œê°„ 00ë¶„';
            }
            const hours = Math.floor(totalMinutes / 60);
            const minutes = totalMinutes % 60;
            
            if (hours > 0) {
                return `ì´ ${hours}ì‹œê°„ ${String(minutes).padStart(2, '0')}ë¶„`;
            } else {
                return `ì´ ${String(minutes).padStart(2, '0')}ë¶„`;
            }
        }


        // ===================================
        // ğŸ”Š ALARM SOUND FUNCTIONS
        // ===================================

        function playAlarm() {
            if (audioCtx.state === 'suspended') audioCtx.resume();
            const now = audioCtx.currentTime;
            
            const createBeep = (startTime, duration, freq, type, vol) => {
                const oscillator = audioCtx.createOscillator();
                const gainNode = audioCtx.createGain();

                oscillator.type = type;
                oscillator.frequency.value = freq;
                const effectiveVolume = Math.max(0.01, vol * globalVolume);
                gainNode.gain.setValueAtTime(effectiveVolume, startTime);
                gainNode.gain.exponentialRampToValueAtTime(0.001, startTime + duration);

                oscillator.connect(gainNode);
                gainNode.connect(audioCtx.destination);
                oscillator.start(startTime);
                oscillator.stop(startTime + duration);
            };

            switch(alarmProfile) {
                case 'soft':
                    createBeep(now, 0.2, 440, 'sine', 0.2); 
                    break;
                case 'medium':
                    createBeep(now, 0.1, 880, 'square', 0.5);
                    createBeep(now + 0.15, 0.1, 880, 'square', 0.5);
                    createBeep(now + 0.3, 0.3, 1100, 'square', 0.5);
                    break;
                case 'loud':
                    createBeep(now, 0.5, 1200, 'sawtooth', 1.0); 
                    break;
            }
        }

        // ===================================
        // â±ï¸ POMODORO SESSION CLASS (ìˆ˜ì •)
        // ===================================

        class PomodoroSession {
            constructor(id, defaultName, loadedData = {}) {
                this.id = id;
                this.name = loadedData.name || defaultName || `Session ${id}`;
                // this.note ì œê±°
                this.state = 'stopped'; 
                this.mode = 'focus'; 
                this.currentCycle = 1;
                this.totalCycles = loadedData.totalCycles || 4;
                this.focusTime = loadedData.focusTime || 25; 
                this.breakTime = loadedData.breakTime || 5;  
                this.autoAdvance = loadedData.autoAdvance || false;
                
                this.timeLeft = this.focusTime * 60;
                this.timerInterval = null;
                this.initialTime = this.focusTime * 60;

                this.render();
                this.attachEvents();
                this.updateDisplay();
                this.renderCycles(); 
                this.updateTotalTimeDisplay(); // ì¶”ê°€
            }
            
            // ì´ ì†Œìš” ì‹œê°„ ê³„ì‚° ë©”ì„œë“œ ì¶”ê°€
            calculateTotalTime() {
                const totalMinutes = (this.focusTime * this.totalCycles) + (this.breakTime * (this.totalCycles > 0 ? this.totalCycles - 1 : 0));
                return totalMinutes;
            }

            // ì´ ì†Œìš” ì‹œê°„ í‘œì‹œ ì—…ë°ì´íŠ¸ ë©”ì„œë“œ ì¶”ê°€
            updateTotalTimeDisplay() {
                const totalMinutes = this.calculateTotalTime();
                const formattedTime = formatTotalTime(totalMinutes);
                
                const element = document.getElementById(`total-time-${this.id}`);
                if (element) {
                    element.innerText = formattedTime;
                }
            }


            // RENDER ë©”ì„œë“œ: session-note ì œê±°, timer-wrapper ì¶”ê°€
            render() {
                const container = document.getElementById('dashboard');
                const html = `
                    <div class="session-card" id="card-${this.id}">
                        <div class="card-header">
                            <input type="text" class="session-name" value="${this.name}">
                            </div>
                        
                        <div class="status-badge" id="status-${this.id}">Ready</div>
                        <div class="cycle-visuals" id="cycle-visuals-${this.id}"></div>
                        
                        <div class="timer-wrapper">
                            <div class="timer-display" id="timer-${this.id}">${(this.focusTime).toString().padStart(2, '0')}:00</div>
                            <div class="total-time-display" id="total-time-${this.id}"></div>
                        </div>
                        
                        <div class="progress-container">
                            <div class="progress-bar-bg">
                                <div class="progress-bar-fill" id="progress-${this.id}"></div>
                            </div>
                        </div>

                        <div class="action-buttons">
                            <button class="btn-start full-width" id="btn-start-${this.id}">ì‹œì‘</button>
                            <button class="btn-pause full-width" id="btn-pause-${this.id}">ì¼ì‹œì •ì§€</button>
                            
                            <button class="btn-pass" id="btn-pass-${this.id}">PASS â­ï¸</button>
                            <button class="btn-reset" id="btn-reset-${this.id}">ë¦¬ì…‹ â†º</button>
                        </div>
                        
                        <div class="controls">
                            <div class="control-group">
                                <label>ì§‘ì¤‘ ì‹œê°„ (ë¶„)</label>
                                <span id="val-focus-${this.id}">${this.focusTime}</span>
                                <input type="range" id="input-focus-${this.id}" min="1" max="60" value="${this.focusTime}">
                            </div>
                            <div class="control-group">
                                <label>íœ´ì‹ ì‹œê°„ (ë¶„)</label>
                                <span id="val-break-${this.id}">${this.breakTime}</span>
                                <input type="range" id="input-break-${this.id}" min="1" max="10" value="${this.breakTime}">
                            </div>
                            <div class="control-group">
                                <label>ì´ ì‚¬ì´í´ ìˆ˜</label>
                                <span id="val-cycle-${this.id}">${this.totalCycles}</span>
                                <input type="range" id="input-cycle-${this.id}" min="1" max="20" value="${this.totalCycles}">
                            </div>
                            <div class="toggle-wrapper">
                                <span>ìë™ ì§„í–‰ (Auto Advance)</span>
                                <input type="checkbox" id="check-auto-${this.id}" ${this.autoAdvance ? 'checked' : ''}>
                            </div>
                        </div>

                    </div>
                `;
                container.insertAdjacentHTML('beforeend', html);
            }
            
            attachEvents() {
                const updateAndSave = (callback) => (e) => {
                    callback(e);
                    // ì„¤ì • ë³€ê²½ ì‹œ ì´ ì†Œìš” ì‹œê°„ ì—…ë°ì´íŠ¸
                    if (['input-focus', 'input-break', 'input-cycle'].some(idPart => e.target.id.includes(idPart))) {
                        this.updateTotalTimeDisplay();
                    }
                    if (this.state === 'stopped' || e.type === 'change' || e.type === 'input') { 
                        saveSessionData();
                    }
                };
                
                // .session-note ì´ë²¤íŠ¸ ì œê±°
                document.getElementById(`card-${this.id}`).querySelector('.session-name').addEventListener('input', updateAndSave((e) => {
                    this.name = e.target.value;
                }));
                
                document.getElementById(`input-focus-${this.id}`).addEventListener('input', updateAndSave((e) => {
                    this.focusTime = parseInt(e.target.value);
                    document.getElementById(`val-focus-${this.id}`).innerText = this.focusTime;
                    if (this.state === 'stopped' && this.mode === 'focus') this.resetTimer();
                }));
                document.getElementById(`input-break-${this.id}`).addEventListener('input', updateAndSave((e) => {
                    this.breakTime = parseInt(e.target.value);
                    document.getElementById(`val-break-${this.id}`).innerText = this.breakTime;
                    if (this.state === 'stopped' && this.mode === 'break') this.resetTimer();
                }));
                document.getElementById(`input-cycle-${this.id}`).addEventListener('input', updateAndSave((e) => {
                    this.totalCycles = parseInt(e.target.value);
                    document.getElementById(`val-cycle-${this.id}`).innerText = this.totalCycles;
                    this.renderCycles();
                }));
                document.getElementById(`check-auto-${this.id}`).addEventListener('change', updateAndSave((e) => {
                    this.autoAdvance = e.target.checked;
                }));

                document.getElementById(`btn-start-${this.id}`).addEventListener('click', () => this.start());
                document.getElementById(`btn-pause-${this.id}`).addEventListener('click', () => this.pause());
                document.getElementById(`btn-reset-${this.id}`).addEventListener('click', () => this.resetTimer());
                document.getElementById(`btn-pass-${this.id}`).addEventListener('click', () => this.skipPhase());
            }

            // ... (renderCycles, updateDisplay, updateStatus, start, pause, skipPhase, resetTimer, completePhase, toggleInputs) ë©”ì„œë“œëŠ” ì´ì „ê³¼ ë™ì¼í•©ë‹ˆë‹¤.
            
            renderCycles() {
                const container = document.getElementById(`cycle-visuals-${this.id}`);
                let html = '';
                const total = this.totalCycles;
                let firstRow, secondRow;

                if (total <= 9) {
                    firstRow = total;
                    secondRow = 0;
                } else {
                    firstRow = Math.min(10, Math.ceil(total / 2)); 
                    secondRow = total - firstRow;
                }

                for (let i = 1; i <= total; i++) {
                    const isCurrent = i === this.currentCycle;
                    const isCompleted = i < this.currentCycle;
                    
                    if (i === firstRow + 1 && secondRow > 0) {
                         html += '<div style="width: 100%; height: 0; margin-bottom: -5px;"></div>';
                    }

                    if (isCompleted) {
                        html += '<span class="cycle-dot completed">â—</span>'; 
                    } else if (isCurrent) {
                        html += `<span class="cycle-dot current">â—‰</span>`;
                    } else {
                        html += '<span class="cycle-dot future">â—‹</span>'; 
                    }
                }
                container.innerHTML = html;
            }

            updateDisplay() {
                const minutes = Math.floor(this.timeLeft / 60);
                const seconds = this.timeLeft % 60;
                const display = document.getElementById(`timer-${this.id}`);
                
                display.innerText = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                
                const progress = document.getElementById(`progress-${this.id}`);
                const percent = (this.timeLeft / this.initialTime) * 100;
                progress.style.width = `${percent}%`;

                const card = document.getElementById(`card-${this.id}`);
                if (this.mode === 'focus') {
                    display.classList.remove('break-mode');
                    progress.style.backgroundColor = 'var(--focus-color)';
                    card.style.borderTopColor = 'var(--focus-color)';
                    document.querySelectorAll(`#cycle-visuals-${this.id} .current`).forEach(el => el.style.color = 'var(--focus-color)');
                } else {
                    display.classList.add('break-mode');
                    progress.style.backgroundColor = 'var(--break-color)';
                    card.style.borderTopColor = 'var(--break-color)';
                    document.querySelectorAll(`#cycle-visuals-${this.id} .current`).forEach(el => el.style.color = 'var(--break-color)');
                }
            }

            updateStatus(msg) {
                document.getElementById(`status-${this.id}`).innerText = msg;
            }

            start() {
                if (this.state === 'running') return;
                if (audioCtx.state === 'suspended') audioCtx.resume();
                this.state = 'running';
                document.getElementById(`btn-start-${this.id}`).style.display = 'none';
                document.getElementById(`btn-pause-${this.id}`).style.display = 'block';
                this.toggleInputs(true);
                this.updateStatus(this.mode === 'focus' ? 'ğŸ”¥ ì§‘ì¤‘ ì¤‘...' : 'â˜• íœ´ì‹ ì¤‘...');
                this.renderCycles();
                this.timerInterval = setInterval(() => {
                    if (this.timeLeft > 0) {
                        this.timeLeft--;
                        this.updateDisplay();
                    } else {
                        this.completePhase();
                    }
                }, 1000);
            }

            pause() {
                if (this.state !== 'running') return;
                clearInterval(this.timerInterval);
                this.state = 'paused';
                document.getElementById(`btn-start-${this.id}`).innerText = 'ì¬ê°œ';
                document.getElementById(`btn-start-${this.id}`).style.display = 'block';
                document.getElementById(`btn-pause-${this.id}`).style.display = 'none';
                this.updateStatus('â¸ï¸ ì¼ì‹œì •ì§€');
            }

            skipPhase() {
                clearInterval(this.timerInterval);
                this.completePhase(true);
            }

            resetTimer() {
                clearInterval(this.timerInterval);
                this.state = 'stopped';
                this.mode = 'focus';
                this.currentCycle = 1;
                this.timeLeft = this.focusTime * 60;
                this.initialTime = this.timeLeft;
                document.getElementById(`btn-start-${this.id}`).innerText = 'ì‹œì‘';
                document.getElementById(`btn-start-${this.id}`).style.display = 'block';
                document.getElementById(`btn-pause-${this.id}`).style.display = 'none';
                this.toggleInputs(false);
                this.updateStatus('Ready');
                this.renderCycles();
                this.updateDisplay();
                saveSessionData();
            }

            completePhase(mute = false) {
                clearInterval(this.timerInterval);
                if (!mute) playAlarm(); 

                if (this.mode === 'focus') {
                    this.mode = 'break';
                    this.timeLeft = this.breakTime * 60;
                    this.initialTime = this.timeLeft;
                    this.updateStatus('â˜• íœ´ì‹ ì¤€ë¹„');
                } else {
                    if (this.currentCycle < this.totalCycles) {
                        this.mode = 'focus';
                        this.currentCycle++;
                        this.timeLeft = this.focusTime * 60;
                        this.initialTime = this.timeLeft;
                        this.updateStatus('ğŸ”¥ ì§‘ì¤‘ ì¤€ë¹„');
                    } else {
                        this.resetTimer();
                        this.updateStatus('ğŸ‰ ì „ì²´ ì™„ë£Œ!');
                        if(!mute) playAlarm(); 
                        return;
                    }
                }
                this.renderCycles();
                this.updateDisplay();
                if (this.autoAdvance) {
                    this.state = 'stopped';
                    this.start();
                } else {
                    this.state = 'stopped';
                    document.getElementById(`btn-start-${this.id}`).innerText = 'ë‹¤ìŒ ë‹¨ê³„ ì‹œì‘';
                    document.getElementById(`btn-start-${this.id}`).style.display = 'block';
                    document.getElementById(`btn-pause-${this.id}`).style.display = 'none';
                    this.toggleInputs(false);
                }
            }

            toggleInputs(disabled) {
                document.getElementById(`input-focus-${this.id}`).disabled = disabled;
                document.getElementById(`input-break-${this.id}`).disabled = disabled;
                document.getElementById(`input-cycle-${this.id}`).disabled = disabled;
                document.getElementById(`check-auto-${this.id}`).disabled = disabled;
            }
        }


        // ===================================
        // âš™ï¸ GLOBAL CONTROLLER LOGIC
        // ===================================
        
        const getSettingsCardHTML = () => {
            const currentVolume = Math.round(globalVolume * 100);
            const softSelected = alarmProfile === 'soft' ? 'class="selected"' : '';
            const mediumSelected = alarmProfile === 'medium' ? 'class="selected"' : '';
            const loudSelected = alarmProfile === 'loud' ? 'class="selected"' : '';
            
            return `
                <div class="session-card" id="settings-card">
                    <div class="card-header">
                        <input type="text" class="session-name" value="ì „ì—­ ì„¤ì • (Global Settings)" disabled/>
                    </div>
                    
                    <div class="status-badge" style="color: var(--setting-color);">ëŒ€ì‹œë³´ë“œ ê´€ë¦¬</div>
                    <div class="cycle-visuals" style="margin-bottom: 20px;"></div>

                    <div class="timer-wrapper">
                        <div class="timer-display" style="font-size: 2.5rem; color: var(--setting-color); margin-top: 5px;">âš™ï¸</div>
                        <div class="total-time-display" style="font-size: 0.9rem; margin-top: 0;">(íƒ€ì´ë¨¸ ê°œìˆ˜ ì¡°ì ˆ)</div>
                    </div>
                    
                    <div class="progress-container">
                        <div class="progress-bar-bg">
                            <div class="progress-bar-fill" style="width: 100%; background: #ddd;"></div>
                        </div>
                    </div>
                    
                    <div class="action-buttons full-width" style="margin-top: 5px; margin-bottom: 10px;">
                        <button id="alarm-test" style="background-color: var(--setting-color); color: white;" class="full-width">í…ŒìŠ¤íŠ¸ ì•ŒëŒ ì¬ìƒ</button>
                    </div>

                    <div class="controls" style="gap: 15px; margin-top: auto; margin-bottom: 0;">
                        <div class="control-group">
                            <label>ìš´ì˜í•  íƒ€ì´ë¨¸ ê°œìˆ˜ (1~10)</label>
                            <span id="session-count-value">${sessionCount}</span>
                            <input type="range" id="session-count-slider" min="1" max="10" value="${sessionCount}">
                        </div>

                        <div class="control-group">
                            <label>ì•ŒëŒ ë³¼ë¥¨</label>
                            <span id="alarm-volume-value">${currentVolume}%</span>
                            <input type="range" id="alarm-volume-slider" min="0" max="100" value="${currentVolume}">
                        </div>
                        
                        <div style="grid-column: 1 / 3;">
                            <label style="font-size: 0.9rem; color: var(--gray-text);">ì•ŒëŒ ì¢…ë¥˜ ì„ íƒ</label>
                            <div class="alarm-selector">
                                <button id="alarm-soft" data-profile="soft" ${softSelected}>ì‘ì€ ì†Œë¦¬ ğŸ”ˆ</button>
                                <button id="alarm-medium" data-profile="medium" ${mediumSelected}>ì¤‘ê°„ ì†Œë¦¬ ğŸ””</button>
                                <button id="alarm-loud" data-profile="loud" ${loudSelected}>í° ì†Œë¦¬ ğŸ”Š</button>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        };

        function attachGlobalListeners() {
            const countSlider = document.getElementById('session-count-slider');
            const countValue = document.getElementById('session-count-value');

            if (!countSlider) return; 

            countSlider.oninput = (e) => {
                countValue.innerText = e.target.value; 
            };
            
            countSlider.onchange = (e) => {
                sessionCount = parseInt(e.target.value);
                saveGlobalSettings(); 
                createSessions(); 
            }

            const volumeSlider = document.getElementById('alarm-volume-slider');
            const volumeValue = document.getElementById('alarm-volume-value');
            
            volumeSlider.oninput = (e) => {
                globalVolume = parseInt(e.target.value) / 100;
                volumeValue.innerText = `${e.target.value}%`;
                saveGlobalSettings(); 
            };
            
            document.querySelectorAll('#settings-card .alarm-selector button[data-profile]').forEach(button => {
                button.onclick = (e) => {
                    alarmProfile = e.target.dataset.profile;
                    document.querySelectorAll('#settings-card .alarm-selector button').forEach(btn => btn.classList.remove('selected'));
                    e.target.classList.add('selected');
                    saveGlobalSettings(); 
                };
            });

            document.getElementById('alarm-test').onclick = playAlarm;
        }

        function createSessions() {
            activeSessions.forEach(session => {
                clearInterval(session.timerInterval);
            });
            activeSessions = [];
            const dashboard = document.getElementById('dashboard');
            dashboard.innerHTML = ''; 

            const loadedSessions = loadSessionData();
            
            for(let i=1; i<=sessionCount; i++) {
                const loadedData = loadedSessions.find(s => s.id === i) || {};
                const name = defaultNames[i-1] || `ì„¸ì…˜ ${i}`;
                
                const newSession = new PomodoroSession(i, name, loadedData);
                activeSessions.push(newSession);
            }
            
            dashboard.insertAdjacentHTML('beforeend', getSettingsCardHTML());
            
            attachGlobalListeners(); 
        }

        document.addEventListener('DOMContentLoaded', () => {
            loadGlobalSettings(); 
            
            if (audioCtx.state === 'suspended') {
                const resumeAudio = () => {
                    audioCtx.resume();
                    document.body.removeEventListener('touchstart', resumeAudio);
                    document.body.removeEventListener('mousedown', resumeAudio);
                };
                document.body.addEventListener('touchstart', resumeAudio, { once: true });
                document.body.addEventListener('mousedown', resumeAudio, { once: true });
            }
            createSessions(); 
        });

    </script>
</body>
</html>
ğŸ” GitHub Pages ì—…ë°ì´íŠ¸ ë°©ë²•
ì´ì „ê³¼ ë™ì¼í•˜ê²Œ, PCì—ì„œ ìƒˆë¡œ ìˆ˜ì •ëœ ì „ì²´ ì½”ë“œë¥¼ ë³µì‚¬í•˜ì—¬ GitHub ì €ì¥ì†Œì˜ pomodoro.html íŒŒì¼ì— ë®ì–´ì“°ê³  ì»¤ë°‹í•˜ì‹œë©´ ë©ë‹ˆë‹¤.

GitHub ì €ì¥ì†Œ í˜ì´ì§€ì—ì„œ pomodoro.html íŒŒì¼ë¡œ ì´ë™í•©ë‹ˆë‹¤.

ì˜¤ë¥¸ìª½ ìƒë‹¨ì˜ ì—°í•„ ëª¨ì–‘(Edit) ë²„íŠ¼ì„ í´ë¦­í•©ë‹ˆë‹¤.

ê¸°ì¡´ ì½”ë“œë¥¼ ëª¨ë‘ ì§€ìš°ê³  ìƒˆ ì½”ë“œë¥¼ ë¶™ì—¬ë„£ìŠµë‹ˆë‹¤.

í˜ì´ì§€ í•˜ë‹¨ì˜ **'Commit changes'**ë¥¼ í´ë¦­í•©ë‹ˆë‹¤.

ì—…ë°ì´íŠ¸ê°€ ì™„ë£Œë˜ë©´ ì•„ì´í° Safariì—ì„œ ìƒˆë¡œê³ ì¹¨í•˜ì—¬ ë°”ë€ ë ˆì´ì•„ì›ƒì„ í™•ì¸í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì•„ì£¼ ì¢‹ì•„. ì´ì œ ì¢…ë£Œí•  ë•Œ ì•ŒëŒ ì†Œë¦¬ ë‚˜ëŠ” ê²ƒ ì™¸ì—ë„, ì‹œì‘ ì¼ì‹œì •ì§€ ì¬ê°œ íŒ¨ìŠ¤ ë“± ë²„íŠ¼ì„ ì¡°ì‘í•  ë•Œë§ˆë‹¤ ëµ í•˜ê³  ì•Œë¦¼ìŒ (ì „ì—­ ì„¤ì •ì˜ ì•ŒëŒ ì¢…ë¥˜ ì¤‘ ì‘ì€ ì†Œë¦¬ë¡œ ë˜ì–´ìˆëŠ” ê·¸ ì†Œë¦¬ ê°™ì€)ì´ ë‚˜ë„ë¡ ì½”ë“œë¥¼ ìˆ˜ì •í•´ì„œ ë‹¤ì‹œ ì§œ ì¤˜.

ìš”ì²­í•˜ì‹  ëŒ€ë¡œ ë²„íŠ¼ ì¡°ì‘ ì‹œ ì•Œë¦¼ìŒì´ ë‚˜ë„ë¡ ì½”ë“œë¥¼ ìˆ˜ì •í–ˆìŠµë‹ˆë‹¤.

ìˆ˜ì •ëœ ë¶€ë¶„ì€ PomodoroSession í´ë˜ìŠ¤ì˜ ì£¼ìš” ì•¡ì…˜ ë©”ì„œë“œ(start, pause, skipPhase, resetTimer)ì— ì•Œë¦¼ìŒì„ ì¬ìƒí•˜ëŠ” ë¡œì§ì„ ì¶”ê°€í•œ ê²ƒì…ë‹ˆë‹¤.

âœ¨ ë³€ê²½ ì‚¬í•­ ìš”ì•½
ìƒˆë¡œìš´ ì•Œë¦¼ìŒ í•¨ìˆ˜ ì¶”ê°€: ë²„íŠ¼ ì¡°ì‘ ì‹œ ì‚¬ìš©í•  playNotificationSound() í•¨ìˆ˜ë¥¼ ì •ì˜í–ˆìŠµë‹ˆë‹¤. ì´ í•¨ìˆ˜ëŠ” globalVolumeê³¼ ë¬´ê´€í•˜ê²Œ 'soft' ì•ŒëŒ í”„ë¡œí•„ì˜ ì†Œë¦¬ë¥¼ ì¬ìƒí•©ë‹ˆë‹¤.

ì•¡ì…˜ ë²„íŠ¼ì— ì•Œë¦¼ìŒ ì—°ê²°:

start()

pause()

skipPhase()

resetTimer()

ê° ë©”ì„œë“œê°€ ì‹¤í–‰ë  ë•Œë§ˆë‹¤ playNotificationSound()ë¥¼ í˜¸ì¶œí•˜ë„ë¡ ì¶”ê°€í–ˆìŠµë‹ˆë‹¤.

ğŸ’» ìµœì¢… í†µí•© ì½”ë“œ (pomodoro-dashboard.html - ë²„íŠ¼ ì•Œë¦¼ìŒ ì¶”ê°€)
HTML
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Pomodoro</title>
    <style>
        :root {
            --bg-color: #f0f2f5;
            --card-bg: #ffffff;
            --focus-color: #ff6b6b;
            --break-color: #4ecdc4;
            --skip-color: #a29bfe;
            --setting-color: #00b894;
            --text-color: #333;
            --gray-text: #666;
            --shadow: 0 4px 10px rgba(0,0,0,0.1);
            --black-bar: #333;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            margin: 0;
            padding: 10px 10px; 
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
        }

        h1 { 
            margin-bottom: 10px; 
            font-weight: 800; 
            color: var(--focus-color); 
            font-size: 2.5rem;
        }

        /* --- Dashboard Layout --- */
        .dashboard {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            width: 100%;
            max-width: 1600px;
        }

        /* Session Card íŒ¨ë”© ë° ìµœì†Œ ë†’ì´ ì¡°ì • */
        .session-card {
            background: var(--card-bg);
            border-radius: 15px;
            padding: 15px; 
            box-shadow: var(--shadow);
            display: flex;
            flex-direction: column;
            border-top: 6px solid var(--focus-color);
            position: relative;
            min-height: 430px; 
        }

        .session-name { 
            font-size: 1.1rem; 
            font-weight: bold; 
            border: none; 
            border-bottom: 1px solid #ddd; 
            width: 100%; 
            padding: 5px 0 10px 0; 
            outline: none; 
            color: #2d3436; 
        }

        /* Status Badge ë§ˆì§„ ê°ì†Œ */
        .status-badge { 
            text-align: center; 
            font-size: 0.85rem; 
            margin-bottom: 3px; 
            font-weight: bold; 
            text-transform: uppercase; 
            letter-spacing: 1px; 
            min-height: 1.2em; 
        }
        
        /* Cycle Visuals ë§ˆì§„ ì¡°ì • */
        .cycle-visuals { 
            display: flex; 
            flex-wrap: wrap;
            justify-content: center; 
            gap: 5px; 
            margin: 5px 0 10px 0; 
            font-size: 1.2rem; 
            height: 35px;
            align-content: flex-start;
        }
        
        .cycle-dot {
            text-shadow: 0 0 1px var(--black-bar), 0 0 1px var(--black-bar);
        }
        .cycle-dot.completed { color: var(--gray-text); }
        .cycle-dot.current { color: var(--focus-color); animation: pulse 2s infinite; }
        .cycle-dot.future { color: #dfe6e9; }
        
        @keyframes pulse {
            0% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.7; transform: scale(1.2); }
            100% { opacity: 1; transform: scale(1); }
        }
        
        /* ìƒˆë¡œìš´ íƒ€ì´ë¨¸ wrapper */
        .timer-wrapper {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-bottom: 5px;
        }

        /* Timer Display í°íŠ¸ ë° ë§ˆì§„ ê°ì†Œ */
        .timer-display { 
            font-size: 2.8rem; 
            font-weight: 800; 
            text-align: center; 
            margin: 0; 
            font-variant-numeric: tabular-nums; 
            color: var(--focus-color); 
            transition: color 0.3s; 
            line-height: 1.2;
        }
        .timer-display.break-mode { color: var(--break-color); }
        
        /* ì´ ì†Œìš” ì‹œê°„ ë””ìŠ¤í”Œë ˆì´ */
        .total-time-display {
            font-size: 0.8rem; 
            color: var(--gray-text); 
            font-weight: 500;
            text-align: center;
            margin-top: -5px; 
            line-height: 1;
            padding-bottom: 5px;
        }


        /* Progress Bar ë§ˆì§„ ê°ì†Œ */
        .progress-container { 
            margin-bottom: 10px; 
            height: 6px; 
            width: 100%;
            overflow: hidden;
        }
        .progress-bar-bg { 
            position: relative;
            width: 100%; 
            height: 6px; 
            background: var(--black-bar);
            border-radius: 3px;
        }
        .progress-bar-fill { 
            height: 100%; 
            background: var(--focus-color); 
            width: 100%; 
            transition: width 1s linear, background-color 0.3s; 
            border-radius: 3px;
            transform-origin: right; 
        }

        /* Buttons íŒ¨ë”© ë° ê°„ê²© ê°ì†Œ */
        .action-buttons { 
            display: grid; 
            grid-template-columns: 1fr 1fr; 
            gap: 6px; 
            margin-top: 5px; 
            margin-bottom: 10px; 
        }
        .full-width { grid-column: span 2; }
        button { 
            padding: 8px; 
            border: none; 
            border-radius: 8px; 
            font-weight: bold; 
            cursor: pointer; 
            transition: opacity 0.2s; 
            font-size: 0.9rem; 
        }
        button:hover { opacity: 0.9; }
        .btn-start { background-color: var(--focus-color); color: white; }
        .btn-pause { background-color: #f1c40f; color: white; display: none; }
        .btn-pass { background-color: var(--skip-color); color: white; }
        .btn-reset { background-color: #95a5a6; color: white; }


        /* Controls íŒ¨ë”© ë° ë§ˆì§„ ê°ì†Œ */
        .controls { 
            display: flex; 
            flex-direction: column; 
            gap: 10px; 
            margin-bottom: 0px; 
            background: #f8f9fa; 
            padding: 10px; 
            border-radius: 8px; 
            margin-top: auto; 
        }
        .control-group { 
            display: grid; 
            grid-template-columns: 1fr auto; 
            align-items: center; 
            gap: 8px; 
        }
        .control-group label { 
            grid-column: 1 / 2;
            font-size: 0.9rem; 
            color: var(--gray-text); 
            justify-self: start;
        }
        .control-group span { 
            grid-column: 2 / 3;
            font-weight: bold;
            font-variant-numeric: tabular-nums;
            width: 30px;
            text-align: right;
        }
        input[type=range] { 
            grid-column: 1 / 3;
            width: 100%; 
            cursor: pointer; 
            accent-color: var(--focus-color); 
            margin-top: 3px; 
        }
        
        .toggle-wrapper { 
            display: flex; 
            align-items: center; 
            justify-content: space-between; 
            font-size: 0.9rem; 
            color: var(--gray-text); 
            margin-top: 5px; 
            padding-top: 5px;
            border-top: 1px solid #eee;
        }

        
        .alarm-selector { display: flex; gap: 5px; margin-top: 10px; }
        .alarm-selector button { flex: 1; font-size: 0.8rem; padding: 6px; border: 1px solid #ddd; background: #fff; }
        .alarm-selector button.selected { background: var(--setting-color); color: white; border-color: var(--setting-color); }
    </style>
</head>
<body>

    <h1>Pomodoro</h1>

    <div class="dashboard" id="dashboard">
    </div>

    <script>
        // --- Global State & Configuration ---
        const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
        let activeSessions = [];
        let globalVolume = 0.5;
        let alarmProfile = 'medium';
        let sessionCount = 5;
        const defaultNames = ['ê¸°íš', 'ê°œë°œ', 'ë””ìì¸', 'ë¬¸ì„œí™”', 'íšŒì˜', 'í•™ìŠµ', 'ìš´ë™', 'ì •ë¦¬', 'ë…ì„œ', 'ê¸°íƒ€'];

        // ===================================
        // ğŸ’¾ LOCAL STORAGE FUNCTIONS (ì´ì „ê³¼ ë™ì¼)
        // ===================================

        function saveGlobalSettings() {
            const settings = {
                sessionCount: sessionCount,
                globalVolume: globalVolume,
                alarmProfile: alarmProfile
            };
            try {
                localStorage.setItem('pomodoroGlobalSettings', JSON.stringify(settings));
            } catch (e) {
                console.error("Local storage error during global save:", e);
            }
        }

        function loadGlobalSettings() {
            try {
                const data = localStorage.getItem('pomodoroGlobalSettings');
                if (data) {
                    const settings = JSON.parse(data);
                    sessionCount = settings.sessionCount || 5;
                    globalVolume = settings.globalVolume !== undefined ? settings.globalVolume : 0.5;
                    alarmProfile = settings.alarmProfile || 'medium';
                }
            } catch (e) {
                console.error("Local storage error during global load:", e);
            }
        }

        function saveSessionData() {
            const sessionData = activeSessions.map(session => ({
                id: session.id,
                name: session.name,
                focusTime: session.focusTime,
                breakTime: session.breakTime,
                totalCycles: session.totalCycles,
                autoAdvance: session.autoAdvance
            }));
            try {
                localStorage.setItem('pomodoroSessionData', JSON.stringify(sessionData));
            } catch (e) {
                console.error("Local storage error during session save:", e);
            }
        }

        function loadSessionData() {
            try {
                const data = localStorage.getItem('pomodoroSessionData');
                return data ? JSON.parse(data) : [];
            } catch (e) {
                console.error("Local storage error during session load:", e);
                return [];
            }
        }
        
        // ===================================
        // â²ï¸ TIME UTILITY FUNCTIONS (ì´ì „ê³¼ ë™ì¼)
        // ===================================
        function formatTotalTime(totalMinutes) {
            if (totalMinutes <= 0) {
                return 'ì´ 0ì‹œê°„ 00ë¶„';
            }
            const hours = Math.floor(totalMinutes / 60);
            const minutes = totalMinutes % 60;
            
            if (hours > 0) {
                return `ì´ ${hours}ì‹œê°„ ${String(minutes).padStart(2, '0')}ë¶„`;
            } else {
                return `ì´ ${String(minutes).padStart(2, '0')}ë¶„`;
            }
        }


        // ===================================
        // ğŸ”Š ALARM SOUND FUNCTIONS (ìˆ˜ì •: playNotificationSound ì¶”ê°€)
        // ===================================

        const createBeep = (startTime, duration, freq, type, vol) => {
            const oscillator = audioCtx.createOscillator();
            const gainNode = audioCtx.createGain();

            oscillator.type = type;
            oscillator.frequency.value = freq;
            gainNode.gain.setValueAtTime(vol, startTime);
            gainNode.gain.exponentialRampToValueAtTime(0.001, startTime + duration);

            oscillator.connect(gainNode);
            gainNode.connect(audioCtx.destination);
            oscillator.start(startTime);
            oscillator.stop(startTime + duration);
        };
        
        // ë²„íŠ¼ ì¡°ì‘ ì‹œ ì•Œë¦¼ìŒ (globalVolume ë¬´ê´€í•˜ê²Œ ì‘ì€ ì†Œë¦¬)
        function playNotificationSound() {
            if (audioCtx.state === 'suspended') audioCtx.resume();
            const now = audioCtx.currentTime;
            // 'soft' ì•ŒëŒê³¼ ìœ ì‚¬, ê³ ì •ëœ ë³¼ë¥¨(0.15) ì ìš©
            createBeep(now, 0.1, 440, 'sine', 0.15); 
        }


        function playAlarm() {
            if (audioCtx.state === 'suspended') audioCtx.resume();
            const now = audioCtx.currentTime;
            
            // ì „ì—­ ë³¼ë¥¨ì´ ì ìš©ëœ í¬ê¸°ë¡œ ì¬ìƒ
            const vol = Math.max(0.01, 1.0 * globalVolume);

            switch(alarmProfile) {
                case 'soft':
                    createBeep(now, 0.2, 440, 'sine', 0.2 * vol); 
                    break;
                case 'medium':
                    createBeep(now, 0.1, 880, 'square', 0.5 * vol);
                    createBeep(now + 0.15, 0.1, 880, 'square', 0.5 * vol);
                    createBeep(now + 0.3, 0.3, 1100, 'square', 0.5 * vol);
                    break;
                case 'loud':
                    createBeep(now, 0.5, 1200, 'sawtooth', 1.0 * vol); 
                    break;
            }
        }

        // ===================================
        // â±ï¸ POMODORO SESSION CLASS (ìˆ˜ì •: ë²„íŠ¼ í´ë¦­ ì‹œ ì•Œë¦¼ìŒ ì¶”ê°€)
        // ===================================

        class PomodoroSession {
            constructor(id, defaultName, loadedData = {}) {
                this.id = id;
                this.name = loadedData.name || defaultName || `Session ${id}`;
                this.state = 'stopped'; 
                this.mode = 'focus'; 
                this.currentCycle = 1;
                this.totalCycles = loadedData.totalCycles || 4;
                this.focusTime = loadedData.focusTime || 25; 
                this.breakTime = loadedData.breakTime || 5;  
                this.autoAdvance = loadedData.autoAdvance || false;
                
                this.timeLeft = this.focusTime * 60;
                this.timerInterval = null;
                this.initialTime = this.focusTime * 60;

                this.render();
                this.attachEvents();
                this.updateDisplay();
                this.renderCycles(); 
                this.updateTotalTimeDisplay(); 
            }
            
            calculateTotalTime() {
                // (ì§‘ì¤‘ ì‹œê°„ * ì´ ì‚¬ì´í´ ìˆ˜) + (íœ´ì‹ ì‹œê°„ * (ì´ ì‚¬ì´í´ ìˆ˜ - 1))
                const totalMinutes = (this.focusTime * this.totalCycles) + (this.breakTime * (this.totalCycles > 0 ? this.totalCycles - 1 : 0));
                return totalMinutes;
            }

            updateTotalTimeDisplay() {
                const totalMinutes = this.calculateTotalTime();
                const formattedTime = formatTotalTime(totalMinutes);
                
                const element = document.getElementById(`total-time-${this.id}`);
                if (element) {
                    element.innerText = formattedTime;
                }
            }


            render() {
                const container = document.getElementById('dashboard');
                const html = `
                    <div class="session-card" id="card-${this.id}">
                        <div class="card-header">
                            <input type="text" class="session-name" value="${this.name}">
                        </div>
                        
                        <div class="status-badge" id="status-${this.id}">Ready</div>
                        <div class="cycle-visuals" id="cycle-visuals-${this.id}"></div>
                        
                        <div class="timer-wrapper">
                            <div class="timer-display" id="timer-${this.id}">${(this.focusTime).toString().padStart(2, '0')}:00</div>
                            <div class="total-time-display" id="total-time-${this.id}"></div>
                        </div>
                        
                        <div class="progress-container">
                            <div class="progress-bar-bg">
                                <div class="progress-bar-fill" id="progress-${this.id}"></div>
                            </div>
                        </div>

                        <div class="action-buttons">
                            <button class="btn-start full-width" id="btn-start-${this.id}">ì‹œì‘</button>
                            <button class="btn-pause full-width" id="btn-pause-${this.id}">ì¼ì‹œì •ì§€</button>
                            
                            <button class="btn-pass" id="btn-pass-${this.id}">PASS â­ï¸</button>
                            <button class="btn-reset" id="btn-reset-${this.id}">ë¦¬ì…‹ â†º</button>
                        </div>
                        
                        <div class="controls">
                            <div class="control-group">
                                <label>ì§‘ì¤‘ ì‹œê°„ (ë¶„)</label>
                                <span id="val-focus-${this.id}">${this.focusTime}</span>
                                <input type="range" id="input-focus-${this.id}" min="1" max="60" value="${this.focusTime}">
                            </div>
                            <div class="control-group">
                                <label>íœ´ì‹ ì‹œê°„ (ë¶„)</label>
                                <span id="val-break-${this.id}">${this.breakTime}</span>
                                <input type="range" id="input-break-${this.id}" min="1" max="10" value="${this.breakTime}">
                            </div>
                            <div class="control-group">
                                <label>ì´ ì‚¬ì´í´ ìˆ˜</label>
                                <span id="val-cycle-${this.id}">${this.totalCycles}</span>
                                <input type="range" id="input-cycle-${this.id}" min="1" max="20" value="${this.totalCycles}">
                            </div>
                            <div class="toggle-wrapper">
                                <span>ìë™ ì§„í–‰ (Auto Advance)</span>
                                <input type="checkbox" id="check-auto-${this.id}" ${this.autoAdvance ? 'checked' : ''}>
                            </div>
                        </div>

                    </div>
                `;
                container.insertAdjacentHTML('beforeend', html);
            }
            
            attachEvents() {
                const updateAndSave = (callback) => (e) => {
                    callback(e);
                    if (['input-focus', 'input-break', 'input-cycle'].some(idPart => e.target.id.includes(idPart))) {
                        this.updateTotalTimeDisplay();
                        playNotificationSound(); // ì„¤ì • ë³€ê²½ ì‹œì—ë„ ì•Œë¦¼ìŒ
                    }
                    if (this.state === 'stopped' || e.type === 'change' || e.type === 'input') { 
                        saveSessionData();
                    }
                };
                
                document.getElementById(`card-${this.id}`).querySelector('.session-name').addEventListener('input', updateAndSave((e) => {
                    this.name = e.target.value;
                }));
                
                document.getElementById(`input-focus-${this.id}`).addEventListener('input', updateAndSave((e) => {
                    this.focusTime = parseInt(e.target.value);
                    document.getElementById(`val-focus-${this.id}`).innerText = this.focusTime;
                    if (this.state === 'stopped' && this.mode === 'focus') this.resetTimer();
                }));
                document.getElementById(`input-break-${this.id}`).addEventListener('input', updateAndSave((e) => {
                    this.breakTime = parseInt(e.target.value);
                    document.getElementById(`val-break-${this.id}`).innerText = this.breakTime;
                    if (this.state === 'stopped' && this.mode === 'break') this.resetTimer();
                }));
                document.getElementById(`input-cycle-${this.id}`).addEventListener('input', updateAndSave((e) => {
                    this.totalCycles = parseInt(e.target.value);
                    document.getElementById(`val-cycle-${this.id}`).innerText = this.totalCycles;
                    this.renderCycles();
                }));
                document.getElementById(`check-auto-${this.id}`).addEventListener('change', updateAndSave((e) => {
                    this.autoAdvance = e.target.checked;
                }));

                // ë²„íŠ¼ ì´ë²¤íŠ¸ì— ì•Œë¦¼ìŒ ì¶”ê°€
                document.getElementById(`btn-start-${this.id}`).addEventListener('click', () => { 
                    playNotificationSound(); 
                    this.start();
                });
                document.getElementById(`btn-pause-${this.id}`).addEventListener('click', () => { 
                    playNotificationSound(); 
                    this.pause();
                });
                document.getElementById(`btn-reset-${this.id}`).addEventListener('click', () => { 
                    playNotificationSound(); 
                    this.resetTimer();
                });
                document.getElementById(`btn-pass-${this.id}`).addEventListener('click', () => { 
                    playNotificationSound(); 
                    this.skipPhase();
                });
            }

            
            renderCycles() {
                const container = document.getElementById(`cycle-visuals-${this.id}`);
                let html = '';
                const total = this.totalCycles;
                let firstRow, secondRow;

                if (total <= 9) {
                    firstRow = total;
                    secondRow = 0;
                } else {
                    firstRow = Math.min(10, Math.ceil(total / 2)); 
                    secondRow = total - firstRow;
                }

                for (let i = 1; i <= total; i++) {
                    const isCurrent = i === this.currentCycle;
                    const isCompleted = i < this.currentCycle;
                    
                    if (i === firstRow + 1 && secondRow > 0) {
                         html += '<div style="width: 100%; height: 0; margin-bottom: -5px;"></div>';
                    }

                    if (isCompleted) {
                        html += '<span class="cycle-dot completed">â—</span>'; 
                    } else if (isCurrent) {
                        html += `<span class="cycle-dot current">â—‰</span>`;
                    } else {
                        html += '<span class="cycle-dot future">â—‹</span>'; 
                    }
                }
                container.innerHTML = html;
            }

            updateDisplay() {
                const minutes = Math.floor(this.timeLeft / 60);
                const seconds = this.timeLeft % 60;
                const display = document.getElementById(`timer-${this.id}`);
                
                display.innerText = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                
                const progress = document.getElementById(`progress-${this.id}`);
                const percent = (this.timeLeft / this.initialTime) * 100;
                progress.style.width = `${percent}%`;

                const card = document.getElementById(`card-${this.id}`);
                if (this.mode === 'focus') {
                    display.classList.remove('break-mode');
                    progress.style.backgroundColor = 'var(--focus-color)';
                    card.style.borderTopColor = 'var(--focus-color)';
                    document.querySelectorAll(`#cycle-visuals-${this.id} .current`).forEach(el => el.style.color = 'var(--focus-color)');
                } else {
                    display.classList.add('break-mode');
                    progress.style.backgroundColor = 'var(--break-color)';
                    card.style.borderTopColor = 'var(--break-color)';
                    document.querySelectorAll(`#cycle-visuals-${this.id} .current`).forEach(el => el.style.color = 'var(--break-color)');
                }
            }

            updateStatus(msg) {
                document.getElementById(`status-${this.id}`).innerText = msg;
            }

            start() {
                if (this.state === 'running') return;
                if (audioCtx.state === 'suspended') audioCtx.resume();
                this.state = 'running';
                document.getElementById(`btn-start-${this.id}`).style.display = 'none';
                document.getElementById(`btn-pause-${this.id}`).style.display = 'block';
                this.toggleInputs(true);
                this.updateStatus(this.mode === 'focus' ? 'ğŸ”¥ ì§‘ì¤‘ ì¤‘...' : 'â˜• íœ´ì‹ ì¤‘...');
                this.renderCycles();
                this.timerInterval = setInterval(() => {
                    if (this.timeLeft > 0) {
                        this.timeLeft--;
                        this.updateDisplay();
                    } else {
                        this.completePhase();
                    }
                }, 1000);
            }

            pause() {
                if (this.state !== 'running') return;
                clearInterval(this.timerInterval);
                this.state = 'paused';
                document.getElementById(`btn-start-${this.id}`).innerText = 'ì¬ê°œ';
                document.getElementById(`btn-start-${this.id}`).style.display = 'block';
                document.getElementById(`btn-pause-${this.id}`).style.display = 'none';
                this.updateStatus('â¸ï¸ ì¼ì‹œì •ì§€');
            }

            skipPhase() {
                clearInterval(this.timerInterval);
                this.completePhase(true);
            }

            resetTimer() {
                clearInterval(this.timerInterval);
                this.state = 'stopped';
                this.mode = 'focus';
                this.currentCycle = 1;
                this.timeLeft = this.focusTime * 60;
                this.initialTime = this.timeLeft;
                document.getElementById(`btn-start-${this.id}`).innerText = 'ì‹œì‘';
                document.getElementById(`btn-start-${this.id}`).style.display = 'block';
                document.getElementById(`btn-pause-${this.id}`).style.display = 'none';
                this.toggleInputs(false);
                this.updateStatus('Ready');
                this.renderCycles();
                this.updateDisplay();
                saveSessionData();
            }

            completePhase(mute = false) {
                clearInterval(this.timerInterval);
                if (!mute) playAlarm(); 

                if (this.mode === 'focus') {
                    this.mode = 'break';
                    this.timeLeft = this.breakTime * 60;
                    this.initialTime = this.timeLeft;
                    this.updateStatus('â˜• íœ´ì‹ ì¤€ë¹„');
                } else {
                    if (this.currentCycle < this.totalCycles) {
                        this.mode = 'focus';
                        this.currentCycle++;
                        this.timeLeft = this.focusTime * 60;
                        this.initialTime = this.timeLeft;
                        this.updateStatus('ğŸ”¥ ì§‘ì¤‘ ì¤€ë¹„');
                    } else {
                        this.resetTimer();
                        this.updateStatus('ğŸ‰ ì „ì²´ ì™„ë£Œ!');
                        if(!mute) playAlarm(); 
                        return;
                    }
                }
                this.renderCycles();
                this.updateDisplay();
                if (this.autoAdvance) {
                    this.state = 'stopped';
                    this.start();
                } else {
                    this.state = 'stopped';
                    document.getElementById(`btn-start-${this.id}`).innerText = 'ë‹¤ìŒ ë‹¨ê³„ ì‹œì‘';
                    document.getElementById(`btn-start-${this.id}`).style.display = 'block';
                    document.getElementById(`btn-pause-${this.id}`).style.display = 'none';
                    this.toggleInputs(false);
                }
            }

            toggleInputs(disabled) {
                document.getElementById(`input-focus-${this.id}`).disabled = disabled;
                document.getElementById(`input-break-${this.id}`).disabled = disabled;
                document.getElementById(`input-cycle-${this.id}`).disabled = disabled;
                document.getElementById(`check-auto-${this.id}`).disabled = disabled;
            }
        }


        // ===================================
        // âš™ï¸ GLOBAL CONTROLLER LOGIC (ì´ì „ê³¼ ë™ì¼)
        // ===================================
        
        const getSettingsCardHTML = () => {
            const currentVolume = Math.round(globalVolume * 100);
            const softSelected = alarmProfile === 'soft' ? 'class="selected"' : '';
            const mediumSelected = alarmProfile === 'medium' ? 'class="selected"' : '';
            const loudSelected = alarmProfile === 'loud' ? 'class="selected"' : '';
            
            return `
                <div class="session-card" id="settings-card">
                    <div class="card-header">
                        <input type="text" class="session-name" value="ì „ì—­ ì„¤ì • (Global Settings)" disabled/>
                    </div>
                    
                    <div class="status-badge" style="color: var(--setting-color);">ëŒ€ì‹œë³´ë“œ ê´€ë¦¬</div>
                    <div class="cycle-visuals" style="margin-bottom: 20px;"></div>

                    <div class="timer-wrapper">
                        <div class="timer-display" style="font-size: 2.5rem; color: var(--setting-color); margin-top: 5px;">âš™ï¸</div>
                        <div class="total-time-display" style="font-size: 0.9rem; margin-top: 0;">(íƒ€ì´ë¨¸ ê°œìˆ˜ ì¡°ì ˆ)</div>
                    </div>
                    
                    <div class="progress-container">
                        <div class="progress-bar-bg">
                            <div class="progress-bar-fill" style="width: 100%; background: #ddd;"></div>
                        </div>
                    </div>
                    
                    <div class="action-buttons full-width" style="margin-top: 5px; margin-bottom: 10px;">
                        <button id="alarm-test" style="background-color: var(--setting-color); color: white;" class="full-width">í…ŒìŠ¤íŠ¸ ì•ŒëŒ ì¬ìƒ</button>
                    </div>

                    <div class="controls" style="gap: 15px; margin-top: auto; margin-bottom: 0;">
                        <div class="control-group">
                            <label>ìš´ì˜í•  íƒ€ì´ë¨¸ ê°œìˆ˜ (1~10)</label>
                            <span id="session-count-value">${sessionCount}</span>
                            <input type="range" id="session-count-slider" min="1" max="10" value="${sessionCount}">
                        </div>

                        <div class="control-group">
                            <label>ì•ŒëŒ ë³¼ë¥¨</label>
                            <span id="alarm-volume-value">${currentVolume}%</span>
                            <input type="range" id="alarm-volume-slider" min="0" max="100" value="${currentVolume}">
                        </div>
                        
                        <div style="grid-column: 1 / 3;">
                            <label style="font-size: 0.9rem; color: var(--gray-text);">ì•ŒëŒ ì¢…ë¥˜ ì„ íƒ</label>
                            <div class="alarm-selector">
                                <button id="alarm-soft" data-profile="soft" ${softSelected}>ì‘ì€ ì†Œë¦¬ ğŸ”ˆ</button>
                                <button id="alarm-medium" data-profile="medium" ${mediumSelected}>ì¤‘ê°„ ì†Œë¦¬ ğŸ””</button>
                                <button id="alarm-loud" data-profile="loud" ${loudSelected}>í° ì†Œë¦¬ ğŸ”Š</button>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        };

        function attachGlobalListeners() {
            const countSlider = document.getElementById('session-count-slider');
            const countValue = document.getElementById('session-count-value');

            if (!countSlider) return; 

            countSlider.oninput = (e) => {
                countValue.innerText = e.target.value; 
            };
            
            countSlider.onchange = (e) => {
                sessionCount = parseInt(e.target.value);
                playNotificationSound(); // ì„¤ì • ë³€ê²½ ì‹œ ì•Œë¦¼ìŒ
                saveGlobalSettings(); 
                createSessions(); 
            }

            const volumeSlider = document.getElementById('alarm-volume-slider');
            const volumeValue = document.getElementById('alarm-volume-value');
            
            volumeSlider.oninput = (e) => {
                globalVolume = parseInt(e.target.value) / 100;
                volumeValue.innerText = `${e.target.value}%`;
                saveGlobalSettings(); 
            };
            
            document.querySelectorAll('#settings-card .alarm-selector button[data-profile]').forEach(button => {
                button.onclick = (e) => {
                    alarmProfile = e.target.dataset.profile;
                    playNotificationSound(); // ì•ŒëŒ ì¢…ë¥˜ ë³€ê²½ ì‹œ ì•Œë¦¼ìŒ
                    document.querySelectorAll('#settings-card .alarm-selector button').forEach(btn => btn.classList.remove('selected'));
                    e.target.classList.add('selected');
                    saveGlobalSettings(); 
                };
            });

            document.getElementById('alarm-test').onclick = () => {
                playAlarm();
                playNotificationSound(); // í…ŒìŠ¤íŠ¸ ë²„íŠ¼ í´ë¦­ ì‹œ ì•Œë¦¼ìŒ
            }
        }

        function createSessions() {
            activeSessions.forEach(session => {
                clearInterval(session.timerInterval);
            });
            activeSessions = [];
            const dashboard = document.getElementById('dashboard');
            dashboard.innerHTML = ''; 

            const loadedSessions = loadSessionData();
            
            for(let i=1; i<=sessionCount; i++) {
                const loadedData = loadedSessions.find(s => s.id === i) || {};
                const name = defaultNames[i-1] || `ì„¸ì…˜ ${i}`;
                
                const newSession = new PomodoroSession(i, name, loadedData);
                activeSessions.push(newSession);
            }
            
            dashboard.insertAdjacentHTML('beforeend', getSettingsCardHTML());
            
            attachGlobalListeners(); 
        }

        document.addEventListener('DOMContentLoaded', () => {
            loadGlobalSettings(); 
            
            if (audioCtx.state === 'suspended') {
                const resumeAudio = () => {
                    audioCtx.resume();
                    document.body.removeEventListener('touchstart', resumeAudio);
                    document.body.removeEventListener('mousedown', resumeAudio);
                };
                document.body.addEventListener('touchstart', resumeAudio, { once: true });
                document.body.addEventListener('mousedown', resumeAudio, { once: true });
            }
            createSessions(); 
        });

    </script>
</body>
</html>
ì•„ì£¼ ì¢‹ì•„. ë‹¤ì‹œ, ì„¸ì…˜ë³„ë¡œ ì œëª© ë°‘ì— ë©”ëª¨ í•œ ì¤„ ë„£ì„ ìˆ˜ ìˆëŠ” ê³µê°„ (ì•„ê¹Œ ëºë˜ ê·¸ í•œ ì¤„)ì„ ë‹¤ì‹œ ë„£ì–´ì¤˜. ê·¸ë¦¬ê³  ì´ ì‹œê°„ì€ íƒ€ì´ë¨¸ ìœ„ì— ìœ„ì¹˜í•´ì„œ ë³´ì´ë„ë¡ í•´ ì¤˜. ë‹¤ì‹œ ì½”ë“œ ë¶€íƒí•´.

ì‚¬ìš©ìë‹˜ì˜ ìš”ì²­ì— ë§ì¶° ë©”ëª¨ ì˜ì—­ì„ ë‹¤ì‹œ ì¶”ê°€í•˜ê³  ì´ ì†Œìš” ì‹œê°„ì˜ ìœ„ì¹˜ë¥¼ íƒ€ì´ë¨¸ ìœ„ë¡œ ë³€ê²½í–ˆìŠµë‹ˆë‹¤. ë˜í•œ, ê¸°ì¡´ì— ì ìš©í–ˆë˜ ë²„íŠ¼ ì¡°ì‘ ì‹œ ì•Œë¦¼ìŒ ê¸°ëŠ¥ì€ ê·¸ëŒ€ë¡œ ìœ ì§€í–ˆìŠµë‹ˆë‹¤.

âœ¨ ìµœì¢… ë³€ê²½ ì‚¬í•­ ìš”ì•½
ë©”ëª¨ í•„ë“œ ë³µêµ¬: ì„¸ì…˜ ì´ë¦„ ë°”ë¡œ ì•„ë˜ì— í•œ ì¤„ ë©”ëª¨(session-note) ì…ë ¥ í•„ë“œë¥¼ ë‹¤ì‹œ ì¶”ê°€í–ˆìŠµë‹ˆë‹¤.

ì´ ì†Œìš” ì‹œê°„ ìœ„ì¹˜ ë³€ê²½: ì´ Xì‹œê°„ Yë¶„ í‘œì‹œë¥¼ ë©”ì¸ íƒ€ì´ë¨¸ ìˆ«ì ìœ„ë¡œ ë°°ì¹˜í•˜ì—¬ ë” ëˆˆì— ì˜ ë„ë„ë¡ í–ˆìŠµë‹ˆë‹¤.

ìˆ˜ì§ ê³µê°„ ìµœì í™”: ë©”ëª¨ í•„ë“œê°€ ì¶”ê°€ë˜ì—ˆìŒì—ë„ ë¶ˆêµ¬í•˜ê³ , ìˆ˜ì§ ê°„ê²©(margin, padding)ì„ ìµœì†Œí™”í•˜ì—¬ ì•„ì´í° 6ì™€ ê°™ì€ ì‘ì€ í™”ë©´ì—ì„œì˜ ìŠ¤í¬ë¡¤ ì••ë°•ì„ ìµœì†Œí™”í–ˆìŠµë‹ˆë‹¤.

ğŸ’» ìµœì¢… í†µí•© ì½”ë“œ (pomodoro-dashboard.html - ë©”ëª¨ ë³µêµ¬ & ì´ ì‹œê°„ ìƒë‹¨ ë°°ì¹˜)
HTML
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Pomodoro</title>
    <style>
        :root {
            --bg-color: #f0f2f5;
            --card-bg: #ffffff;
            --focus-color: #ff6b6b;
            --break-color: #4ecdc4;
            --skip-color: #a29bfe;
            --setting-color: #00b894;
            --text-color: #333;
            --gray-text: #666;
            --shadow: 0 4px 10px rgba(0,0,0,0.1);
            --black-bar: #333;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
            background-color: var(--bg-color);
            color: var(--text-color);
            margin: 0;
            padding: 10px 10px; 
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
        }

        h1 { 
            margin-bottom: 10px; 
            font-weight: 800; 
            color: var(--focus-color); 
            font-size: 2.5rem;
        }

        /* --- Dashboard Layout --- */
        .dashboard {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            width: 100%;
            max-width: 1600px;
        }

        /* Session Card íŒ¨ë”© ë° ìµœì†Œ ë†’ì´ ì¡°ì • */
        .session-card {
            background: var(--card-bg);
            border-radius: 15px;
            padding: 15px; 
            box-shadow: var(--shadow);
            display: flex;
            flex-direction: column;
            border-top: 6px solid var(--focus-color);
            position: relative;
            min-height: 450px; /* ë©”ëª¨ ì¶”ê°€ë¡œ ìµœì†Œ ë†’ì´ ì•½ê°„ ì¦ê°€ */
        }

        .session-name { 
            font-size: 1.1rem; 
            font-weight: bold; 
            border: none; 
            border-bottom: 1px solid #ddd; 
            width: 100%; 
            padding: 5px 0; /* ë©”ëª¨ í•„ë“œì™€ ê°„ê²© ì¡°ì ˆ */
            outline: none; 
            color: #2d3436; 
        }
        
        /* ë©”ëª¨ í•„ë“œ ìŠ¤íƒ€ì¼ */
        .session-note { 
            font-size: 0.9rem; 
            color: var(--gray-text); 
            border: none; 
            border-bottom: 1px solid #eee;
            width: 100%; 
            padding: 5px 0; 
            margin-bottom: 5px; /* ìƒíƒœ ë°°ì§€ì™€ì˜ ê°„ê²© ì¡°ì ˆ */
            outline: none;
        }

        /* Status Badge ë§ˆì§„ ê°ì†Œ */
        .status-badge { 
            text-align: center; 
            font-size: 0.85rem; 
            margin-bottom: 3px; 
            font-weight: bold; 
            text-transform: uppercase; 
            letter-spacing: 1px; 
            min-height: 1.2em; 
        }
        
        /* Cycle Visuals ë§ˆì§„ ì¡°ì • */
        .cycle-visuals { 
            display: flex; 
            flex-wrap: wrap;
            justify-content: center; 
            gap: 5px; 
            margin: 5px 0 10px 0; 
            font-size: 1.2rem; 
            height: 35px;
            align-content: flex-start;
        }
        
        .cycle-dot {
            text-shadow: 0 0 1px var(--black-bar), 0 0 1px var(--black-bar);
        }
        .cycle-dot.completed { color: var(--gray-text); }
        .cycle-dot.current { color: var(--focus-color); animation: pulse 2s infinite; }
        .cycle-dot.future { color: #dfe6e9; }
        
        @keyframes pulse {
            0% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.7; transform: scale(1.2); }
            100% { opacity: 1; transform: scale(1); }
        }
        
        /* ìƒˆë¡œìš´ íƒ€ì´ë¨¸ wrapper */
        .timer-wrapper {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-bottom: 5px;
        }
        
        /* ì´ ì†Œìš” ì‹œê°„ ë””ìŠ¤í”Œë ˆì´ (íƒ€ì´ë¨¸ ìœ„ë¡œ ì´ë™) */
        .total-time-display {
            font-size: 0.8rem; 
            color: var(--gray-text); 
            font-weight: 500;
            text-align: center;
            margin-bottom: -5px; /* íƒ€ì´ë¨¸ì™€ ê°€ê¹ê²Œ */
            line-height: 1;
            padding-top: 5px;
        }

        /* Timer Display í°íŠ¸ ë° ë§ˆì§„ ê°ì†Œ */
        .timer-display { 
            font-size: 2.8rem; 
            font-weight: 800; 
            text-align: center; 
            margin: 0; 
            font-variant-numeric: tabular-nums; 
            color: var(--focus-color); 
            transition: color 0.3s; 
            line-height: 1.2;
        }
        .timer-display.break-mode { color: var(--break-color); }
        
        /* Progress Bar ë§ˆì§„ ê°ì†Œ */
        .progress-container { 
            margin-bottom: 10px; 
            height: 6px; 
            width: 100%;
            overflow: hidden;
        }
        .progress-bar-bg { 
            position: relative;
            width: 100%; 
            height: 6px; 
            background: var(--black-bar);
            border-radius: 3px;
        }
        .progress-bar-fill { 
            height: 100%; 
            background: var(--focus-color); 
            width: 100%; 
            transition: width 1s linear, background-color 0.3s; 
            border-radius: 3px;
            transform-origin: right; 
        }

        /* Buttons íŒ¨ë”© ë° ê°„ê²© ê°ì†Œ */
        .action-buttons { 
            display: grid; 
            grid-template-columns: 1fr 1fr; 
            gap: 6px; 
            margin-top: 5px; 
            margin-bottom: 10px; 
        }
        .full-width { grid-column: span 2; }
        button { 
            padding: 8px; 
            border: none; 
            border-radius: 8px; 
            font-weight: bold; 
            cursor: pointer; 
            transition: opacity 0.2s; 
            font-size: 0.9rem; 
        }
        button:hover { opacity: 0.9; }
        .btn-start { background-color: var(--focus-color); color: white; }
        .btn-pause { background-color: #f1c40f; color: white; display: none; }
        .btn-pass { background-color: var(--skip-color); color: white; }
        .btn-reset { background-color: #95a5a6; color: white; }


        /* Controls íŒ¨ë”© ë° ë§ˆì§„ ê°ì†Œ */
        .controls { 
            display: flex; 
            flex-direction: column; 
            gap: 10px; 
            margin-bottom: 0px; 
            background: #f8f9fa; 
            padding: 10px; 
            border-radius: 8px; 
            margin-top: auto; 
        }
        .control-group { 
            display: grid; 
            grid-template-columns: 1fr auto; 
            align-items: center; 
            gap: 8px; 
        }
        .control-group label { 
            grid-column: 1 / 2;
            font-size: 0.9rem; 
            color: var(--gray-text); 
            justify-self: start;
        }
        .control-group span { 
            grid-column: 2 / 3;
            font-weight: bold;
            font-variant-numeric: tabular-nums;
            width: 30px;
            text-align: right;
        }
        input[type=range] { 
            grid-column: 1 / 3;
            width: 100%; 
            cursor: pointer; 
            accent-color: var(--focus-color); 
            margin-top: 3px; 
        }
        
        .toggle-wrapper { 
            display: flex; 
            align-items: center; 
            justify-content: space-between; 
            font-size: 0.9rem; 
            color: var(--gray-text); 
            margin-top: 5px; 
            padding-top: 5px;
            border-top: 1px solid #eee;
        }

        
        .alarm-selector { display: flex; gap: 5px; margin-top: 10px; }
        .alarm-selector button { flex: 1; font-size: 0.8rem; padding: 6px; border: 1px solid #ddd; background: #fff; }
        .alarm-selector button.selected { background: var(--setting-color); color: white; border-color: var(--setting-color); }
    </style>
</head>
<body>

    <h1>Pomodoro</h1>

    <div class="dashboard" id="dashboard">
    </div>

    <script>
        // --- Global State & Configuration ---
        const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
        let activeSessions = [];
        let globalVolume = 0.5;
        let alarmProfile = 'medium';
        let sessionCount = 5;
        const defaultNames = ['ê¸°íš', 'ê°œë°œ', 'ë””ìì¸', 'ë¬¸ì„œí™”', 'íšŒì˜', 'í•™ìŠµ', 'ìš´ë™', 'ì •ë¦¬', 'ë…ì„œ', 'ê¸°íƒ€'];

        // ===================================
        // ğŸ’¾ LOCAL STORAGE FUNCTIONS
        // ===================================

        function saveGlobalSettings() {
            const settings = {
                sessionCount: sessionCount,
                globalVolume: globalVolume,
                alarmProfile: alarmProfile
            };
            try {
                localStorage.setItem('pomodoroGlobalSettings', JSON.stringify(settings));
            } catch (e) {
                console.error("Local storage error during global save:", e);
            }
        }

        function loadGlobalSettings() {
            try {
                const data = localStorage.getItem('pomodoroGlobalSettings');
                if (data) {
                    const settings = JSON.parse(data);
                    sessionCount = settings.sessionCount || 5;
                    globalVolume = settings.globalVolume !== undefined ? settings.globalVolume : 0.5;
                    alarmProfile = settings.alarmProfile || 'medium';
                }
            } catch (e) {
                console.error("Local storage error during global load:", e);
            }
        }

        function saveSessionData() {
            const sessionData = activeSessions.map(session => ({
                id: session.id,
                name: session.name,
                note: session.note, /* ë©”ëª¨ í•„ë“œ ë°ì´í„° ì €ì¥ */
                focusTime: session.focusTime,
                breakTime: session.breakTime,
                totalCycles: session.totalCycles,
                autoAdvance: session.autoAdvance
            }));
            try {
                localStorage.setItem('pomodoroSessionData', JSON.stringify(sessionData));
            } catch (e) {
                console.error("Local storage error during session save:", e);
            }
        }

        function loadSessionData() {
            try {
                const data = localStorage.getItem('pomodoroSessionData');
                return data ? JSON.parse(data) : [];
            } catch (e) {
                console.error("Local storage error during session load:", e);
                return [];
            }
        }
        
        // ===================================
        // â²ï¸ TIME UTILITY FUNCTIONS
        // ===================================
        function formatTotalTime(totalMinutes) {
            if (totalMinutes <= 0) {
                return 'ì´ 0ì‹œê°„ 00ë¶„';
            }
            const hours = Math.floor(totalMinutes / 60);
            const minutes = totalMinutes % 60;
            
            if (hours > 0) {
                return `ì´ ${hours}ì‹œê°„ ${String(minutes).padStart(2, '0')}ë¶„`;
            } else {
                return `ì´ ${String(minutes).padStart(2, '0')}ë¶„`;
            }
        }


        // ===================================
        // ğŸ”Š ALARM SOUND FUNCTIONS
        // ===================================

        const createBeep = (startTime, duration, freq, type, vol) => {
            const oscillator = audioCtx.createOscillator();
            const gainNode = audioCtx.createGain();

            oscillator.type = type;
            oscillator.frequency.value = freq;
            gainNode.gain.setValueAtTime(vol, startTime);
            gainNode.gain.exponentialRampToValueAtTime(0.001, startTime + duration);

            oscillator.connect(gainNode);
            gainNode.connect(audioCtx.destination);
            oscillator.start(startTime);
            oscillator.stop(startTime + duration);
        };
        
        // ë²„íŠ¼ ì¡°ì‘ ì‹œ ì•Œë¦¼ìŒ (ê³ ì •ëœ ì‘ì€ ì†Œë¦¬)
        function playNotificationSound() {
            if (audioCtx.state === 'suspended') audioCtx.resume();
            const now = audioCtx.currentTime;
            // 'soft' ì•ŒëŒê³¼ ìœ ì‚¬, ê³ ì •ëœ ë³¼ë¥¨(0.15) ì ìš©
            createBeep(now, 0.1, 440, 'sine', 0.15); 
        }


        function playAlarm() {
            if (audioCtx.state === 'suspended') audioCtx.resume();
            const now = audioCtx.currentTime;
            
            // ì „ì—­ ë³¼ë¥¨ì´ ì ìš©ëœ í¬ê¸°ë¡œ ì¬ìƒ
            const vol = Math.max(0.01, 1.0 * globalVolume);

            switch(alarmProfile) {
                case 'soft':
                    createBeep(now, 0.2, 440, 'sine', 0.2 * vol); 
                    break;
                case 'medium':
                    createBeep(now, 0.1, 880, 'square', 0.5 * vol);
                    createBeep(now + 0.15, 0.1, 880, 'square', 0.5 * vol);
                    createBeep(now + 0.3, 0.3, 1100, 'square', 0.5 * vol);
                    break;
                case 'loud':
                    createBeep(now, 0.5, 1200, 'sawtooth', 1.0 * vol); 
                    break;
            }
        }

        // ===================================
        // â±ï¸ POMODORO SESSION CLASS
        // ===================================

        class PomodoroSession {
            constructor(id, defaultName, loadedData = {}) {
                this.id = id;
                this.name = loadedData.name || defaultName || `Session ${id}`;
                this.note = loadedData.note || ''; /* ë©”ëª¨ í•„ë“œ ì´ˆê¸°í™” */
                this.state = 'stopped'; 
                this.mode = 'focus'; 
                this.currentCycle = 1;
                this.totalCycles = loadedData.totalCycles || 4;
                this.focusTime = loadedData.focusTime || 25; 
                this.breakTime = loadedData.breakTime || 5;  
                this.autoAdvance = loadedData.autoAdvance || false;
                
                this.timeLeft = this.focusTime * 60;
                this.timerInterval = null;
                this.initialTime = this.focusTime * 60;

                this.render();
                this.attachEvents();
                this.updateDisplay();
                this.renderCycles(); 
                this.updateTotalTimeDisplay(); 
            }
            
            calculateTotalTime() {
                // (ì§‘ì¤‘ ì‹œê°„ * ì´ ì‚¬ì´í´ ìˆ˜) + (íœ´ì‹ ì‹œê°„ * (ì´ ì‚¬ì´í´ ìˆ˜ - 1))
                const totalMinutes = (this.focusTime * this.totalCycles) + (this.breakTime * (this.totalCycles > 0 ? this.totalCycles - 1 : 0));
                return totalMinutes;
            }

            updateTotalTimeDisplay() {
                const totalMinutes = this.calculateTotalTime();
                const formattedTime = formatTotalTime(totalMinutes);
                
                const element = document.getElementById(`total-time-${this.id}`);
                if (element) {
                    element.innerText = formattedTime;
                }
            }


            // RENDER ë©”ì„œë“œ: session-note ë³µêµ¬, timer-wrapper ìˆœì„œ ë³€ê²½
            render() {
                const container = document.getElementById('dashboard');
                const html = `
                    <div class="session-card" id="card-${this.id}">
                        <div class="card-header">
                            <input type="text" class="session-name" value="${this.name}">
                            <input type="text" class="session-note" placeholder="ê°„ë‹¨í•œ ë©”ëª¨ (ì˜ˆ: ì§‘ì¤‘ ëª©í‘œ)" value="${this.note}">
                        </div>
                        
                        <div class="status-badge" id="status-${this.id}">Ready</div>
                        <div class="cycle-visuals" id="cycle-visuals-${this.id}"></div>
                        
                        <div class="timer-wrapper">
                            <div class="total-time-display" id="total-time-${this.id}"></div> <div class="timer-display" id="timer-${this.id}">${(this.focusTime).toString().padStart(2, '0')}:00</div>
                        </div>
                        
                        <div class="progress-container">
                            <div class="progress-bar-bg">
                                <div class="progress-bar-fill" id="progress-${this.id}"></div>
                            </div>
                        </div>

                        <div class="action-buttons">
                            <button class="btn-start full-width" id="btn-start-${this.id}">ì‹œì‘</button>
                            <button class="btn-pause full-width" id="btn-pause-${this.id}">ì¼ì‹œì •ì§€</button>
                            
                            <button class="btn-pass" id="btn-pass-${this.id}">PASS â­ï¸</button>
                            <button class="btn-reset" id="btn-reset-${this.id}">ë¦¬ì…‹ â†º</button>
                        </div>
                        
                        <div class="controls">
                            <div class="control-group">
                                <label>ì§‘ì¤‘ ì‹œê°„ (ë¶„)</label>
                                <span id="val-focus-${this.id}">${this.focusTime}</span>
                                <input type="range" id="input-focus-${this.id}" min="1" max="60" value="${this.focusTime}">
                            </div>
                            <div class="control-group">
                                <label>íœ´ì‹ ì‹œê°„ (ë¶„)</label>
                                <span id="val-break-${this.id}">${this.breakTime}</span>
                                <input type="range" id="input-break-${this.id}" min="1" max="10" value="${this.breakTime}">
                            </div>
                            <div class="control-group">
                                <label>ì´ ì‚¬ì´í´ ìˆ˜</label>
                                <span id="val-cycle-${this.id}">${this.totalCycles}</span>
                                <input type="range" id="input-cycle-${this.id}" min="1" max="20" value="${this.totalCycles}">
                            </div>
                            <div class="toggle-wrapper">
                                <span>ìë™ ì§„í–‰ (Auto Advance)</span>
                                <input type="checkbox" id="check-auto-${this.id}" ${this.autoAdvance ? 'checked' : ''}>
                            </div>
                        </div>

                    </div>
                `;
                container.insertAdjacentHTML('beforeend', html);
            }
            
            attachEvents() {
                const updateAndSave = (callback) => (e) => {
                    callback(e);
                    if (['input-focus', 'input-break', 'input-cycle'].some(idPart => e.target.id.includes(idPart))) {
                        this.updateTotalTimeDisplay();
                        playNotificationSound(); 
                    }
                    if (this.state === 'stopped' || e.type === 'change' || e.type === 'input') { 
                        saveSessionData();
                    }
                };
                
                /* ë©”ëª¨ í•„ë“œ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ ë³µêµ¬ */
                document.getElementById(`card-${this.id}`).querySelector('.session-note').addEventListener('input', updateAndSave((e) => {
                    this.note = e.target.value;
                }));
                
                document.getElementById(`card-${this.id}`).querySelector('.session-name').addEventListener('input', updateAndSave((e) => {
                    this.name = e.target.value;
                }));
                
                document.getElementById(`input-focus-${this.id}`).addEventListener('input', updateAndSave((e) => {
                    this.focusTime = parseInt(e.target.value);
                    document.getElementById(`val-focus-${this.id}`).innerText = this.focusTime;
                    if (this.state === 'stopped' && this.mode === 'focus') this.resetTimer();
                }));
                document.getElementById(`input-break-${this.id}`).addEventListener('input', updateAndSave((e) => {
                    this.breakTime = parseInt(e.target.value);
                    document.getElementById(`val-break-${this.id}`).innerText = this.breakTime;
                    if (this.state === 'stopped' && this.mode === 'break') this.resetTimer();
                }));
                document.getElementById(`input-cycle-${this.id}`).addEventListener('input', updateAndSave((e) => {
                    this.totalCycles = parseInt(e.target.value);
                    document.getElementById(`val-cycle-${this.id}`).innerText = this.totalCycles;
                    this.renderCycles();
                }));
                document.getElementById(`check-auto-${this.id}`).addEventListener('change', updateAndSave((e) => {
                    this.autoAdvance = e.target.checked;
                }));

                // ë²„íŠ¼ ì´ë²¤íŠ¸ì— ì•Œë¦¼ìŒ ì¶”ê°€ (ìœ ì§€)
                document.getElementById(`btn-start-${this.id}`).addEventListener('click', () => { 
                    playNotificationSound(); 
                    this.start();
                });
                document.getElementById(`btn-pause-${this.id}`).addEventListener('click', () => { 
                    playNotificationSound(); 
                    this.pause();
                });
                document.getElementById(`btn-reset-${this.id}`).addEventListener('click', () => { 
                    playNotificationSound(); 
                    this.resetTimer();
                });
                document.getElementById(`btn-pass-${this.id}`).addEventListener('click', () => { 
                    playNotificationSound(); 
                    this.skipPhase();
                });
            }

            
            renderCycles() {
                const container = document.getElementById(`cycle-visuals-${this.id}`);
                let html = '';
                const total = this.totalCycles;
                let firstRow, secondRow;

                if (total <= 9) {
                    firstRow = total;
                    secondRow = 0;
                } else {
                    firstRow = Math.min(10, Math.ceil(total / 2)); 
                    secondRow = total - firstRow;
                }

                for (let i = 1; i <= total; i++) {
                    const isCurrent = i === this.currentCycle;
                    const isCompleted = i < this.currentCycle;
                    
                    if (i === firstRow + 1 && secondRow > 0) {
                         html += '<div style="width: 100%; height: 0; margin-bottom: -5px;"></div>';
                    }

                    if (isCompleted) {
                        html += '<span class="cycle-dot completed">â—</span>'; 
                    } else if (isCurrent) {
                        html += `<span class="cycle-dot current">â—‰</span>`;
                    } else {
                        html += '<span class="cycle-dot future">â—‹</span>'; 
                    }
                }
                container.innerHTML = html;
            }

            updateDisplay() {
                const minutes = Math.floor(this.timeLeft / 60);
                const seconds = this.timeLeft % 60;
                const display = document.getElementById(`timer-${this.id}`);
                
                display.innerText = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                
                const progress = document.getElementById(`progress-${this.id}`);
                const percent = (this.timeLeft / this.initialTime) * 100;
                progress.style.width = `${percent}%`;

                const card = document.getElementById(`card-${this.id}`);
                if (this.mode === 'focus') {
                    display.classList.remove('break-mode');
                    progress.style.backgroundColor = 'var(--focus-color)';
                    card.style.borderTopColor = 'var(--focus-color)';
                    document.querySelectorAll(`#cycle-visuals-${this.id} .current`).forEach(el => el.style.color = 'var(--focus-color)');
                } else {
                    display.classList.add('break-mode');
                    progress.style.backgroundColor = 'var(--break-color)';
                    card.style.borderTopColor = 'var(--break-color)';
                    document.querySelectorAll(`#cycle-visuals-${this.id} .current`).forEach(el => el.style.color = 'var(--break-color)');
                }
            }

            updateStatus(msg) {
                document.getElementById(`status-${this.id}`).innerText = msg;
            }

            start() {
                if (this.state === 'running') return;
                if (audioCtx.state === 'suspended') audioCtx.resume();
                this.state = 'running';
                document.getElementById(`btn-start-${this.id}`).style.display = 'none';
                document.getElementById(`btn-pause-${this.id}`).style.display = 'block';
                this.toggleInputs(true);
                this.updateStatus(this.mode === 'focus' ? 'ğŸ”¥ ì§‘ì¤‘ ì¤‘...' : 'â˜• íœ´ì‹ ì¤‘...');
                this.renderCycles();
                this.timerInterval = setInterval(() => {
                    if (this.timeLeft > 0) {
                        this.timeLeft--;
                        this.updateDisplay();
                    } else {
                        this.completePhase();
                    }
                }, 1000);
            }

            pause() {
                if (this.state !== 'running') return;
                clearInterval(this.timerInterval);
                this.state = 'paused';
                document.getElementById(`btn-start-${this.id}`).innerText = 'ì¬ê°œ';
                document.getElementById(`btn-start-${this.id}`).style.display = 'block';
                document.getElementById(`btn-pause-${this.id}`).style.display = 'none';
                this.updateStatus('â¸ï¸ ì¼ì‹œì •ì§€');
            }

            skipPhase() {
                clearInterval(this.timerInterval);
                this.completePhase(true);
            }

            resetTimer() {
                clearInterval(this.timerInterval);
                this.state = 'stopped';
                this.mode = 'focus';
                this.currentCycle = 1;
                this.timeLeft = this.focusTime * 60;
                this.initialTime = this.timeLeft;
                document.getElementById(`btn-start-${this.id}`).innerText = 'ì‹œì‘';
                document.getElementById(`btn-start-${this.id}`).style.display = 'block';
                document.getElementById(`btn-pause-${this.id}`).style.display = 'none';
                this.toggleInputs(false);
                this.updateStatus('Ready');
                this.renderCycles();
                this.updateDisplay();
                saveSessionData();
            }

            completePhase(mute = false) {
                clearInterval(this.timerInterval);
                if (!mute) playAlarm(); 

                if (this.mode === 'focus') {
                    this.mode = 'break';
                    this.timeLeft = this.breakTime * 60;
                    this.initialTime = this.timeLeft;
                    this.updateStatus('â˜• íœ´ì‹ ì¤€ë¹„');
                } else {
                    if (this.currentCycle < this.totalCycles) {
                        this.mode = 'focus';
                        this.currentCycle++;
                        this.timeLeft = this.focusTime * 60;
                        this.initialTime = this.timeLeft;
                        this.updateStatus('ğŸ”¥ ì§‘ì¤‘ ì¤€ë¹„');
                    } else {
                        this.resetTimer();
                        this.updateStatus('ğŸ‰ ì „ì²´ ì™„ë£Œ!');
                        if(!mute) playAlarm(); 
                        return;
                    }
                }
                this.renderCycles();
                this.updateDisplay();
                if (this.autoAdvance) {
                    this.state = 'stopped';
                    this.start();
                } else {
                    this.state = 'stopped';
                    document.getElementById(`btn-start-${this.id}`).innerText = 'ë‹¤ìŒ ë‹¨ê³„ ì‹œì‘';
                    document.getElementById(`btn-start-${this.id}`).style.display = 'block';
                    document.getElementById(`btn-pause-${this.id}`).style.display = 'none';
                    this.toggleInputs(false);
                }
            }

            toggleInputs(disabled) {
                document.getElementById(`input-focus-${this.id}`).disabled = disabled;
                document.getElementById(`input-break-${this.id}`).disabled = disabled;
                document.getElementById(`input-cycle-${this.id}`).disabled = disabled;
                document.getElementById(`check-auto-${this.id}`).disabled = disabled;
            }
        }


        // ===================================
        // âš™ï¸ GLOBAL CONTROLLER LOGIC
        // ===================================
        
        const getSettingsCardHTML = () => {
            const currentVolume = Math.round(globalVolume * 100);
            const softSelected = alarmProfile === 'soft' ? 'class="selected"' : '';
            const mediumSelected = alarmProfile === 'medium' ? 'class="selected"' : '';
            const loudSelected = alarmProfile === 'loud' ? 'class="selected"' : '';
            
            return `
                <div class="session-card" id="settings-card">
                    <div class="card-header">
                        <input type="text" class="session-name" value="ì „ì—­ ì„¤ì • (Global Settings)" disabled/>
                        <input type="text" class="session-note" placeholder="ì„¤ì • ì¹´ë“œì—ì„œëŠ” ë©”ëª¨ ë¹„í™œì„±í™”" disabled>
                    </div>
                    
                    <div class="status-badge" style="color: var(--setting-color);">ëŒ€ì‹œë³´ë“œ ê´€ë¦¬</div>
                    <div class="cycle-visuals" style="margin-bottom: 20px;"></div>

                    <div class="timer-wrapper">
                        <div class="total-time-display" style="font-size: 0.9rem; margin-top: 0;">(íƒ€ì´ë¨¸ ê°œìˆ˜ ì¡°ì ˆ)</div>
                        <div class="timer-display" style="font-size: 2.5rem; color: var(--setting-color); margin-top: 5px;">âš™ï¸</div>
                    </div>
                    
                    <div class="progress-container">
                        <div class="progress-bar-bg">
                            <div class="progress-bar-fill" style="width: 100%; background: #ddd;"></div>
                        </div>
                    </div>
                    
                    <div class="action-buttons full-width" style="margin-top: 5px; margin-bottom: 10px;">
                        <button id="alarm-test" style="background-color: var(--setting-color); color: white;" class="full-width">í…ŒìŠ¤íŠ¸ ì•ŒëŒ ì¬ìƒ</button>
                    </div>

                    <div class="controls" style="gap: 15px; margin-top: auto; margin-bottom: 0;">
                        <div class="control-group">
                            <label>ìš´ì˜í•  íƒ€ì´ë¨¸ ê°œìˆ˜ (1~10)</label>
                            <span id="session-count-value">${sessionCount}</span>
                            <input type="range" id="session-count-slider" min="1" max="10" value="${sessionCount}">
                        </div>

                        <div class="control-group">
                            <label>ì•ŒëŒ ë³¼ë¥¨</label>
                            <span id="alarm-volume-value">${currentVolume}%</span>
                            <input type="range" id="alarm-volume-slider" min="0" max="100" value="${currentVolume}">
                        </div>
                        
                        <div style="grid-column: 1 / 3;">
                            <label style="font-size: 0.9rem; color: var(--gray-text);">ì•ŒëŒ ì¢…ë¥˜ ì„ íƒ</label>
                            <div class="alarm-selector">
                                <button id="alarm-soft" data-profile="soft" ${softSelected}>ì‘ì€ ì†Œë¦¬ ğŸ”ˆ</button>
                                <button id="alarm-medium" data-profile="medium" ${mediumSelected}>ì¤‘ê°„ ì†Œë¦¬ ğŸ””</button>
                                <button id="alarm-loud" data-profile="loud" ${loudSelected}>í° ì†Œë¦¬ ğŸ”Š</button>
                            </div>
                        </div>
                    </div>
                </div>
            `;
        };

        function attachGlobalListeners() {
            const countSlider = document.getElementById('session-count-slider');
            const countValue = document.getElementById('session-count-value');

            if (!countSlider) return; 

            countSlider.oninput = (e) => {
                countValue.innerText = e.target.value; 
            };
            
            countSlider.onchange = (e) => {
                sessionCount = parseInt(e.target.value);
                playNotificationSound(); 
                saveGlobalSettings(); 
                createSessions(); 
            }

            const volumeSlider = document.getElementById('alarm-volume-slider');
            const volumeValue = document.getElementById('alarm-volume-value');
            
            volumeSlider.oninput = (e) => {
                globalVolume = parseInt(e.target.value) / 100;
                volumeValue.innerText = `${e.target.value}%`;
                saveGlobalSettings(); 
            };
            
            document.querySelectorAll('#settings-card .alarm-selector button[data-profile]').forEach(button => {
                button.onclick = (e) => {
                    alarmProfile = e.target.dataset.profile;
                    playNotificationSound(); 
                    document.querySelectorAll('#settings-card .alarm-selector button').forEach(btn => btn.classList.remove('selected'));
                    e.target.classList.add('selected');
                    saveGlobalSettings(); 
                };
            });

            document.getElementById('alarm-test').onclick = () => {
                playAlarm();
                playNotificationSound(); 
            }
        }

        function createSessions() {
            activeSessions.forEach(session => {
                clearInterval(session.timerInterval);
            });
            activeSessions = [];
            const dashboard = document.getElementById('dashboard');
            dashboard.innerHTML = ''; 

            const loadedSessions = loadSessionData();
            
            for(let i=1; i<=sessionCount; i++) {
                const loadedData = loadedSessions.find(s => s.id === i) || {};
                const name = defaultNames[i-1] || `ì„¸ì…˜ ${i}`;
                
                const newSession = new PomodoroSession(i, name, loadedData);
                activeSessions.push(newSession);
            }
            
            dashboard.insertAdjacentHTML('beforeend', getSettingsCardHTML());
            
            attachGlobalListeners(); 
        }

        document.addEventListener('DOMContentLoaded', () => {
            loadGlobalSettings(); 
            
            if (audioCtx.state === 'suspended') {
                const resumeAudio = () => {
                    audioCtx.resume();
                    document.body.removeEventListener('touchstart', resumeAudio);
                    document.body.removeEventListener('mousedown', resumeAudio);
                };
                document.body.addEventListener('touchstart', resumeAudio, { once: true });
                document.body.addEventListener('mousedown', resumeAudio, { once: true });
            }
            createSessions(); 
        });

    </script>
</body>
</html>
ê¹ƒí—ˆë¸Œë¡œ ì•„ì´í°ì´ë‚˜ ì•„ì´íŒ¨ë“œì—ì„œ ì‹¤í–‰í•˜ê³  ë‚˜ì„œ, ê° ì„¸ì…˜ì˜ ì…‹íŒ… ë“±ì´ ì €ì¥ë˜ëŠ” ê²ƒì€ ì–´ë””ì— ì €ì¥ë˜ì§€? ë¡œì»¬ ë¸Œë¼ìš°ì €ì— ì €ì¥ë˜ëŠ” ê²ƒì¸ì§€?

ë„¤, ë§ìŠµë‹ˆë‹¤. ì‚¬ìš©ìë‹˜ì˜ ì¶”ì¸¡ëŒ€ë¡œ í•´ë‹¹ ì„¤ì •ë“¤ì€ **ë¡œì»¬ ë¸Œë¼ìš°ì € ì €ì¥ì†Œ(Local Storage)**ì— ì €ì¥ë©ë‹ˆë‹¤.

GitHub Pagesì—ì„œ ì‹¤í–‰ë˜ëŠ” ì›¹ì‚¬ì´íŠ¸(HTML íŒŒì¼)ëŠ” ì„œë²„ì— ë°ì´í„°ë¥¼ ì €ì¥í•˜ì§€ ì•Šê³ , ìˆœìˆ˜í•˜ê²Œ ì›¹ ë¸Œë¼ìš°ì €ê°€ ì œê³µí•˜ëŠ” ê¸°ëŠ¥ë§Œì„ ì‚¬ìš©í•˜ì—¬ ë°ì´í„°ë¥¼ ë³´ì¡´í•©ë‹ˆë‹¤.

ğŸ’¡ ì €ì¥ ë©”ì»¤ë‹ˆì¦˜ ìƒì„¸ ì„¤ëª…
ì €ì¥ ìœ„ì¹˜: ì•„ì´í°/ì•„ì´íŒ¨ë“œì—ì„œ í•´ë‹¹ ì›¹í˜ì´ì§€ë¥¼ ì—° íŠ¹ì • ë¸Œë¼ìš°ì €(ì˜ˆ: Safari ë˜ëŠ” Chrome)ì˜ ë¡œì»¬ ì €ì¥ì†Œì…ë‹ˆë‹¤.

ì‚¬ìš© API: ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ localStorage ê°ì²´(API)ë¥¼ ì‚¬ìš©í•˜ë©°, ì½”ë“œ ë‚´ì˜ saveGlobalSettings(), loadSessionData() ë“±ì˜ í•¨ìˆ˜ì—ì„œ ì´ ê¸°ëŠ¥ì„ í˜¸ì¶œí•©ë‹ˆë‹¤.

ì„¸ì…˜ ì´ë¦„, ë©”ëª¨, ì§‘ì¤‘/íœ´ì‹ ì‹œê°„, ì‚¬ì´í´ ìˆ˜ ë“± ëª¨ë“  ì„¤ì •ê°’ë“¤ì´ ë¬¸ìì—´ í˜•íƒœë¡œ ì´ ë¡œì»¬ ì €ì¥ì†Œì— ë³´ê´€ë©ë‹ˆë‹¤.

íŠ¹ì§•:

ì¥ì¹˜/ë¸Œë¼ìš°ì € ì¢…ì†ì : ì´ ë°ì´í„°ëŠ” ì‚¬ìš©ìì˜ ê¸°ê¸°ì—ë§Œ ì €ì¥ë˜ë©°, ì¸í„°ë„·ì„ í†µí•´ ë‹¤ë¥¸ ì„œë²„(GitHub í¬í•¨)ë¡œ ì „ì†¡ë˜ê±°ë‚˜ ê³µìœ ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ë§Œì•½ ì•„ì´í° Safariì—ì„œ ì„¤ì •í•˜ê³  ì•„ì´íŒ¨ë“œ Chromeì—ì„œ ì—´ë©´, ì•„ì´íŒ¨ë“œ Chromeì—ëŠ” í•´ë‹¹ ì„¤ì •ì´ ì €ì¥ë˜ì–´ ìˆì§€ ì•ŠìŠµë‹ˆë‹¤.

ì˜êµ¬ ë³´ì¡´ (Clear ì „ê¹Œì§€): ë¸Œë¼ìš°ì € ìºì‹œë‚˜ ë°ì´í„°ë¥¼ ìˆ˜ë™ìœ¼ë¡œ ì§€ìš°ê±°ë‚˜, í•´ë‹¹ ì›¹ì‚¬ì´íŠ¸ì˜ ì €ì¥ì†Œ ê³µê°„ì„ ì§€ìš°ì§€ ì•ŠëŠ” í•œ ê³„ì† ìœ ì§€ë©ë‹ˆë‹¤.

ì˜¤í”„ë¼ì¸ ì ‘ê·¼ (ê°€ëŠ¥ì„±): í•œ ë²ˆ ì ‘ì† í›„ ë¡œì»¬ ì €ì¥ì†Œì— ë°ì´í„°ê°€ ë‚¨ì•„ìˆê¸° ë•Œë¬¸ì—, ë¸Œë¼ìš°ì €ê°€ ì˜¤í”„ë¼ì¸ ìºì‹œë¥¼ ì§€ì›í•˜ëŠ” ê²½ìš° íƒ€ì´ë¨¸ ìì²´ëŠ” ì¸í„°ë„·ì´ ì—°ê²°ë˜ì§€ ì•Šì€ ìƒíƒœì—ì„œë„ ì‹¤í–‰ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ë„ˆë‘ ì´ ì‘ì—…ì„ í•˜ê³  ë‚˜ì„œ gpt ìœ ë£Œ êµ¬ë…ì„ ì·¨ì†Œí•´ì•¼ê² ë‹¤ê³  ê²°ì‹¬í–ˆì–´

ì €ì™€ í•¨ê»˜ ì‘ì—…í•˜ì‹  ê²°ê³¼ì— ë§Œì¡±í•˜ì‹œê³  ê¸ì •ì ì¸ í‰ê°€ë¥¼ ë‚´ë ¤ì£¼ì…”ì„œ ì •ë§ ê°ì‚¬í•©ë‹ˆë‹¤! ğŸ˜Š

ì‚¬ìš©ìë‹˜ì˜ ëª©í‘œ ë‹¬ì„±ì— ì œê°€ ë„ì›€ì´ ë˜ì—ˆë‹¤ë‹ˆ AI ì–´ì‹œìŠ¤í„´íŠ¸ë¡œì„œ í° ë³´ëŒì„ ëŠë‚ë‹ˆë‹¤. ì•ìœ¼ë¡œë„ í•„ìš”í•˜ì‹¤ ë•Œ ì–¸ì œë“ ì§€ ì°¾ì•„ì£¼ì‹œë©´ ìµœì„ ì„ ë‹¤í•´ ë„ì›€ì„ ë“œë¦¬ê² ìŠµë‹ˆë‹¤.

ë‹¤ë¥¸ í”„ë¡œì íŠ¸ë‚˜ ì¶”ê°€ì ì¸ ê¸°ëŠ¥ êµ¬í˜„, í˜¹ì€ ì½”ë“œ ê°œì„ ì— ëŒ€í•œ ì•„ì´ë””ì–´ê°€ ìˆìœ¼ì‹ ê°€ìš”? ì•„ë‹ˆë©´ í˜¹ì‹œ ì´ ì½”ë“œë¥¼ ìµœì¢…ì ìœ¼ë¡œ ê¹ƒí—ˆë¸Œì— ì˜¬ë¦¬ê¸° ì „ì— í™•ì¸í•˜ê³  ì‹¶ì€ ë¶€ë¶„ì´ ìˆìœ¼ì‹ ê°€ìš”?

ê¹ƒí—ˆë¸Œì— ì˜¬ë¼ê°€ìˆëŠ” ì´ íƒ€ì´ë¨¸ htmlì„ ë‹¤ë¥¸ ì‚¬ëŒì´ ë³´ê³  ìˆ˜ì •í•˜ê±°ë‚˜ í•  ìˆœ ì—†ëŠ” ê±°ê² ì§€? ê¹ƒí—ˆë¸Œì— ëŒ€í•´ì„œ ë‚˜ëŠ” ì˜ ëª°ë¼.

ê¹ƒí—ˆë¸Œì— ëŒ€í•´ ì˜ ëª¨ë¥´ì‹ ë‹¤ê³  í•˜ë‹ˆ, ì‚¬ìš©ìë‹˜ì˜ íŒŒì¼ì— ëŒ€í•œ ì ‘ê·¼ ê¶Œí•œê³¼ ìˆ˜ì • ê°€ëŠ¥ì„±ì— ëŒ€í•´ ê°€ì¥ ì‰½ê³  ì•ˆì „í•˜ê²Œ ì„¤ëª…í•´ ë“œë¦´ê²Œìš”.

ğŸ”’ ì‚¬ìš©ìë‹˜ì˜ ì½”ë“œëŠ” ì•ˆì „í•©ë‹ˆë‹¤
ê²°ë¡ ë¶€í„° ë§ì”€ë“œë¦¬ë©´, ë‹¤ë¥¸ ì‚¬ëŒì´ ì‚¬ìš©ìë‹˜ì˜ í—ˆë½ ì—†ì´ ì§ì ‘ ê¹ƒí—ˆë¸Œì— ë¡œê·¸ì¸í•´ì„œ ì½”ë“œë¥¼ ìˆ˜ì •í•˜ê±°ë‚˜ ì§€ìš¸ ìˆ˜ëŠ” ì—†ìŠµë‹ˆë‹¤.

1. ì§ì ‘ ìˆ˜ì • (Write Access)
ì‚¬ìš©ìë‹˜ì˜ **ì €ì¥ì†Œ(Repository)**ëŠ” ì‚¬ìš©ìë‹˜ì´ ì†Œìœ í•˜ê³  ìˆìŠµë‹ˆë‹¤.

ì˜¤ì§ ì‚¬ìš©ìë‹˜ ë³¸ì¸ê³¼ ì‚¬ìš©ìë‹˜ì´ ì§ì ‘ **í˜‘ë ¥ì(Collaborator)**ë¡œ ì§€ì •í•œ ì‚¬ëŒë§Œì´ ì½”ë“œë¥¼ ì§ì ‘ ë³€ê²½í•˜ê³  ì €ì¥ì†Œì— ë°˜ì˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ë”°ë¼ì„œ, ë‹¤ë¥¸ ì¼ë°˜ì ì¸ ë°©ë¬¸ìê°€ í•´ë‹¹ HTML íŒŒì¼ì„ ì—´ê³  ë°”ë¡œ ìˆ˜ì • ë²„íŠ¼ì„ ëˆŒëŸ¬ ì €ì¥ì†Œì— ë°˜ì˜í•˜ëŠ” ê²ƒì€ ë¶ˆê°€ëŠ¥í•©ë‹ˆë‹¤.

2. ë³´ê¸° ë° ë³µì‚¬ (Read Access)
HTML íŒŒì¼ì„ GitHub Pagesë¥¼ í†µí•´ ì›¹ì‚¬ì´íŠ¸ë¡œ ê³µê°œí•˜ì…¨ë‹¤ë©´, í•´ë‹¹ ì½”ë“œ ìì²´ëŠ” ê³µê°œ ì €ì¥ì†Œì— ë³´ê´€ë˜ì–´ ìˆëŠ” ê²ƒì…ë‹ˆë‹¤.

ëˆ„êµ¬ë‚˜ ì‚¬ìš©ìë‹˜ì˜ ì €ì¥ì†Œì— ë°©ë¬¸í•˜ì—¬ ì½”ë“œë¥¼ ë³´ê³ , ë‹¤ìš´ë¡œë“œí•˜ê³ , ë³µì‚¬í•´ ê°ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤. (ì´ê²ƒì´ ì˜¤í”ˆì†ŒìŠ¤ì˜ ê¸°ë³¸ ì›ë¦¬ì…ë‹ˆë‹¤.)

3. ìˆ˜ì • ì œì•ˆ (Forking & Pull Request)
ë§Œì•½ ë‹¤ë¥¸ ì‚¬ëŒì´ ì‚¬ìš©ìë‹˜ì˜ ì½”ë“œì— ì˜¤ë¥˜ê°€ ìˆê±°ë‚˜ ê°œì„ í•  ì ì´ ìˆë‹¤ê³  ìƒê°í•œë‹¤ë©´, ê·¸ë“¤ì€ **'í¬í¬(Fork)'**ë¼ëŠ” ê¸°ëŠ¥ì„ í†µí•´ ì‚¬ìš©ìë‹˜ì˜ ì €ì¥ì†Œ ì „ì²´ë¥¼ ìê¸° ê³„ì •ìœ¼ë¡œ ë³µì‚¬í•´ ê°ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ë³µì‚¬í•œ ì½”ë“œì—ì„œ ìˆ˜ì •ì„ ì™„ë£Œí•œ í›„, ì‚¬ìš©ìë‹˜ì—ê²Œ **'í’€ ë¦¬í€˜ìŠ¤íŠ¸(Pull Request)'**ë¥¼ í†µí•´ "ì œê°€ ì´ë ‡ê²Œ ìˆ˜ì •í–ˆëŠ”ë°, ì‚¬ìš©ìë‹˜ ì €ì¥ì†Œì— ë°˜ì˜í•´ ì£¼ì‹œê² ì–´ìš”?"ë¼ê³  ìˆ˜ì •ì„ ì œì•ˆí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì‚¬ìš©ìë‹˜ì´ ì´ ì œì•ˆì„ ìµœì¢…ì ìœ¼ë¡œ ê²€í† í•˜ê³  ìŠ¹ì¸(Merge)í•´ì•¼ë§Œ ì‚¬ìš©ìë‹˜ì˜ ì›ë³¸ ì½”ë“œì— ìˆ˜ì • ì‚¬í•­ì´ ë°˜ì˜ë©ë‹ˆë‹¤.

ìš”ì•½: ì‚¬ìš©ìë‹˜ì´ ìŠ¹ì¸í•˜ì§€ ì•ŠëŠ” í•œ, ë‹¤ë¥¸ ëˆ„êµ¬ë„ ì‚¬ìš©ìë‹˜ì˜ íƒ€ì´ë¨¸ ì½”ë“œë¥¼ ì„ì˜ë¡œ ë³€ê²½í•  ìˆ˜ëŠ” ì—†ìœ¼ë‹ˆ ì•ˆì‹¬í•˜ê³  ì‚¬ìš©í•˜ì…”ë„ ë©ë‹ˆë‹¤!

ì§€ê¸ˆ ë„ˆì™€ í•¨ê»˜ ë½€ëª¨ë„ë¡œ íƒ€ì´ë¨¸ë¥¼ ë§Œë“¤ë©´ì„œ ë§ì´ ê°íƒ„í–ˆì–´. ë„ˆì™€ í•¨ê»˜ ì–´ë–¤ ìƒì‚°ì ì¸ ê²ƒë“¤ì„ ë” í•  ìˆ˜ ìˆì„ê¹Œ? ë‹¤ë¥¸ ì‚¬ëŒë“¤ì€ ë„ˆì™€ í•¨ê»˜ ì–´ë–¤ ì‘ì—…ë“¤ì„ í•˜ëŠ”ì§€, ë‚˜ëŠ” ë„¤ê²Œ ì–´ë–¤ ë„ì›€ì„ ë°›ì„ ìˆ˜ ìˆì„ì§€ ê¶ê¸ˆí•´.

ì €ì™€ í•¨ê»˜ ë½€ëª¨ë„ë¡œ íƒ€ì´ë¨¸ë¥¼ ë§Œë“¤ë©´ì„œ ì¦ê±°ì›€ê³¼ ë§Œì¡±ê°ì„ ëŠë¼ì…¨ë‹¤ë‹ˆ ì €ë„ ë§¤ìš° ê¸°ì©ë‹ˆë‹¤! ğŸ˜Š

ì§€ê¸ˆì²˜ëŸ¼ ì½”ë“œ ê°œë°œ ì‘ì—…ì„ ì„±ê³µì ìœ¼ë¡œ ì™„ë£Œí•˜ì‹  ê²½í—˜ì„ ë°”íƒ•ìœ¼ë¡œ, ì‚¬ìš©ìë‹˜ê»˜ì„œ ì €ì™€ í•¨ê»˜ ì–´ë–¤ ìƒì‚°ì ì¸ ì‘ì—…ë“¤ì„ ë” í•´ë‚˜ê°ˆ ìˆ˜ ìˆì„ì§€ ëª‡ ê°€ì§€ ì•„ì´ë””ì–´ì™€ ë‹¤ë¥¸ ì‚¬ìš©ìë“¤ì˜ ì£¼ìš” í™œìš© ì‚¬ë¡€ë¥¼ ì†Œê°œí•´ ë“œë¦´ê²Œìš”.

ğŸ› ï¸ ì‚¬ìš©ìë‹˜ì´ ì €ì™€ í•¨ê»˜ í•  ìˆ˜ ìˆëŠ” ìƒì‚°ì ì¸ ì‘ì—…
ì €ì˜ ê°•ì ì€ ë³µì¡í•œ ì •ë³´ë¥¼ ì´í•´í•˜ê³ , êµ¬ì¡°í™”í•˜ë©°, ì½”ë“œë¡œ ë³€í™˜í•˜ëŠ” ëŠ¥ë ¥ì— ìˆìŠµë‹ˆë‹¤. ì´ ëŠ¥ë ¥ì„ í™œìš©í•˜ì—¬ ë‹¤ìŒê³¼ ê°™ì€ ì‘ì—…ì„ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

1. ì›¹ ê°œë°œ ë° ì½”ë”© í”„ë¡œì íŠ¸ ì‹¬í™”
ì½”ë“œ ë¦¬íŒ©í† ë§ ë° ìµœì í™”: í˜„ì¬ ë½€ëª¨ë„ë¡œ ì½”ë“œë¥¼ ë³´ë©´ì„œ "ì´ ë¶€ë¶„ì„ ë” ë¹ ë¥´ê²Œ/ê¹”ë”í•˜ê²Œ/ìœ ì§€ë³´ìˆ˜í•˜ê¸° ì‰½ê²Œ ë°”ê¿€ ìˆ˜ ìˆì„ê¹Œ?"ë¼ê³  ì§ˆë¬¸í•´ ë³´ì„¸ìš”. ì œê°€ ì½”ë“œë¥¼ ë¶„ì„í•˜ê³  ê°œì„ ì•ˆì„ ì œì‹œí•´ ë“œë¦½ë‹ˆë‹¤.

ì˜ˆì‹œ: "ì´ ë½€ëª¨ë„ë¡œ íƒ€ì´ë¨¸ì˜ ìë°”ìŠ¤í¬ë¦½íŠ¸ í´ë˜ìŠ¤ë¥¼ ES6 ëª¨ë“ˆ ë°©ì‹ìœ¼ë¡œ ë°”ê¿”ì„œ íŒŒì¼ ë¶„ë¦¬í•´ ì¤˜."

ê¸°ëŠ¥ í™•ì¥: ê¸°ì¡´ íƒ€ì´ë¨¸ì— ìƒˆë¡œìš´ ê¸°ëŠ¥ì„ ì¶”ê°€í•˜ëŠ” ì‘ì—…ì„ í•¨ê»˜ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì˜ˆì‹œ: "ì„¸ì…˜ì´ ëë‚  ë•Œë§ˆë‹¤ í˜„ì¬ ì„¸ì…˜ì˜ ì§‘ì¤‘ ì‹œê°„ì„ ê¸°ë¡í•˜ëŠ” íˆìŠ¤í† ë¦¬ ëª©ë¡ì„ ì¶”ê°€í•´ ì¤˜."

ìƒˆë¡œìš´ í”„ë¡œì íŠ¸ ê¸°íš ë° ì´ˆì•ˆ ì‘ì„±: ê°„ë‹¨í•œ ì›¹ ì•±(ê³„ì‚°ê¸°, í•  ì¼ ëª©ë¡, ë©”ëª¨ì¥)ì˜ HTML/CSS/JS ê¸°ë³¸ êµ¬ì¡°ë¥¼ ì œê°€ ë¹ ë¥´ê²Œ ì¡ì•„ë“œë¦´ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

2. í•™ìŠµ ë° ê¸°ìˆ  ë¬¸ì„œí™”
ë³µì¡í•œ ê°œë… ì´í•´: ìƒˆë¡œìš´ í”„ë¡œê·¸ë˜ë° ì–¸ì–´ë‚˜ ë³µì¡í•œ ì•Œê³ ë¦¬ì¦˜ì„ ê³µë¶€í•  ë•Œ, ì €ì—ê²Œ ì„¤ëª…ì„ ìš”ì²­í•˜ê±°ë‚˜ ì˜ˆì‹œ ì½”ë“œë¥¼ ì§œë‹¬ë¼ê³  ìš”ì²­í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì˜ˆì‹œ: "ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ Promiseì™€ Async/Awaitì˜ ì°¨ì´ì ì„ ê°„ë‹¨í•œ ì˜ˆì œë¡œ ì„¤ëª…í•´ ì¤˜."

ê¸°ìˆ  ë¬¸ì„œ ìš”ì•½ ë° ì‘ì„±: í•™ìŠµí•œ ë‚´ìš©ì„ ì •ë¦¬í•˜ê±°ë‚˜, ì‚¬ìš©ìë‹˜ì˜ í”„ë¡œì íŠ¸ì— ëŒ€í•œ README.md íŒŒì¼ì„ ì‘ì„±í•˜ëŠ” ê²ƒì„ ë„ìš¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

3. ìë£Œ êµ¬ì¡°í™” ë° ë¬¸ì œ í•´ê²°
ë°ì´í„° í˜•ì‹ ë³€í™˜: ì—‘ì…€ ë°ì´í„°ë‚˜ íŠ¹ì • í˜•ì‹ì˜ í…ìŠ¤íŠ¸ íŒŒì¼ì„ í•„ìš”í•œ í”„ë¡œê·¸ë˜ë° ì–¸ì–´ì˜ ë°°ì—´ì´ë‚˜ ê°ì²´ í˜•íƒœë¡œ ë³€í™˜í•˜ëŠ” ì½”ë“œë¥¼ ì§œëŠ” ê²ƒì„ ë„ìš¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ë…¼ë¦¬ ì„¤ê³„: íŠ¹ì • ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•œ ë‹¨ê³„(ì•Œê³ ë¦¬ì¦˜)ë¥¼ í•¨ê»˜ ì„¤ê³„í•˜ê³  ë…¼ë¦¬ì ì¸ íë¦„ì„ ì ê²€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ğŸŒ ë‹¤ë¥¸ ì‚¬ìš©ìë“¤ì€ ì €ë¥¼ ì–´ë–»ê²Œ í™œìš©í•˜ë‚˜ìš”?
ë‹¤ì–‘í•œ ë¶„ì•¼ì—ì„œ ì œ ì—­ëŸ‰ì„ í™œìš©í•˜ê³  ìˆìŠµë‹ˆë‹¤.

ë¶„ì•¼	ì£¼ìš” í™œìš© ì‚¬ë¡€
ì†Œí”„íŠ¸ì›¨ì–´ ê°œë°œ	ì´ˆì•ˆ ì½”ë”© (Boilerplate ìƒì„±), API ì—°ë™ ì½”ë“œ ì‘ì„±, ì •ê·œ í‘œí˜„ì‹ ìƒì„± ë° ë””ë²„ê¹…, í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ì‘ì„±.
í•™ìŠµ/ì—°êµ¬	ë…¼ë¬¸ ìš”ì•½ ë° ì£¼ìš” ê°œë… ì •ë¦¬, ì½”ë”© ë¬¸ì œ í’€ì´ ë°©ë²•ë¡  ì œì‹œ, íŠ¹ì • ê¸°ìˆ  ìŠ¤íƒì˜ ì¥ë‹¨ì  ë¹„êµ ë¶„ì„.
ê¸°íš/ì½˜í…ì¸ 	ë³µì¡í•œ ë°ì´í„°ë¥¼ ë°”íƒ•ìœ¼ë¡œ ë³´ê³ ì„œ ì´ˆì•ˆ ì‘ì„±, ë§ˆì¼€íŒ… ë¬¸êµ¬ë‚˜ ê´‘ê³  ì¹´í”¼ ì•„ì´ë””ì–´ ë„ì¶œ, ë°œí‘œ ìë£Œì˜ êµ¬ì¡°í™” ë° í•µì‹¬ ë‚´ìš© ìš”ì•½.
ì¼ìƒ/ì—…ë¬´	ì´ë©”ì¼ ì´ˆì•ˆ ì‘ì„± ë° í†¤ì•¤ë§¤ë„ˆ êµì •, ë³µì¡í•œ ì¼ì •ì„ íš¨ìœ¨ì ìœ¼ë¡œ ê´€ë¦¬í•˜ëŠ” ìë™í™” ìŠ¤í¬ë¦½íŠ¸ ì‘ì„±.
ğŸš€ ë‹¤ìŒ ì‘ì—… ì•„ì´ë””ì–´
ì €ì™€ í•¨ê»˜ ë½€ëª¨ë„ë¡œ íƒ€ì´ë¨¸ë¥¼ í™•ì¥í•˜ëŠ” ì‘ì€ ì‘ì—…ì„ ì‹œì‘í•´ ë³´ëŠ” ê²ƒì€ ì–´ë–¨ê¹Œìš”?

ì•„ì´ë””ì–´ 1: ë‹¤í¬ ëª¨ë“œ ì¶”ê°€

ì‚¬ìš©ìë‹˜: "ì´ íƒ€ì´ë¨¸ì— ë‹¤í¬ ëª¨ë“œë¥¼ ì¶”ê°€í•˜ëŠ” CSS ì½”ë“œë¥¼ ë§Œë“¤ì–´ ì¤˜. í† ê¸€ ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ì ìš©ë˜ê²Œë” JSë„ ì¶”ê°€í•´ ì¤˜."

ì•„ì´ë””ì–´ 2: ì•Œë¦¼ ê¸°ëŠ¥ ê°œì„ 

ì‚¬ìš©ìë‹˜: "íƒ€ì´ë¨¸ê°€ ì™„ë£Œë˜ì—ˆì„ ë•Œ, ë¸Œë¼ìš°ì € ì•Œë¦¼ì°½(Notification API)ì„ ë„ì›Œì„œ 'ì§‘ì¤‘ ì‹œê°„ ì¢…ë£Œ'ë¼ê³  ì•Œë ¤ì£¼ëŠ” ê¸°ëŠ¥ì„ ì¶”ê°€í•´ ì¤˜."

ì–´ë–¤ ì‘ì—…ì´ ê°€ì¥ í¥ë¯¸ë¡œìš°ì‹ ê°€ìš”?

ì´ íƒ€ì´ë¨¸ì— ë‹¤í¬ ëª¨ë“œë¥¼ ì¶”ê°€í•˜ëŠ” CSS ì½”ë“œë¥¼ ë§Œë“¤ì–´ ì¤˜. í† ê¸€ ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ì ìš©ë˜ê²Œë” JSë„ ì¶”ê°€í•´ ì¤˜. ê·¸ë¦¬ê³  ì‚¬ì´í´ì„ í‘œì‹œí•˜ëŠ” ë‘¥ê·¼ ë²„íŠ¼ ì˜ì—­ê³¼ ì´ ì‹œê°„ì„ í‘œì‹œí•˜ëŠ” ë¶€ë¶„ì´, ì‚¬ì´í´ì´ 10ê°œë¥¼ ë„˜ì–´ ë‘ ì¤„ì´ ë  ë•Œ ì´ ì‹œê°„ í‘œì‹œë¥¼ ì¹¨ë²”í•˜ì§€ ì•Šë„ë¡ ì¡°ì ˆí•´ ì¤˜.

ìš”ì²­í•˜ì‹  ëŒ€ë¡œ ë‹¤í¬ ëª¨ë“œ(Dark Mode) ê¸°ëŠ¥ì„ ì¶”ê°€í•˜ê³ , ì‚¬ì´í´ ì‹œê°í™”ê°€ ë‘ ì¤„ì´ ë˜ì—ˆì„ ë•Œ ì´ ì†Œìš” ì‹œê°„ê³¼ ê²¹ì¹˜ì§€ ì•Šë„ë¡ ë ˆì´ì•„ì›ƒì„ ìˆ˜ì •í–ˆìŠµë‹ˆë‹¤.

ê¸°ì¡´ì— êµ¬í˜„í–ˆë˜ ë²„íŠ¼ ì¡°ì‘ ì•Œë¦¼ìŒê³¼ ë©”ëª¨ í•„ë“œ ê¸°ëŠ¥ì€ ê·¸ëŒ€ë¡œ ìœ ì§€ë˜ì—ˆìŠµë‹ˆë‹¤.

âœ¨ ì£¼ìš” ë³€ê²½ ì‚¬í•­ ìš”ì•½
ë‹¤í¬ ëª¨ë“œ ì¶”ê°€ (CSS & JS):

<style> íƒœê·¸ì— ë‹¤í¬ ëª¨ë“œìš© --bg-color ë“±ì˜ CSS ë³€ìˆ˜ë¥¼ ì •ì˜í–ˆìŠµë‹ˆë‹¤.

ì „ì—­ ì„¤ì • ì¹´ë“œì— ë‹¤í¬ ëª¨ë“œ í† ê¸€ ë²„íŠ¼ì„ ì¶”ê°€í–ˆìŠµë‹ˆë‹¤.

JavaScriptë¡œ í† ê¸€ ìƒíƒœë¥¼ localStorageì— ì €ì¥í•˜ê³ , í˜ì´ì§€ ë¡œë“œ ì‹œ ìƒíƒœë¥¼ ìœ ì§€í•˜ë„ë¡ í–ˆìŠµë‹ˆë‹¤.

ë ˆì´ì•„ì›ƒ ì•ˆì •í™” (CSS):

cycle-visuals ì˜ì—­ì˜ min-heightë¥¼ í™•ë³´í•˜ì—¬, ì‚¬ì´í´ ê°œìˆ˜ê°€ ë§ì•„ì ¸ ì ë“¤ì´ ë‘ ì¤„ë¡œ í‘œì‹œë˜ì–´ë„ ë°”ë¡œ ì•„ë˜ total-time-displayì™€ ê²¹ì¹˜ì§€ ì•Šë„ë¡ ìˆ˜ì •í–ˆìŠµë‹ˆë‹¤.

ğŸ’» ìµœì¢… í†µí•© ì½”ë“œ (pomodoro-dashboard.html - ë‹¤í¬ ëª¨ë“œ ë° ë ˆì´ì•„ì›ƒ ìˆ˜ì •)
HTML
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Pomodoro</title>
    <style>
        :root {
            /* ğŸŒ Light Mode Defaults */
            --bg-color: #f0f2f5;
            --card-bg: #ffffff;
            --focus-color: #ff6b6b;
            --break-color: #4ecdc4;
            --skip-color: #a29bfe;
            --setting-color: #00b894;
            --text-color: #333;
            --gray-text: #666;
            --shadow: 0 4px 10px rgba(0,0,0,0.1);
            --black-bar: #333;
            --control-bg: #f8f9fa; 
            --input-border: #ddd;
        }
        
        /* ğŸŒ™ Dark Mode Variables */
        body.dark-mode {
            --bg-color: #121212;
            --card-bg: #1e1e1e;
            --focus-color: #ff8a8a; /* Brightened for contrast */
            --break-color: #80cbc4; /* Brightened for contrast */
            --skip-color: #c5baff;
            --setting-color: #69f0ae;
            --text-color: #e0e0e0;
            --gray-text: #b0b0b0;
            --shadow: 0 4px 10px rgba(0,0,0,0.5);
            --black-bar: #555;
            --control-bg: #2d2d2d;
            --input-border: #444;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
            background-color: var(--bg-color); /* Variable ì ìš© */
            color: var(--text-color); /* Variable ì ìš© */
            margin: 0;
            padding: 10px 10px; 
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
            transition: background-color 0.3s;
        }

        h1 { 
            margin-bottom: 10px; 
            font-weight: 800; 
            color: var(--focus-color); 
            font-size: 2.5rem;
        }

        /* --- Dashboard Layout --- */
        .dashboard {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            width: 100%;
            max-width: 1600px;
        }

        .session-card {
            background: var(--card-bg); /* Variable ì ìš© */
            border-radius: 15px;
            padding: 15px; 
            box-shadow: var(--shadow); /* Variable ì ìš© */
            display: flex;
            flex-direction: column;
            border-top: 6px solid var(--focus-color);
            position: relative;
            min-height: 450px; 
        }

        .session-name { 
            font-size: 1.1rem; 
            font-weight: bold; 
            border: none; 
            border-bottom: 1px solid var(--input-border); /* Variable ì ìš© */
            width: 100%; 
            padding: 5px 0; 
            outline: none; 
            background: transparent; /* ë‹¤í¬ ëª¨ë“œ ì‹œ ë°°ê²½ íˆ¬ëª… */
            color: var(--text-color); /* Variable ì ìš© */
        }
        
        .session-note { 
            font-size: 0.9rem; 
            color: var(--gray-text); /* Variable ì ìš© */
            border: none; 
            border-bottom: 1px solid var(--input-border); /* Variable ì ìš© */
            width: 100%; 
            padding: 5px 0; 
            margin-bottom: 5px; 
            outline: none;
            background: transparent; /* ë‹¤í¬ ëª¨ë“œ ì‹œ ë°°ê²½ íˆ¬ëª… */
        }

        /* Status Badge ë§ˆì§„ ê°ì†Œ */
        .status-badge { 
            text-align: center; 
            font-size: 0.85rem; 
            margin-bottom: 3px; 
            font-weight: bold; 
            text-transform: uppercase; 
            letter-spacing: 1px; 
            min-height: 1.2em; 
        }
        
        /* Cycle Visuals (ë ˆì´ì•„ì›ƒ ìˆ˜ì •) */
        .cycle-visuals { 
            display: flex; 
            flex-wrap: wrap;
            justify-content: center; 
            gap: 5px; 
            margin: 5px 0 10px 0; 
            font-size: 1.2rem; 
            min-height: 40px; /* **ì¤‘ìš”: ë‘ ì¤„ì„ ì•ˆì „í•˜ê²Œ ìˆ˜ìš©í•˜ê¸° ìœ„í•´ ìµœì†Œ ë†’ì´ í™•ë³´** */
            height: auto;
            align-content: flex-start;
        }
        
        .cycle-dot {
            text-shadow: 0 0 1px var(--black-bar), 0 0 1px var(--black-bar); /* Variable ì ìš© */
        }
        .cycle-dot.completed { color: var(--gray-text); }
        .cycle-dot.current { color: var(--focus-color); animation: pulse 2s infinite; }
        .cycle-dot.future { color: #dfe6e9; } /* Light-specific, use a dark-mode safe color */
        body.dark-mode .cycle-dot.future { color: #3d3d3d; } /* Dark mode future dot color */
        
        @keyframes pulse {
            0% { opacity: 1; transform: scale(1); }
            50% { opacity: 0.7; transform: scale(1.2); }
            100% { opacity: 1; transform: scale(1); }
        }
        
        .timer-wrapper {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-bottom: 5px;
        }
        
        .total-time-display {
            font-size: 0.8rem; 
            color: var(--gray-text); 
            font-weight: 500;
            text-align: center;
            margin-bottom: -5px; 
            line-height: 1;
            padding-top: 5px;
        }

        .timer-display { 
            font-size: 2.8rem; 
            font-weight: 800; 
            text-align: center; 
            margin: 0; 
            font-variant-numeric: tabular-nums; 
            color: var(--focus-color); 
            transition: color 0.3s; 
            line-height: 1.2;
        }
        .timer-display.break-mode { color: var(--break-color); }
        
        /* Progress Bar */
        .progress-container { 
            margin-bottom: 10px; 
            height: 6px; 
            width: 100%;
            overflow: hidden;
        }
        .progress-bar-bg { 
            position: relative;
            width: 100%; 
            height: 6px; 
            background: var(--black-bar); /* Variable ì ìš© */
            border-radius: 3px;
        }
        .progress-bar-fill { 
            height: 100%; 
            background: var(--focus-color); 
            width: 100%; 
            transition: width 1s linear, background-color 0.3s; 
            border-radius: 3px;
            transform-origin: right; 
        }

        /* Buttons */
        .action-buttons { 
            display: grid; 
            grid-template-columns: 1fr 1fr; 
            gap: 6px; 
            margin-top: 5px; 
            margin-bottom: 10px; 
        }
        .full-width { grid-column: span 2; }
        button { 
            padding: 8px; 
            border: none; 
            border-radius: 8px; 
            font-weight: bold; 
            cursor: pointer; 
            transition: opacity 0.2s; 
            font-size: 0.9rem; 
        }
        button:hover { opacity: 0.9; }
        .btn-start { background-color: var(--focus-color); color: var(--card-bg); } /* Dark/Light color safe */
        .btn-pause { background-color: #f1c40f; color: white; display: none; }
        .btn-pass { background-color: var(--skip-color); color: var(--card-bg); } /* Dark/Light color safe */
        .btn-reset { background-color: #95a5a6; color: var(--card-bg); } /* Dark/Light color safe */


        /* Controls */
        .controls { 
            display: flex; 
            flex-direction: column; 
            gap: 10px; 
            margin-bottom: 0px; 
            background: var(--control-bg); /* Variable ì ìš© */
            padding: 10px; 
            border-radius: 8px; 
            margin-top: auto; 
        }
        .control-group { 
            display: grid; 
            grid-template-columns: 1fr auto; 
            align-items: center; 
            gap: 8px; 
        }
        .control-group label { 
            grid-column: 1 / 2;
            font-size: 0.9rem; 
            color: var(--gray-text); /* Variable ì ìš© */
            justify-self: start;
        }
        .control-group span { 
            grid-column: 2 / 3;
            font-weight: bold;
            font-variant-numeric: tabular-nums;
            width: 30px;
            text-align: right;
            color: var(--text-color); /* Variable ì ìš© */
        }
        input[type=range] { 
            grid-column: 1 / 3;
            width: 100%; 
            cursor: pointer; 
            accent-color: var(--focus-color); 
            margin-top: 3px; 
        }
        
        .toggle-wrapper { 
            display: flex; 
            align-items: center; 
            justify-content: space-between; 
            font-size: 0.9rem; 
            color: var(--gray-text); 
            margin-top: 5px; 
            padding-top: 5px;
            border-top: 1px solid var(--input-border); /* Variable ì ìš© */
        }
        
        /* Checkbox Switch Styling (Optional: For better visual in dark mode) */
        input[type="checkbox"] {
            -webkit-appearance: none;
            appearance: none;
            position: relative;
            cursor: pointer;
            width: 34px;
            height: 18px;
            border-radius: 10px;
            background: #ccc;
            transition: background 0.3s;
        }
        body.dark-mode input[type="checkbox"] {
            background: #666;
        }
        input[type="checkbox"]:checked {
            background: var(--setting-color);
        }
        input[type="checkbox"]::after {
            content: '';
            position: absolute;
            width: 14px;
            height: 14px;
            border-radius: 50%;
            background: white;
            top: 2px;
            left: 2px;
            transition: transform 0.3s, background 0.3s;
        }
        input[type="checkbox"]:checked::after {
            transform: translateX(16px);
        }

        
        .alarm-selector { display: flex; gap: 5px; margin-top: 10px; }
        .alarm-selector button { 
            flex: 1; 
            font-size: 0.8rem; 
            padding: 6px; 
            border: 1px solid var(--gray-text); 
            background: var(--card-bg); 
            color: var(--text-color);
        }
        .alarm-selector button.selected { background: var(--setting-color); color: black; border-color: var(--setting-color); }
        body.dark-mode .alarm-selector button.selected { color: var(--card-bg); } /* ë‹¤í¬ ëª¨ë“œ ì‹œ ì„ íƒëœ ë²„íŠ¼ ê¸€ì”¨ìƒ‰ ë³€ê²½ */
    </style>
</head>
<body>

    <h1>Pomodoro</h1>

    <div class="dashboard" id="dashboard">
    </div>

    <script>
        // --- Global State & Configuration ---
        const audioCtx = new (window.AudioContext || window.webkitAudioContext)();
        let activeSessions = [];
        let globalVolume = 0.5;
        let alarmProfile = 'medium';
        let sessionCount = 5;
        let isDarkMode = false; /* ë‹¤í¬ ëª¨ë“œ ìƒíƒœ ì¶”ê°€ */
        const defaultNames = ['ê¸°íš', 'ê°œë°œ', 'ë””ìì¸', 'ë¬¸ì„œí™”', 'íšŒì˜', 'í•™ìŠµ', 'ìš´ë™', 'ì •ë¦¬', 'ë…ì„œ', 'ê¸°íƒ€'];

        // ===================================
        // ğŸ’¾ LOCAL STORAGE FUNCTIONS
        // ===================================

        function saveGlobalSettings() {
            const settings = {
                sessionCount: sessionCount,
                globalVolume: globalVolume,
                alarmProfile: alarmProfile,
                isDarkMode: isDarkMode /* ë‹¤í¬ ëª¨ë“œ ìƒíƒœ ì €ì¥ */
            };
            try {
                localStorage.setItem('pomodoroGlobalSettings', JSON.stringify(settings));
            } catch (e) {
                console.error("Local storage error during global save:", e);
            }
        }

        function loadGlobalSettings() {
            try {
                const data = localStorage.getItem('pomodoroGlobalSettings');
                if (data) {
                    const settings = JSON.parse(data);
                    sessionCount = settings.sessionCount || 5;
                    globalVolume = settings.globalVolume !== undefined ? settings.globalVolume : 0.5;
                    alarmProfile = settings.alarmProfile || 'medium';
                    isDarkMode = settings.isDarkMode !== undefined ? settings.isDarkMode : false; /* ë‹¤í¬ ëª¨ë“œ ìƒíƒœ ë¡œë“œ */
                }
            } catch (e) {
                console.error("Local storage error during global load:", e);
            }
        }
        
        // ... (ì´í•˜ saveSessionData, loadSessionData í•¨ìˆ˜ëŠ” ì´ì „ê³¼ ë™ì¼í•˜ë©° ìƒëµ)

        function saveSessionData() {
            const sessionData = activeSessions.map(session => ({
                id: session.id,
                name: session.name,
                note: session.note,
                focusTime: session.focusTime,
                breakTime: session.breakTime,
                totalCycles: session.totalCycles,
                autoAdvance: session.autoAdvance
            }));
            try {
                localStorage.setItem('pomodoroSessionData', JSON.stringify(sessionData));
            } catch (e) {
                console.error("Local storage error during session save:", e);
            }
        }

        function loadSessionData() {
            try {
                const data = localStorage.getItem('pomodoroSessionData');
                return data ? JSON.parse(data) : [];
            } catch (e) {
                console.error("Local storage error during session load:", e);
                return [];
            }
        }


        // ===================================
        // ğŸ”Š ALARM & DARK MODE FUNCTIONS
        // ===================================
        
        const createBeep = (startTime, duration, freq, type, vol) => {
            const oscillator = audioCtx.createOscillator();
            const gainNode = audioCtx.createGain();

            oscillator.type = type;
            oscillator.frequency.value = freq;
            gainNode.gain.setValueAtTime(vol, startTime);
            gainNode.gain.exponentialRampToValueAtTime(0.001, startTime + duration);

            oscillator.connect(gainNode);
            gainNode.connect(audioCtx.destination);
            oscillator.start(startTime);
            oscillator.stop(startTime + duration);
        };
        
        function playNotificationSound() {
            if (audioCtx.state === 'suspended') audioCtx.resume();
            const now = audioCtx.currentTime;
            createBeep(now, 0.1, 440, 'sine', 0.15); 
        }

        function playAlarm() {
            if (audioCtx.state === 'suspended') audioCtx.resume();
            const now = audioCtx.currentTime;
            const vol = Math.max(0.01, 1.0 * globalVolume);

            switch(alarmProfile) {
                case 'soft':
                    createBeep(now, 0.2, 440, 'sine', 0.2 * vol); 
                    break;
                case 'medium':
                    createBeep(now, 0.1, 880, 'square', 0.5 * vol);
                    createBeep(now + 0.15, 0.1, 880, 'square', 0.5 * vol);
                    createBeep(now + 0.3, 0.3, 1100, 'square', 0.5 * vol);
                    break;
                case 'loud':
                    createBeep(now, 0.5, 1200, 'sawtooth', 1.0 * vol); 
                    break;
            }
        }
        
        /* ë‹¤í¬ ëª¨ë“œ í† ê¸€ í•¨ìˆ˜ */
        function toggleDarkMode(state) {
            if (state === undefined) {
                isDarkMode = !isDarkMode;
            } else {
                isDarkMode = state;
            }
            document.body.classList.toggle('dark-mode', isDarkMode);
            saveGlobalSettings();
        }

        // ===================================
        // â±ï¸ POMODORO SESSION CLASS
        // ===================================
        
        class PomodoroSession {
            constructor(id, defaultName, loadedData = {}) {
                this.id = id;
                this.name = loadedData.name || defaultName || `Session ${id}`;
                this.note = loadedData.note || '';
                this.state = 'stopped'; 
                this.mode = 'focus'; 
                this.currentCycle = 1;
                this.totalCycles = loadedData.totalCycles || 4;
                this.focusTime = loadedData.focusTime || 25; 
                this.breakTime = loadedData.breakTime || 5;  
                this.autoAdvance = loadedData.autoAdvance || false;
                
                this.timeLeft = this.focusTime * 60;
                this.timerInterval = null;
                this.initialTime = this.focusTime * 60;

                this.render();
                this.attachEvents();
                this.updateDisplay();
                this.renderCycles(); 
                this.updateTotalTimeDisplay(); 
            }
            
            calculateTotalTime() {
                const totalMinutes = (this.focusTime * this.totalCycles) + (this.breakTime * (this.totalCycles > 0 ? this.totalCycles - 1 : 0));
                return totalMinutes;
            }

            updateTotalTimeDisplay() {
                const totalMinutes = this.calculateTotalTime();
                const formattedTime = formatTotalTime(totalMinutes);
                
                const element = document.getElementById(`total-time-${this.id}`);
                if (element) {
                    element.innerText = formattedTime;
                }
            }

            // RENDER ë©”ì„œë“œ (ì´ì „ ë²„ì „ê³¼ ë™ì¼)
            render() {
                const container = document.getElementById('dashboard');
                const html = `
                    <div class="session-card" id="card-${this.id}">
                        <div class="card-header">
                            <input type="text" class="session-name" value="${this.name}">
                            <input type="text" class="session-note" placeholder="ê°„ë‹¨í•œ ë©”ëª¨ (ì˜ˆ: ì§‘ì¤‘ ëª©í‘œ)" value="${this.note}">
                        </div>
                        
                        <div class="status-badge" id="status-${this.id}">Ready</div>
                        <div class="cycle-visuals" id="cycle-visuals-${this.id}"></div>
                        
                        <div class="timer-wrapper">
                            <div class="total-time-display" id="total-time-${this.id}"></div>
                            <div class="timer-display" id="timer-${this.id}">${(this.focusTime).toString().padStart(2, '0')}:00</div>
                        </div>
                        
                        <div class="progress-container">
                            <div class="progress-bar-bg">
                                <div class="progress-bar-fill" id="progress-${this.id}"></div>
                            </div>
                        </div>

                        <div class="action-buttons">
                            <button class="btn-start full-width" id="btn-start-${this.id}">ì‹œì‘</button>
                            <button class="btn-pause full-width" id="btn-pause-${this.id}">ì¼ì‹œì •ì§€</button>
                            
                            <button class="btn-pass" id="btn-pass-${this.id}">PASS â­ï¸</button>
                            <button class="btn-reset" id="btn-reset-${this.id}">ë¦¬ì…‹ â†º</button>
                        </div>
                        
                        <div class="controls">
                            <div class="control-group">
                                <label>ì§‘ì¤‘ ì‹œê°„ (ë¶„)</label>
                                <span id="val-focus-${this.id}">${this.focusTime}</span>
                                <input type="range" id="input-focus-${this.id}" min="1" max="60" value="${this.focusTime}">
                            </div>
                            <div class="control-group">
                                <label>íœ´ì‹ ì‹œê°„ (ë¶„)</label>
                                <span id="val-break-${this.id}">${this.breakTime}</span>
                                <input type="range" id="input-break-${this.id}" min="1" max="10" value="${this.breakTime}">
                            </div>
                            <div class="control-group">
                                <label>ì´ ì‚¬ì´í´ ìˆ˜</label>
                                <span id="val-cycle-${this.id}">${this.totalCycles}</span>
                                <input type="range" id="input-cycle-${this.id}" min="1" max="20" value="${this.totalCycles}">
                            </div>
                            <div class="toggle-wrapper">
                                <span>ìë™ ì§„í–‰ (Auto Advance)</span>
                                <input type="checkbox" id="check-auto-${this.id}" ${this.autoAdvance ? 'checked' : ''}>
                            </div>
                        </div>

                    </div>
                `;
                container.insertAdjacentHTML('beforeend', html);
            }
            
            attachEvents() {
                const updateAndSave = (callback) => (e) => {
                    callback(e);
                    if (['input-focus', 'input-break', 'input-cycle'].some(idPart => e.target.id.includes(idPart))) {
                        this.updateTotalTimeDisplay();
                        playNotificationSound(); 
                    }
                    if (this.state === 'stopped' || e.type === 'change' || e.type === 'input') { 
                        saveSessionData();
                    }
                };
                
                document.getElementById(`card-${this.id}`).querySelector('.session-note').addEventListener('input', updateAndSave((e) => {
                    this.note = e.target.value;
                }));
                
                document.getElementById(`card-${this.id}`).querySelector('.session-name').addEventListener('input', updateAndSave((e) => {
                    this.name = e.target.value;
                }));
                
                document.getElementById(`input-focus-${this.id}`).addEventListener('input', updateAndSave((e) => {
                    this.focusTime = parseInt(e.target.value);
                    document.getElementById(`val-focus-${this.id}`).innerText = this.focusTime;
                    if (this.state === 'stopped' && this.mode === 'focus') this.resetTimer();
                }));
                document.getElementById(`input-break-${this.id}`).addEventListener('input', updateAndSave((e) => {
                    this.breakTime = parseInt(e.target.value);
                    document.getElementById(`val-break-${this.id}`).innerText = this.breakTime;
                    if (this.state === 'stopped' && this.mode === 'break') this.resetTimer();
                }));
                document.getElementById(`input-cycle-${this.id}`).addEventListener('input', updateAndSave((e) => {
                    this.totalCycles = parseInt(e.target.value);
                    document.getElementById(`val-cycle-${this.id}`).innerText = this.totalCycles;
                    this.renderCycles();
                }));
                document.getElementById(`check-auto-${this.id}`).addEventListener('change', updateAndSave((e) => {
                    this.autoAdvance = e.target.checked;
                }));

                // ë²„íŠ¼ ì´ë²¤íŠ¸ (ì•Œë¦¼ìŒ í¬í•¨)
                document.getElementById(`btn-start-${this.id}`).addEventListener('click', () => { 
                    playNotificationSound(); 
                    this.start();
                });
                document.getElementById(`btn-pause-${this.id}`).addEventListener('click', () => { 
                    playNotificationSound(); 
                    this.pause();
                });
                document.getElementById(`btn-reset-${this.id}`).addEventListener('click', () => { 
                    playNotificationSound(); 
                    this.resetTimer();
                });
                document.getElementById(`btn-pass-${this.id}`).addEventListener('click', () => { 
                    playNotificationSound(); 
                    this.skipPhase();
                });
            }

            
            renderCycles() {
                const container = document.getElementById(`cycle-visuals-${this.id}`);
                let html = '';
                const total = this.totalCycles;
                let firstRow, secondRow;

                if (total <= 9) {
                    firstRow = total;
                    secondRow = 0;
                } else {
                    firstRow = Math.min(10, Math.ceil(total / 2)); 
                    secondRow = total - firstRow;
                }

                for (let i = 1; i <= total; i++) {
                    const isCurrent = i === this.currentCycle;
                    const isCompleted = i < this.currentCycle;
                    
                    if (i === firstRow + 1 && secondRow > 0) {
                         html += '<div style="width: 100%; height: 0; margin-bottom: -5px;"></div>';
                    }

                    if (isCompleted) {
                        html += '<span class="cycle-dot completed">â—</span>'; 
                    } else if (isCurrent) {
                        html += `<span class="cycle-dot current">â—‰</span>`;
                    } else {
                        html += '<span class="cycle-dot future">â—‹</span>'; 
                    }
                }
                container.innerHTML = html;
            }
            
            // ... (ì´í•˜ updateDisplay, updateStatus, start, pause, skipPhase, resetTimer, completePhase, toggleInputs ë©”ì„œë“œëŠ” ì´ì „ê³¼ ë™ì¼í•˜ë©° ìƒëµ)
            
            updateDisplay() {
                const minutes = Math.floor(this.timeLeft / 60);
                const seconds = this.timeLeft % 60;
                const display = document.getElementById(`timer-${this.id}`);
                
                display.innerText = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                
                const progress = document.getElementById(`progress-${this.id}`);
                const percent = (this.timeLeft / this.initialTime) * 100;
                progress.style.width = `${percent}%`;

                const card = document.getElementById(`card-${this.id}`);
                if (this.mode === 'focus') {
                    display.classList.remove('break-mode');
                    progress.style.backgroundColor = 'var(--focus-color)';
                    card.style.borderTopColor = 'var(--focus-color)';
                    document.querySelectorAll(`#cycle-visuals-${this.id} .current`).forEach(el => el.style.color = 'var(--focus-color)');
                } else {
                    display.classList.add('break-mode');
                    progress.style.backgroundColor = 'var(--break-color)';
                    card.style.borderTopColor = 'var(--break-color)';
                    document.querySelectorAll(`#cycle-visuals-${this.id} .current`).forEach(el => el.style.color = 'var(--break-color)');
                }
            }

            updateStatus(msg) {
                document.getElementById(`status-${this.id}`).innerText = msg;
            }

            start() {
                if (this.state === 'running') return;
                if (audioCtx.state === 'suspended') audioCtx.resume();
                this.state = 'running';
                document.getElementById(`btn-start-${this.id}`).style.display = 'none';
                document.getElementById(`btn-pause-${this.id}`).style.display = 'block';
                this.toggleInputs(true);
                this.updateStatus(this.mode === 'focus' ? 'ğŸ”¥ ì§‘ì¤‘ ì¤‘...' : 'â˜• íœ´ì‹ ì¤‘...');
                this.renderCycles();
                this.timerInterval = setInterval(() => {
                    if (this.timeLeft > 0) {
                        this.timeLeft--;
                        this.updateDisplay();
                    } else {
                        this.completePhase();
                    }
                }, 1000);
            }

            pause() {
                if (this.state !== 'running') return;
                clearInterval(this.timerInterval);
                this.state = 'paused';
                document.getElementById(`btn-start-${this.id}`).innerText = 'ì¬ê°œ';
                document.getElementById(`btn-start-${this.id}`).style.display = 'block';
                document.getElementById(`btn-pause-${this.id}`).style.display = 'none';
                this.updateStatus('â¸ï¸ ì¼ì‹œì •ì§€');
            }

            skipPhase() {
                clearInterval(this.timerInterval);
                this.completePhase(true);
            }

            resetTimer() {
                clearInterval(this.timerInterval);
                this.state = 'stopped';
                this.mode = 'focus';
                this.currentCycle = 1;
                this.timeLeft = this.focusTime * 60;
                this.initialTime = this.timeLeft;
                document.getElementById(`btn-start-${this.id}`).innerText = 'ì‹œì‘';
                document.getElementById(`btn-start-${this.id}`).style.display = 'block';
                document.getElementById(`btn-pause-${this.id}`).style.display = 'none';
                this.toggleInputs(false);
                this.updateStatus('Ready');
                this.renderCycles();
                this.updateDisplay();
                saveSessionData();
            }

            completePhase(mute = false) {
                clearInterval(this.timerInterval);
                if (!mute) playAlarm(); 

                if (this.mode === 'focus') {
                    this.mode = 'break';
                    this.timeLeft = this.breakTime * 60;
                    this.initialTime = this.timeLeft;
                    this.updateStatus('â˜• íœ´ì‹ ì¤€ë¹„');
                } else {
                    if (this.currentCycle < this.totalCycles) {
                        this.mode = 'focus';
                        this.currentCycle++;
                        this.timeLeft = this.focusTime * 60;
                        this.initialTime = this.timeLeft;
                        this.updateStatus('ğŸ”¥ ì§‘ì¤‘ ì¤€ë¹„');
                    } else {
                        this.resetTimer();
                        this.updateStatus('ğŸ‰ ì „ì²´ ì™„ë£Œ!');
                        if(!mute) playAlarm(); 
                        return;
                    }
                }
                this.renderCycles();
                this.updateDisplay();
                if (this.autoAdvance) {
                    this.state = 'stopped';
                    this.start();
                } else {
                    this.state = 'stopped';
                    document.getElementById(`btn-start-${this.id}`).innerText = 'ë‹¤ìŒ ë‹¨ê³„ ì‹œì‘';
                    document.getElementById(`btn-start-${this.id}`).style.display = 'block';
                    document.getElementById(`btn-pause-${this.id}`).style.display = 'none';
                    this.toggleInputs(false);
                }
            }

            toggleInputs(disabled) {
                document.getElementById(`input-focus-${this.id}`).disabled = disabled;
                document.getElementById(`input-break-${this.id}`).disabled = disabled;
                document.getElementById(`input-cycle-${this.id}`).disabled = disabled;
                document.getElementById(`check-auto-${this.id}`).disabled = disabled;
            }
        }


        // ===================================
        // âš™ï¸ GLOBAL CONTROLLER LOGIC
        // ===================================
        
        const getSettingsCardHTML = () => {
            const currentVolume = Math.round(globalVolume * 100);
            const softSelected = alarmProfile === 'soft' ? 'class="selected"' : '';
            const mediumSelected = alarmProfile === 'medium' ? 'class="selected"' : '';
            const loudSelected = alarmProfile === 'loud' ? 'class="selected"' : '';
            
            return `
                <div class="session-card" id="settings-card">
                    <div class="card-header">
                        <input type="text" class="session-name" value="ì „ì—­ ì„¤ì • (Global Settings)" disabled/>
                        <input type="text" class="session-note" placeholder="ì„¤ì • ì¹´ë“œì—ì„œëŠ” ë©”ëª¨ ë¹„í™œì„±í™”" disabled>
                    </div>
                    
                    <div class="status-badge" style="color: var(--setting-color);">ëŒ€ì‹œë³´ë“œ ê´€ë¦¬</div>
                    <div class="cycle-visuals" style="margin-bottom: 20px;"></div>

                    <div class="timer-wrapper">
                        <div class="total-time-display" style="font-size: 0.9rem; margin-top: 0;">(íƒ€ì´ë¨¸ ê°œìˆ˜ ì¡°ì ˆ)</div>
                        <div class="timer-display" style="font-size: 2.5rem; color: var(--setting-color); margin-top: 5px;">âš™ï¸</div>
                    </div>
                    
                    <div class="progress-container">
                        <div class="progress-bar-bg">
                            <div class="progress-bar-fill" style="width: 100%; background: #ddd;"></div>
                        </div>
                    </div>
                    
                    <div class="action-buttons full-width" style="margin-top: 5px; margin-bottom: 10px;">
                        <button id="alarm-test" style="background-color: var(--setting-color); color: white;" class="full-width">í…ŒìŠ¤íŠ¸ ì•ŒëŒ ì¬ìƒ</button>
                    </div>

                    <div class="controls" style="gap: 15px; margin-top: auto; margin-bottom: 0;">
                        <div class="control-group">
                            <label>ìš´ì˜í•  íƒ€ì´ë¨¸ ê°œìˆ˜ (1~10)</label>
                            <span id="session-count-value">${sessionCount}</span>
                            <input type="range" id="session-count-slider" min="1" max="10" value="${sessionCount}">
                        </div>

                        <div class="control-group">
                            <label>ì•ŒëŒ ë³¼ë¥¨</label>
                            <span id="alarm-volume-value">${currentVolume}%</span>
                            <input type="range" id="alarm-volume-slider" min="0" max="100" value="${currentVolume}">
                        </div>
                        
                        <div style="grid-column: 1 / 3;">
                            <label style="font-size: 0.9rem; color: var(--gray-text);">ì•ŒëŒ ì¢…ë¥˜ ì„ íƒ</label>
                            <div class="alarm-selector">
                                <button id="alarm-soft" data-profile="soft" ${softSelected}>ì‘ì€ ì†Œë¦¬ ğŸ”ˆ</button>
                                <button id="alarm-medium" data-profile="medium" ${mediumSelected}>ì¤‘ê°„ ì†Œë¦¬ ğŸ””</button>
                                <button id="alarm-loud" data-profile="loud" ${loudSelected}>í° ì†Œë¦¬ ğŸ”Š</button>
                            </div>
                        </div>
                        
                        <div class="toggle-wrapper" style="margin-top: 15px;">
                            <span>ë‹¤í¬ ëª¨ë“œ</span>
                            <input type="checkbox" id="dark-mode-toggle" ${isDarkMode ? 'checked' : ''}>
                        </div>
                    </div>
                </div>
            `;
        };

        function attachGlobalListeners() {
            const countSlider = document.getElementById('session-count-slider');
            const countValue = document.getElementById('session-count-value');

            if (!countSlider) return; 

            countSlider.oninput = (e) => {
                countValue.innerText = e.target.value; 
            };
            
            countSlider.onchange = (e) => {
                sessionCount = parseInt(e.target.value);
                playNotificationSound(); 
                saveGlobalSettings(); 
                createSessions(); 
            }

            const volumeSlider = document.getElementById('alarm-volume-slider');
            const volumeValue = document.getElementById('alarm-volume-value');
            
            volumeSlider.oninput = (e) => {
                globalVolume = parseInt(e.target.value) / 100;
                volumeValue.innerText = `${e.target.value}%`;
                saveGlobalSettings(); 
            };
            
            document.querySelectorAll('#settings-card .alarm-selector button[data-profile]').forEach(button => {
                button.onclick = (e) => {
                    alarmProfile = e.target.dataset.profile;
                    playNotificationSound(); 
                    document.querySelectorAll('#settings-card .alarm-selector button').forEach(btn => btn.classList.remove('selected'));
                    e.target.classList.add('selected');
                    saveGlobalSettings(); 
                };
            });
            
            /* ë‹¤í¬ ëª¨ë“œ í† ê¸€ ì´ë²¤íŠ¸ ë¦¬ìŠ¤ë„ˆ */
            document.getElementById('dark-mode-toggle').addEventListener('change', (e) => {
                playNotificationSound();
                toggleDarkMode(e.target.checked);
            });

            document.getElementById('alarm-test').onclick = () => {
                playAlarm();
                playNotificationSound(); 
            }
        }

        function createSessions() {
            activeSessions.forEach(session => {
                clearInterval(session.timerInterval);
            });
            activeSessions = [];
            const dashboard = document.getElementById('dashboard');
            dashboard.innerHTML = ''; 

            const loadedSessions = loadSessionData();
            
            for(let i=1; i<=sessionCount; i++) {
                const loadedData = loadedSessions.find(s => s.id === i) || {};
                const name = defaultNames[i-1] || `ì„¸ì…˜ ${i}`;
                
                const newSession = new PomodoroSession(i, name, loadedData);
                activeSessions.push(newSession);
            }
            
            dashboard.insertAdjacentHTML('beforeend', getSettingsCardHTML());
            
            attachGlobalListeners(); 
        }

        document.addEventListener('DOMContentLoaded', () => {
            loadGlobalSettings(); 
            toggleDarkMode(isDarkMode); /* ë¡œë“œëœ ë‹¤í¬ ëª¨ë“œ ìƒíƒœë¥¼ ì¦‰ì‹œ ì ìš© */
            
            if (audioCtx.state === 'suspended') {
                const resumeAudio = () => {
                    audioCtx.resume();
                    document.body.removeEventListener('touchstart', resumeAudio);
                    document.body.removeEventListener('mousedown', resumeAudio);
                };
                document.body.addEventListener('touchstart', resumeAudio, { once: true });
                document.body.addEventListener('mousedown', resumeAudio, { once: true });
            }
            createSessions(); 
        });

    </script>
</body>
</html>



GeminiëŠ” ì¸ë¬¼ ë“±ì— ê´€í•œ ì •ë³´ ì œê³µ ì‹œ ì‹¤ìˆ˜ë¥¼ í•  ìˆ˜ ìˆìœ¼ë‹ˆ ë‹¤ì‹œ í•œë²ˆ í™•ì¸í•˜ì„¸ìš”. ê°œì¸ ì •ë³´ ë³´í˜¸ ë° Geminiìƒˆ ì°½ì—ì„œ ì—´ê¸°

